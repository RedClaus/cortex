{"version":3,"file":"index-B79QM18y.js","sources":["../../node_modules/react-dom/client.js","../../node_modules/react-error-boundary/dist/react-error-boundary.js","../../node_modules/lucide-react/dist/esm/shared/src/utils.js","../../node_modules/lucide-react/dist/esm/defaultAttributes.js","../../node_modules/lucide-react/dist/esm/Icon.js","../../node_modules/lucide-react/dist/esm/createLucideIcon.js","../../node_modules/lucide-react/dist/esm/icons/activity.js","../../node_modules/lucide-react/dist/esm/icons/arrow-right.js","../../node_modules/lucide-react/dist/esm/icons/book-open.js","../../node_modules/lucide-react/dist/esm/icons/bot.js","../../node_modules/lucide-react/dist/esm/icons/box.js","../../node_modules/lucide-react/dist/esm/icons/brain.js","../../node_modules/lucide-react/dist/esm/icons/bug.js","../../node_modules/lucide-react/dist/esm/icons/calendar.js","../../node_modules/lucide-react/dist/esm/icons/check.js","../../node_modules/lucide-react/dist/esm/icons/chevron-down.js","../../node_modules/lucide-react/dist/esm/icons/chevron-right.js","../../node_modules/lucide-react/dist/esm/icons/chevron-up.js","../../node_modules/lucide-react/dist/esm/icons/circle-alert.js","../../node_modules/lucide-react/dist/esm/icons/circle-check-big.js","../../node_modules/lucide-react/dist/esm/icons/circle-x.js","../../node_modules/lucide-react/dist/esm/icons/clock.js","../../node_modules/lucide-react/dist/esm/icons/compass.js","../../node_modules/lucide-react/dist/esm/icons/copy.js","../../node_modules/lucide-react/dist/esm/icons/database.js","../../node_modules/lucide-react/dist/esm/icons/file-search.js","../../node_modules/lucide-react/dist/esm/icons/file-text.js","../../node_modules/lucide-react/dist/esm/icons/folder-open.js","../../node_modules/lucide-react/dist/esm/icons/folder.js","../../node_modules/lucide-react/dist/esm/icons/graduation-cap.js","../../node_modules/lucide-react/dist/esm/icons/hard-drive.js","../../node_modules/lucide-react/dist/esm/icons/info.js","../../node_modules/lucide-react/dist/esm/icons/layers.js","../../node_modules/lucide-react/dist/esm/icons/layout-dashboard.js","../../node_modules/lucide-react/dist/esm/icons/loader-circle.js","../../node_modules/lucide-react/dist/esm/icons/message-square.js","../../node_modules/lucide-react/dist/esm/icons/moon.js","../../node_modules/lucide-react/dist/esm/icons/palette.js","../../node_modules/lucide-react/dist/esm/icons/panel-left-close.js","../../node_modules/lucide-react/dist/esm/icons/pen.js","../../node_modules/lucide-react/dist/esm/icons/plus.js","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.js","../../node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../node_modules/lucide-react/dist/esm/icons/save.js","../../node_modules/lucide-react/dist/esm/icons/search.js","../../node_modules/lucide-react/dist/esm/icons/send.js","../../node_modules/lucide-react/dist/esm/icons/server.js","../../node_modules/lucide-react/dist/esm/icons/settings.js","../../node_modules/lucide-react/dist/esm/icons/shield.js","../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../node_modules/lucide-react/dist/esm/icons/sun.js","../../node_modules/lucide-react/dist/esm/icons/terminal.js","../../node_modules/lucide-react/dist/esm/icons/trash-2.js","../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../node_modules/lucide-react/dist/esm/icons/type.js","../../node_modules/lucide-react/dist/esm/icons/upload.js","../../node_modules/lucide-react/dist/esm/icons/user.js","../../node_modules/lucide-react/dist/esm/icons/users.js","../../node_modules/lucide-react/dist/esm/icons/x.js","../../node_modules/lucide-react/dist/esm/icons/zap.js","../../src/components/layout/Header.tsx","../../src/components/layout/NavigationRail.tsx","../../src/components/layout/ProjectsSidebar.tsx","../../src/components/layout/Layout.tsx","../../src/api/types.ts","../../src/api/client.ts","../../src/api/hooks.ts","../../src/hooks/useSSE.ts","../../src/hooks/useRealTimeStatus.ts","../../src/components/dashboard/Dashboard.tsx","../../src/hooks/useFacets.ts","../../src/components/facets/FacetEditor.tsx","../../src/components/facets/FacetsPage.tsx","../../src/api/knowledge.ts","../../src/components/knowledge/DocumentCard.tsx","../../src/components/knowledge/IngestionPanel.tsx","../../src/components/knowledge/SearchResults.tsx","../../src/components/knowledge/KnowledgePage.tsx","../../src/components/settings/SettingsSection.tsx","../../src/components/settings/ProviderSettings.tsx","../../src/components/settings/ModelSettings.tsx","../../src/components/settings/ThemeSettings.tsx","../../src/hooks/useVoiceOutput.ts","../../src/hooks/useVoiceInput.ts","../../src/components/voice/VoiceSettings.tsx","../../src/components/settings/SettingsPage.tsx","../../src/api/chat.ts","../../src/components/chat/MessageBubble.tsx","../../src/components/chat/ConversationList.tsx","../../src/components/chat/ModeIndicator.tsx","../../src/components/chat/ModeTransitionToast.tsx","../../src/components/chat/ChatPage.tsx","../../src/api/personas.ts","../../src/hooks/usePersonas.ts","../../src/components/personas/PersonaList.tsx","../../src/components/personas/IdentityTab.tsx","../../src/components/personas/ExpertiseTab.tsx","../../src/components/personas/StyleTab.tsx","../../src/components/personas/ModesTab.tsx","../../src/components/personas/PreviewTab.tsx","../../src/components/personas/PersonaBuilder.tsx","../../src/components/personas/PersonasPage.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","'use client';\nimport { createContext, Component, createElement, useContext, useState, useMemo, forwardRef } from 'react';\n\nconst ErrorBoundaryContext = createContext(null);\n\nconst initialState = {\n  didCatch: false,\n  error: null\n};\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.resetErrorBoundary = this.resetErrorBoundary.bind(this);\n    this.state = initialState;\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      didCatch: true,\n      error\n    };\n  }\n  resetErrorBoundary() {\n    const {\n      error\n    } = this.state;\n    if (error !== null) {\n      var _this$props$onReset, _this$props;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      (_this$props$onReset = (_this$props = this.props).onReset) === null || _this$props$onReset === void 0 ? void 0 : _this$props$onReset.call(_this$props, {\n        args,\n        reason: \"imperative-api\"\n      });\n      this.setState(initialState);\n    }\n  }\n  componentDidCatch(error, info) {\n    var _this$props$onError, _this$props2;\n    (_this$props$onError = (_this$props2 = this.props).onError) === null || _this$props$onError === void 0 ? void 0 : _this$props$onError.call(_this$props2, error, info);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      didCatch\n    } = this.state;\n    const {\n      resetKeys\n    } = this.props;\n\n    // There's an edge case where if the thing that triggered the error happens to *also* be in the resetKeys array,\n    // we'd end up resetting the error boundary immediately.\n    // This would likely trigger a second error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call of cDU after the error is set.\n\n    if (didCatch && prevState.error !== null && hasArrayChanged(prevProps.resetKeys, resetKeys)) {\n      var _this$props$onReset2, _this$props3;\n      (_this$props$onReset2 = (_this$props3 = this.props).onReset) === null || _this$props$onReset2 === void 0 ? void 0 : _this$props$onReset2.call(_this$props3, {\n        next: resetKeys,\n        prev: prevProps.resetKeys,\n        reason: \"keys\"\n      });\n      this.setState(initialState);\n    }\n  }\n  render() {\n    const {\n      children,\n      fallbackRender,\n      FallbackComponent,\n      fallback\n    } = this.props;\n    const {\n      didCatch,\n      error\n    } = this.state;\n    let childToRender = children;\n    if (didCatch) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      };\n      if (typeof fallbackRender === \"function\") {\n        childToRender = fallbackRender(props);\n      } else if (FallbackComponent) {\n        childToRender = createElement(FallbackComponent, props);\n      } else if (fallback !== undefined) {\n        childToRender = fallback;\n      } else {\n        throw error;\n      }\n    }\n    return createElement(ErrorBoundaryContext.Provider, {\n      value: {\n        didCatch,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary\n      }\n    }, childToRender);\n  }\n}\nfunction hasArrayChanged() {\n  let a = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let b = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]));\n}\n\nfunction assertErrorBoundaryContext(value) {\n  if (value == null || typeof value.didCatch !== \"boolean\" || typeof value.resetErrorBoundary !== \"function\") {\n    throw new Error(\"ErrorBoundaryContext not found\");\n  }\n}\n\nfunction useErrorBoundary() {\n  const context = useContext(ErrorBoundaryContext);\n  assertErrorBoundaryContext(context);\n  const [state, setState] = useState({\n    error: null,\n    hasError: false\n  });\n  const memoized = useMemo(() => ({\n    resetBoundary: () => {\n      context.resetErrorBoundary();\n      setState({\n        error: null,\n        hasError: false\n      });\n    },\n    showBoundary: error => setState({\n      error,\n      hasError: true\n    })\n  }), [context.resetErrorBoundary]);\n  if (state.hasError) {\n    throw state.error;\n  }\n  return memoized;\n}\n\nfunction withErrorBoundary(component, errorBoundaryProps) {\n  const Wrapped = forwardRef((props, ref) => createElement(ErrorBoundary, errorBoundaryProps, createElement(component, {\n    ...props,\n    ref\n  })));\n\n  // Format for display in DevTools\n  const name = component.displayName || component.name || \"Unknown\";\n  Wrapped.displayName = \"withErrorBoundary(\".concat(name, \")\");\n  return Wrapped;\n}\n\nexport { ErrorBoundary, ErrorBoundaryContext, useErrorBoundary, withErrorBoundary };\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst toCamelCase = (string) => string.replace(\n  /^([A-Z])|[\\s-_]+(\\w)/g,\n  (match, p1, p2) => p2 ? p2.toUpperCase() : p1.toLowerCase()\n);\nconst toPascalCase = (string) => {\n  const camelCase = toCamelCase(string);\n  return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n};\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index;\n}).join(\" \").trim();\nconst hasA11yProp = (props) => {\n  for (const prop in props) {\n    if (prop.startsWith(\"aria-\") || prop === \"role\" || prop === \"title\") {\n      return true;\n    }\n  }\n};\n\nexport { hasA11yProp, mergeClasses, toCamelCase, toKebabCase, toPascalCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.js';\nimport { mergeClasses, hasA11yProp } from './shared/src/utils.js';\n\nconst Icon = forwardRef(\n  ({\n    color = \"currentColor\",\n    size = 24,\n    strokeWidth = 2,\n    absoluteStrokeWidth,\n    className = \"\",\n    children,\n    iconNode,\n    ...rest\n  }, ref) => createElement(\n    \"svg\",\n    {\n      ref,\n      ...defaultAttributes,\n      width: size,\n      height: size,\n      stroke: color,\n      strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n      className: mergeClasses(\"lucide\", className),\n      ...!children && !hasA11yProp(rest) && { \"aria-hidden\": \"true\" },\n      ...rest\n    },\n    [\n      ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n      ...Array.isArray(children) ? children : [children]\n    ]\n  )\n);\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { forwardRef, createElement } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from './shared/src/utils.js';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ className, ...props }, ref) => createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className\n      ),\n      ...props\n    })\n  );\n  Component.displayName = toPascalCase(iconName);\n  return Component;\n};\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2\",\n      key: \"169zse\"\n    }\n  ]\n];\nconst Activity = createLucideIcon(\"activity\", __iconNode);\n\nexport { __iconNode, Activity as default };\n//# sourceMappingURL=activity.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"m12 5 7 7-7 7\", key: \"xquz4c\" }]\n];\nconst ArrowRight = createLucideIcon(\"arrow-right\", __iconNode);\n\nexport { __iconNode, ArrowRight as default };\n//# sourceMappingURL=arrow-right.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 7v14\", key: \"1akyts\" }],\n  [\n    \"path\",\n    {\n      d: \"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z\",\n      key: \"ruj8y\"\n    }\n  ]\n];\nconst BookOpen = createLucideIcon(\"book-open\", __iconNode);\n\nexport { __iconNode, BookOpen as default };\n//# sourceMappingURL=book-open.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 8V4H8\", key: \"hb8ula\" }],\n  [\"rect\", { width: \"16\", height: \"12\", x: \"4\", y: \"8\", rx: \"2\", key: \"enze0r\" }],\n  [\"path\", { d: \"M2 14h2\", key: \"vft8re\" }],\n  [\"path\", { d: \"M20 14h2\", key: \"4cs60a\" }],\n  [\"path\", { d: \"M15 13v2\", key: \"1xurst\" }],\n  [\"path\", { d: \"M9 13v2\", key: \"rq6x2g\" }]\n];\nconst Bot = createLucideIcon(\"bot\", __iconNode);\n\nexport { __iconNode, Bot as default };\n//# sourceMappingURL=bot.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z\",\n      key: \"hh9hay\"\n    }\n  ],\n  [\"path\", { d: \"m3.3 7 8.7 5 8.7-5\", key: \"g66t2b\" }],\n  [\"path\", { d: \"M12 22V12\", key: \"d0xqtd\" }]\n];\nconst Box = createLucideIcon(\"box\", __iconNode);\n\nexport { __iconNode, Box as default };\n//# sourceMappingURL=box.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 18V5\", key: \"adv99a\" }],\n  [\"path\", { d: \"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4\", key: \"1e3is1\" }],\n  [\"path\", { d: \"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5\", key: \"1gqd8o\" }],\n  [\"path\", { d: \"M17.997 5.125a4 4 0 0 1 2.526 5.77\", key: \"iwvgf7\" }],\n  [\"path\", { d: \"M18 18a4 4 0 0 0 2-7.464\", key: \"efp6ie\" }],\n  [\"path\", { d: \"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517\", key: \"1gq6am\" }],\n  [\"path\", { d: \"M6 18a4 4 0 0 1-2-7.464\", key: \"k1g0md\" }],\n  [\"path\", { d: \"M6.003 5.125a4 4 0 0 0-2.526 5.77\", key: \"q97ue3\" }]\n];\nconst Brain = createLucideIcon(\"brain\", __iconNode);\n\nexport { __iconNode, Brain as default };\n//# sourceMappingURL=brain.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 20v-9\", key: \"1qisl0\" }],\n  [\"path\", { d: \"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z\", key: \"uouzyp\" }],\n  [\"path\", { d: \"M14.12 3.88 16 2\", key: \"qol33r\" }],\n  [\"path\", { d: \"M21 21a4 4 0 0 0-3.81-4\", key: \"1b0z45\" }],\n  [\"path\", { d: \"M21 5a4 4 0 0 1-3.55 3.97\", key: \"5cxbf6\" }],\n  [\"path\", { d: \"M22 13h-4\", key: \"1jl80f\" }],\n  [\"path\", { d: \"M3 21a4 4 0 0 1 3.81-4\", key: \"1fjd4g\" }],\n  [\"path\", { d: \"M3 5a4 4 0 0 0 3.55 3.97\", key: \"1d7oge\" }],\n  [\"path\", { d: \"M6 13H2\", key: \"82j7cp\" }],\n  [\"path\", { d: \"m8 2 1.88 1.88\", key: \"fmnt4t\" }],\n  [\"path\", { d: \"M9 7.13V6a3 3 0 1 1 6 0v1.13\", key: \"1vgav8\" }]\n];\nconst Bug = createLucideIcon(\"bug\", __iconNode);\n\nexport { __iconNode, Bug as default };\n//# sourceMappingURL=bug.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M8 2v4\", key: \"1cmpym\" }],\n  [\"path\", { d: \"M16 2v4\", key: \"4m81vk\" }],\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"4\", rx: \"2\", key: \"1hopcy\" }],\n  [\"path\", { d: \"M3 10h18\", key: \"8toen8\" }]\n];\nconst Calendar = createLucideIcon(\"calendar\", __iconNode);\n\nexport { __iconNode, Calendar as default };\n//# sourceMappingURL=calendar.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]];\nconst Check = createLucideIcon(\"check\", __iconNode);\n\nexport { __iconNode, Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]];\nconst ChevronDown = createLucideIcon(\"chevron-down\", __iconNode);\n\nexport { __iconNode, ChevronDown as default };\n//# sourceMappingURL=chevron-down.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]];\nconst ChevronRight = createLucideIcon(\"chevron-right\", __iconNode);\n\nexport { __iconNode, ChevronRight as default };\n//# sourceMappingURL=chevron-right.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]];\nconst ChevronUp = createLucideIcon(\"chevron-up\", __iconNode);\n\nexport { __iconNode, ChevronUp as default };\n//# sourceMappingURL=chevron-up.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n];\nconst CircleAlert = createLucideIcon(\"circle-alert\", __iconNode);\n\nexport { __iconNode, CircleAlert as default };\n//# sourceMappingURL=circle-alert.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n];\nconst CircleCheckBig = createLucideIcon(\"circle-check-big\", __iconNode);\n\nexport { __iconNode, CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n];\nconst CircleX = createLucideIcon(\"circle-x\", __iconNode);\n\nexport { __iconNode, CircleX as default };\n//# sourceMappingURL=circle-x.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 6v6l4 2\", key: \"mmk7yg\" }],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n];\nconst Clock = createLucideIcon(\"clock\", __iconNode);\n\nexport { __iconNode, Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z\",\n      key: \"9ktpf1\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n];\nconst Compass = createLucideIcon(\"compass\", __iconNode);\n\nexport { __iconNode, Compass as default };\n//# sourceMappingURL=compass.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"14\", height: \"14\", x: \"8\", y: \"8\", rx: \"2\", ry: \"2\", key: \"17jyea\" }],\n  [\"path\", { d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\", key: \"zix9uf\" }]\n];\nconst Copy = createLucideIcon(\"copy\", __iconNode);\n\nexport { __iconNode, Copy as default };\n//# sourceMappingURL=copy.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"ellipse\", { cx: \"12\", cy: \"5\", rx: \"9\", ry: \"3\", key: \"msslwz\" }],\n  [\"path\", { d: \"M3 5V19A9 3 0 0 0 21 19V5\", key: \"1wlel7\" }],\n  [\"path\", { d: \"M3 12A9 3 0 0 0 21 12\", key: \"mv7ke4\" }]\n];\nconst Database = createLucideIcon(\"database\", __iconNode);\n\nexport { __iconNode, Database as default };\n//# sourceMappingURL=database.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z\",\n      key: \"1oefj6\"\n    }\n  ],\n  [\"path\", { d: \"M14 2v5a1 1 0 0 0 1 1h5\", key: \"wfsgrz\" }],\n  [\"circle\", { cx: \"11.5\", cy: \"14.5\", r: \"2.5\", key: \"1bq0ko\" }],\n  [\"path\", { d: \"M13.3 16.3 15 18\", key: \"2quom7\" }]\n];\nconst FileSearch = createLucideIcon(\"file-search\", __iconNode);\n\nexport { __iconNode, FileSearch as default };\n//# sourceMappingURL=file-search.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z\",\n      key: \"1oefj6\"\n    }\n  ],\n  [\"path\", { d: \"M14 2v5a1 1 0 0 0 1 1h5\", key: \"wfsgrz\" }],\n  [\"path\", { d: \"M10 9H8\", key: \"b1mrlr\" }],\n  [\"path\", { d: \"M16 13H8\", key: \"t4e002\" }],\n  [\"path\", { d: \"M16 17H8\", key: \"z1uh3a\" }]\n];\nconst FileText = createLucideIcon(\"file-text\", __iconNode);\n\nexport { __iconNode, FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2\",\n      key: \"usdka0\"\n    }\n  ]\n];\nconst FolderOpen = createLucideIcon(\"folder-open\", __iconNode);\n\nexport { __iconNode, FolderOpen as default };\n//# sourceMappingURL=folder-open.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z\",\n      key: \"1kt360\"\n    }\n  ]\n];\nconst Folder = createLucideIcon(\"folder\", __iconNode);\n\nexport { __iconNode, Folder as default };\n//# sourceMappingURL=folder.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z\",\n      key: \"j76jl0\"\n    }\n  ],\n  [\"path\", { d: \"M22 10v6\", key: \"1lu8f3\" }],\n  [\"path\", { d: \"M6 12.5V16a6 3 0 0 0 12 0v-3.5\", key: \"1r8lef\" }]\n];\nconst GraduationCap = createLucideIcon(\"graduation-cap\", __iconNode);\n\nexport { __iconNode, GraduationCap as default };\n//# sourceMappingURL=graduation-cap.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"22\", x2: \"2\", y1: \"12\", y2: \"12\", key: \"1y58io\" }],\n  [\n    \"path\",\n    {\n      d: \"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z\",\n      key: \"oot6mr\"\n    }\n  ],\n  [\"line\", { x1: \"6\", x2: \"6.01\", y1: \"16\", y2: \"16\", key: \"sgf278\" }],\n  [\"line\", { x1: \"10\", x2: \"10.01\", y1: \"16\", y2: \"16\", key: \"1l4acy\" }]\n];\nconst HardDrive = createLucideIcon(\"hard-drive\", __iconNode);\n\nexport { __iconNode, HardDrive as default };\n//# sourceMappingURL=hard-drive.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 16v-4\", key: \"1dtifu\" }],\n  [\"path\", { d: \"M12 8h.01\", key: \"e9boi3\" }]\n];\nconst Info = createLucideIcon(\"info\", __iconNode);\n\nexport { __iconNode, Info as default };\n//# sourceMappingURL=info.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z\",\n      key: \"zw3jo\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12\",\n      key: \"1wduqc\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17\",\n      key: \"kqbvx6\"\n    }\n  ]\n];\nconst Layers = createLucideIcon(\"layers\", __iconNode);\n\nexport { __iconNode, Layers as default };\n//# sourceMappingURL=layers.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"7\", height: \"9\", x: \"3\", y: \"3\", rx: \"1\", key: \"10lvy0\" }],\n  [\"rect\", { width: \"7\", height: \"5\", x: \"14\", y: \"3\", rx: \"1\", key: \"16une8\" }],\n  [\"rect\", { width: \"7\", height: \"9\", x: \"14\", y: \"12\", rx: \"1\", key: \"1hutg5\" }],\n  [\"rect\", { width: \"7\", height: \"5\", x: \"3\", y: \"16\", rx: \"1\", key: \"ldoo1y\" }]\n];\nconst LayoutDashboard = createLucideIcon(\"layout-dashboard\", __iconNode);\n\nexport { __iconNode, LayoutDashboard as default };\n//# sourceMappingURL=layout-dashboard.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]];\nconst LoaderCircle = createLucideIcon(\"loader-circle\", __iconNode);\n\nexport { __iconNode, LoaderCircle as default };\n//# sourceMappingURL=loader-circle.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z\",\n      key: \"18887p\"\n    }\n  ]\n];\nconst MessageSquare = createLucideIcon(\"message-square\", __iconNode);\n\nexport { __iconNode, MessageSquare as default };\n//# sourceMappingURL=message-square.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401\",\n      key: \"kfwtm\"\n    }\n  ]\n];\nconst Moon = createLucideIcon(\"moon\", __iconNode);\n\nexport { __iconNode, Moon as default };\n//# sourceMappingURL=moon.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z\",\n      key: \"e79jfc\"\n    }\n  ],\n  [\"circle\", { cx: \"13.5\", cy: \"6.5\", r: \".5\", fill: \"currentColor\", key: \"1okk4w\" }],\n  [\"circle\", { cx: \"17.5\", cy: \"10.5\", r: \".5\", fill: \"currentColor\", key: \"f64h9f\" }],\n  [\"circle\", { cx: \"6.5\", cy: \"12.5\", r: \".5\", fill: \"currentColor\", key: \"qy21gx\" }],\n  [\"circle\", { cx: \"8.5\", cy: \"7.5\", r: \".5\", fill: \"currentColor\", key: \"fotxhn\" }]\n];\nconst Palette = createLucideIcon(\"palette\", __iconNode);\n\nexport { __iconNode, Palette as default };\n//# sourceMappingURL=palette.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M9 3v18\", key: \"fh3hqa\" }],\n  [\"path\", { d: \"m16 15-3-3 3-3\", key: \"14y99z\" }]\n];\nconst PanelLeftClose = createLucideIcon(\"panel-left-close\", __iconNode);\n\nexport { __iconNode, PanelLeftClose as default };\n//# sourceMappingURL=panel-left-close.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z\",\n      key: \"1a8usu\"\n    }\n  ]\n];\nconst Pen = createLucideIcon(\"pen\", __iconNode);\n\nexport { __iconNode, Pen as default };\n//# sourceMappingURL=pen.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n];\nconst Plus = createLucideIcon(\"plus\", __iconNode);\n\nexport { __iconNode, Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\"path\", { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n];\nconst RefreshCw = createLucideIcon(\"refresh-cw\", __iconNode);\n\nexport { __iconNode, RefreshCw as default };\n//# sourceMappingURL=refresh-cw.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n];\nconst RotateCcw = createLucideIcon(\"rotate-ccw\", __iconNode);\n\nexport { __iconNode, RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",\n      key: \"1c8476\"\n    }\n  ],\n  [\"path\", { d: \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\", key: \"1ydtos\" }],\n  [\"path\", { d: \"M7 3v4a1 1 0 0 0 1 1h7\", key: \"t51u73\" }]\n];\nconst Save = createLucideIcon(\"save\", __iconNode);\n\nexport { __iconNode, Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m21 21-4.34-4.34\", key: \"14j7rj\" }],\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }]\n];\nconst Search = createLucideIcon(\"search\", __iconNode);\n\nexport { __iconNode, Search as default };\n//# sourceMappingURL=search.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z\",\n      key: \"1ffxy3\"\n    }\n  ],\n  [\"path\", { d: \"m21.854 2.147-10.94 10.939\", key: \"12cjpa\" }]\n];\nconst Send = createLucideIcon(\"send\", __iconNode);\n\nexport { __iconNode, Send as default };\n//# sourceMappingURL=send.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"20\", height: \"8\", x: \"2\", y: \"2\", rx: \"2\", ry: \"2\", key: \"ngkwjq\" }],\n  [\"rect\", { width: \"20\", height: \"8\", x: \"2\", y: \"14\", rx: \"2\", ry: \"2\", key: \"iecqi9\" }],\n  [\"line\", { x1: \"6\", x2: \"6.01\", y1: \"6\", y2: \"6\", key: \"16zg32\" }],\n  [\"line\", { x1: \"6\", x2: \"6.01\", y1: \"18\", y2: \"18\", key: \"nzw8ys\" }]\n];\nconst Server = createLucideIcon(\"server\", __iconNode);\n\nexport { __iconNode, Server as default };\n//# sourceMappingURL=server.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915\",\n      key: \"1i5ecw\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n];\nconst Settings = createLucideIcon(\"settings\", __iconNode);\n\nexport { __iconNode, Settings as default };\n//# sourceMappingURL=settings.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\",\n      key: \"oel41y\"\n    }\n  ]\n];\nconst Shield = createLucideIcon(\"shield\", __iconNode);\n\nexport { __iconNode, Shield as default };\n//# sourceMappingURL=shield.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z\",\n      key: \"1s2grr\"\n    }\n  ],\n  [\"path\", { d: \"M20 2v4\", key: \"1rf3ol\" }],\n  [\"path\", { d: \"M22 4h-4\", key: \"gwowj6\" }],\n  [\"circle\", { cx: \"4\", cy: \"20\", r: \"2\", key: \"6kqj1y\" }]\n];\nconst Sparkles = createLucideIcon(\"sparkles\", __iconNode);\n\nexport { __iconNode, Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"4\", key: \"4exip2\" }],\n  [\"path\", { d: \"M12 2v2\", key: \"tus03m\" }],\n  [\"path\", { d: \"M12 20v2\", key: \"1lh1kg\" }],\n  [\"path\", { d: \"m4.93 4.93 1.41 1.41\", key: \"149t6j\" }],\n  [\"path\", { d: \"m17.66 17.66 1.41 1.41\", key: \"ptbguv\" }],\n  [\"path\", { d: \"M2 12h2\", key: \"1t8f8n\" }],\n  [\"path\", { d: \"M20 12h2\", key: \"1q8mjw\" }],\n  [\"path\", { d: \"m6.34 17.66-1.41 1.41\", key: \"1m8zz5\" }],\n  [\"path\", { d: \"m19.07 4.93-1.41 1.41\", key: \"1shlcs\" }]\n];\nconst Sun = createLucideIcon(\"sun\", __iconNode);\n\nexport { __iconNode, Sun as default };\n//# sourceMappingURL=sun.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 19h8\", key: \"baeox8\" }],\n  [\"path\", { d: \"m4 17 6-6-6-6\", key: \"1yngyt\" }]\n];\nconst Terminal = createLucideIcon(\"terminal\", __iconNode);\n\nexport { __iconNode, Terminal as default };\n//# sourceMappingURL=terminal.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 11v6\", key: \"nco0om\" }],\n  [\"path\", { d: \"M14 11v6\", key: \"outv1u\" }],\n  [\"path\", { d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\", key: \"miytrc\" }],\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\", key: \"e791ji\" }]\n];\nconst Trash2 = createLucideIcon(\"trash-2\", __iconNode);\n\nexport { __iconNode, Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 7h6v6\", key: \"box55l\" }],\n  [\"path\", { d: \"m22 7-8.5 8.5-5-5L2 17\", key: \"1t1m79\" }]\n];\nconst TrendingUp = createLucideIcon(\"trending-up\", __iconNode);\n\nexport { __iconNode, TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 4v16\", key: \"1654pz\" }],\n  [\"path\", { d: \"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2\", key: \"e0r10z\" }],\n  [\"path\", { d: \"M9 20h6\", key: \"s66wpe\" }]\n];\nconst Type = createLucideIcon(\"type\", __iconNode);\n\nexport { __iconNode, Type as default };\n//# sourceMappingURL=type.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 3v12\", key: \"1x0j5s\" }],\n  [\"path\", { d: \"m17 8-5-5-5 5\", key: \"7q97r8\" }],\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }]\n];\nconst Upload = createLucideIcon(\"upload\", __iconNode);\n\nexport { __iconNode, Upload as default };\n//# sourceMappingURL=upload.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\", key: \"975kel\" }],\n  [\"circle\", { cx: \"12\", cy: \"7\", r: \"4\", key: \"17ys0d\" }]\n];\nconst User = createLucideIcon(\"user\", __iconNode);\n\nexport { __iconNode, User as default };\n//# sourceMappingURL=user.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"path\", { d: \"M16 3.128a4 4 0 0 1 0 7.744\", key: \"16gr8j\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }]\n];\nconst Users = createLucideIcon(\"users\", __iconNode);\n\nexport { __iconNode, Users as default };\n//# sourceMappingURL=users.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n];\nconst X = createLucideIcon(\"x\", __iconNode);\n\nexport { __iconNode, X as default };\n//# sourceMappingURL=x.js.map\n","/**\n * @license lucide-react v0.561.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z\",\n      key: \"1xq2db\"\n    }\n  ]\n];\nconst Zap = createLucideIcon(\"zap\", __iconNode);\n\nexport { __iconNode, Zap as default };\n//# sourceMappingURL=zap.js.map\n","/**\n * Header - Prism-style header with logo, project name, and status indicators\n *\n * A 52px header inside the rounded window container.\n * Matches the exact Prism UI design.\n */\nimport React, { useState } from 'react';\nimport {\n  RefreshCw,\n  User,\n  Sun,\n  Moon,\n  Loader2,\n  ChevronDown,\n  GraduationCap,\n  Zap,\n  XCircle,\n  Brain,\n} from 'lucide-react';\n\ninterface HeaderProps {\n  isConnected?: boolean;\n  port?: number;\n}\n\ntype LearningMode = 'active-passive' | 'active-aggressive' | 'disabled';\n\nconst Header: React.FC<HeaderProps> = ({ isConnected = false, port = 7890 }) => {\n  const [isSyncing, setIsSyncing] = useState(false);\n  const [learningMode, setLearningMode] = useState<LearningMode>('active-passive');\n  const [isLearningDropdownOpen, setIsLearningDropdownOpen] = useState(false);\n  const [isDarkMode, setIsDarkMode] = useState(() => {\n    const saved = localStorage.getItem('prism_theme');\n    if (saved) return saved === 'dark';\n    return window.matchMedia('(prefers-color-scheme: dark)').matches;\n  });\n\n  const handleSyncFiles = async () => {\n    setIsSyncing(true);\n    // Simulate sync\n    await new Promise(resolve => setTimeout(resolve, 1000));\n    setIsSyncing(false);\n  };\n\n  const handleToggleTheme = () => {\n    const newMode = !isDarkMode;\n    setIsDarkMode(newMode);\n    localStorage.setItem('prism_theme', newMode ? 'dark' : 'light');\n    document.documentElement.setAttribute('data-theme', newMode ? 'dark' : 'light');\n  };\n\n  return (\n    <header\n      style={{\n        height: '52px',\n        backgroundColor: '#FFFFFF',\n        borderBottom: '1px solid #E5E5E7',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: '0 16px',\n        flexShrink: 0,\n      }}\n    >\n      {/* Left: Logo and Project Name */}\n      <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n        {/* Prism Logo */}\n        <div\n          style={{\n            width: '36px',\n            height: '36px',\n            borderRadius: '8px',\n            background: 'linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            boxShadow: '0 2px 8px rgba(59, 130, 246, 0.3)',\n          }}\n        >\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" strokeWidth=\"2.5\">\n            <path d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\" />\n          </svg>\n        </div>\n        <span style={{ fontWeight: 600, color: '#1D1D1F', fontSize: '16px' }}>Project: Cortex</span>\n\n        {/* Connection Status */}\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '6px',\n            padding: '4px 10px',\n            backgroundColor: isConnected ? 'rgba(34, 197, 94, 0.1)' : 'rgba(239, 68, 68, 0.1)',\n            borderRadius: '20px',\n            border: `1px solid ${isConnected ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)'}`,\n          }}\n        >\n          <div\n            style={{\n              width: '8px',\n              height: '8px',\n              borderRadius: '50%',\n              backgroundColor: isConnected ? '#22C55E' : '#EF4444',\n              boxShadow: isConnected ? '0 0 8px #22C55E' : 'none',\n            }}\n          />\n          <span style={{ fontSize: '12px', fontWeight: 500, color: isConnected ? '#166534' : '#B91C1C' }}>\n            {isConnected ? `Connected :${port}` : 'Disconnected'}\n          </span>\n        </div>\n      </div>\n\n      {/* Right: Actions */}\n      <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n        {/* Learning Status Badge - Interactive Dropdown */}\n        <div style={{ position: 'relative' }}>\n          <div\n            onClick={() => setIsLearningDropdownOpen(!isLearningDropdownOpen)}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              padding: '6px 12px',\n              backgroundColor: learningMode === 'disabled' ? '#F3F4F6' : learningMode === 'active-aggressive' ? '#DCFCE7' : '#FEF3C7',\n              border: `1px solid ${learningMode === 'disabled' ? '#D1D5DB' : learningMode === 'active-aggressive' ? '#86EFAC' : '#FCD34D'}`,\n              borderRadius: '20px',\n              cursor: 'pointer',\n              transition: 'all 0.15s ease',\n            }}\n          >\n            <div\n              style={{\n                width: '8px',\n                height: '8px',\n                borderRadius: '50%',\n                backgroundColor: learningMode === 'disabled' ? '#9CA3AF' : learningMode === 'active-aggressive' ? '#22C55E' : '#F59E0B',\n                animation: learningMode !== 'disabled' ? 'pulse 2s infinite' : 'none',\n              }}\n            />\n            <span style={{\n              fontSize: '13px',\n              fontWeight: 500,\n              color: learningMode === 'disabled' ? '#6B7280' : learningMode === 'active-aggressive' ? '#166534' : '#92400E'\n            }}>\n              {learningMode === 'disabled'\n                ? 'Learning: Disabled'\n                : learningMode === 'active-aggressive'\n                  ? 'Learning: Active'\n                  : 'Learning: Passive'}\n            </span>\n            <ChevronDown\n              size={14}\n              style={{\n                color: learningMode === 'disabled' ? '#9CA3AF' : learningMode === 'active-aggressive' ? '#22C55E' : '#F59E0B',\n                transform: isLearningDropdownOpen ? 'rotate(180deg)' : 'rotate(0deg)',\n                transition: 'transform 0.15s ease',\n              }}\n            />\n          </div>\n\n          {/* Learning Mode Dropdown Menu */}\n          {isLearningDropdownOpen && (\n            <div\n              style={{\n                position: 'absolute',\n                top: 'calc(100% + 8px)',\n                right: 0,\n                minWidth: '280px',\n                backgroundColor: '#FFFFFF',\n                border: '1px solid #E5E5E7',\n                borderRadius: '12px',\n                boxShadow: '0 10px 40px rgba(0, 0, 0, 0.15)',\n                zIndex: 1000,\n                overflow: 'hidden',\n              }}\n            >\n              {/* Header */}\n              <div style={{ padding: '12px 16px', borderBottom: '1px solid #E5E5E7' }}>\n                <div style={{ fontSize: '14px', fontWeight: 600, color: '#1D1D1F' }}>Learning Mode</div>\n                <div style={{ fontSize: '12px', color: '#86868B', marginTop: '2px' }}>\n                  How Cortex learns from your interactions\n                </div>\n              </div>\n\n              {/* Options */}\n              <div style={{ padding: '8px' }}>\n                {/* Passive Mode */}\n                <div\n                  onClick={() => {\n                    setLearningMode('active-passive');\n                    setIsLearningDropdownOpen(false);\n                  }}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'flex-start',\n                    gap: '12px',\n                    padding: '10px 12px',\n                    borderRadius: '8px',\n                    cursor: 'pointer',\n                    backgroundColor: learningMode === 'active-passive' ? '#FEF3C7' : 'transparent',\n                  }}\n                >\n                  <div style={{\n                    width: '32px',\n                    height: '32px',\n                    borderRadius: '8px',\n                    backgroundColor: '#FEF3C7',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    flexShrink: 0,\n                  }}>\n                    <GraduationCap size={16} style={{ color: '#F59E0B' }} />\n                  </div>\n                  <div style={{ flex: 1 }}>\n                    <div style={{ fontSize: '13px', fontWeight: 500, color: '#1D1D1F' }}>\n                      Passive Mode\n                      {learningMode === 'active-passive' && (\n                        <span style={{ marginLeft: '8px', color: '#F59E0B', fontSize: '11px' }}>Active</span>\n                      )}\n                    </div>\n                    <div style={{ fontSize: '12px', color: '#86868B', marginTop: '2px' }}>\n                      Learns quietly in the background\n                    </div>\n                  </div>\n                </div>\n\n                {/* Aggressive Mode */}\n                <div\n                  onClick={() => {\n                    setLearningMode('active-aggressive');\n                    setIsLearningDropdownOpen(false);\n                  }}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'flex-start',\n                    gap: '12px',\n                    padding: '10px 12px',\n                    borderRadius: '8px',\n                    cursor: 'pointer',\n                    backgroundColor: learningMode === 'active-aggressive' ? '#DCFCE7' : 'transparent',\n                  }}\n                >\n                  <div style={{\n                    width: '32px',\n                    height: '32px',\n                    borderRadius: '8px',\n                    backgroundColor: '#DCFCE7',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    flexShrink: 0,\n                  }}>\n                    <Zap size={16} style={{ color: '#22C55E' }} />\n                  </div>\n                  <div style={{ flex: 1 }}>\n                    <div style={{ fontSize: '13px', fontWeight: 500, color: '#1D1D1F' }}>\n                      Active Mode\n                      {learningMode === 'active-aggressive' && (\n                        <span style={{ marginLeft: '8px', color: '#22C55E', fontSize: '11px' }}>Active</span>\n                      )}\n                    </div>\n                    <div style={{ fontSize: '12px', color: '#86868B', marginTop: '2px' }}>\n                      Actively suggests improvements\n                    </div>\n                  </div>\n                </div>\n\n                {/* Disabled */}\n                <div\n                  onClick={() => {\n                    setLearningMode('disabled');\n                    setIsLearningDropdownOpen(false);\n                  }}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'flex-start',\n                    gap: '12px',\n                    padding: '10px 12px',\n                    borderRadius: '8px',\n                    cursor: 'pointer',\n                    backgroundColor: learningMode === 'disabled' ? '#F3F4F6' : 'transparent',\n                  }}\n                >\n                  <div style={{\n                    width: '32px',\n                    height: '32px',\n                    borderRadius: '8px',\n                    backgroundColor: '#F3F4F6',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    flexShrink: 0,\n                  }}>\n                    <XCircle size={16} style={{ color: '#9CA3AF' }} />\n                  </div>\n                  <div style={{ flex: 1 }}>\n                    <div style={{ fontSize: '13px', fontWeight: 500, color: '#1D1D1F' }}>\n                      Disabled\n                      {learningMode === 'disabled' && (\n                        <span style={{ marginLeft: '8px', color: '#9CA3AF', fontSize: '11px' }}>Off</span>\n                      )}\n                    </div>\n                    <div style={{ fontSize: '12px', color: '#86868B', marginTop: '2px' }}>\n                      No learning or pattern extraction\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Footer */}\n              <div style={{\n                padding: '10px 16px',\n                borderTop: '1px solid #E5E5E7',\n                backgroundColor: '#FAFAFA',\n              }}>\n                <div style={{ fontSize: '11px', color: '#86868B', display: 'flex', alignItems: 'center', gap: '4px' }}>\n                  <Brain size={12} />\n                  {learningMode !== 'disabled'\n                    ? 'Cortex is learning from your workflow'\n                    : 'Enable learning to improve AI suggestions'}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Light/Dark Mode Toggle */}\n        <button\n          onClick={handleToggleTheme}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            width: '36px',\n            height: '36px',\n            backgroundColor: isDarkMode ? '#374151' : '#F3F4F6',\n            border: `1px solid ${isDarkMode ? '#4B5563' : '#E5E7EB'}`,\n            borderRadius: '8px',\n            cursor: 'pointer',\n            transition: 'all 0.2s ease',\n          }}\n          title={isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'}\n        >\n          {isDarkMode ? (\n            <Sun size={18} style={{ color: '#FCD34D' }} />\n          ) : (\n            <Moon size={18} style={{ color: '#6B7280' }} />\n          )}\n        </button>\n\n        {/* Sync Files Button */}\n        <button\n          onClick={handleSyncFiles}\n          disabled={isSyncing}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '6px',\n            padding: '8px 16px',\n            backgroundColor: isSyncing ? '#93C5FD' : '#3B82F6',\n            color: '#FFFFFF',\n            fontSize: '14px',\n            fontWeight: 500,\n            borderRadius: '8px',\n            border: 'none',\n            cursor: isSyncing ? 'wait' : 'pointer',\n            opacity: isSyncing ? 0.7 : 1,\n            transition: 'all 0.15s ease',\n          }}\n        >\n          {isSyncing ? (\n            <Loader2 size={14} style={{ animation: 'spin 1s linear infinite' }} />\n          ) : (\n            <RefreshCw size={14} />\n          )}\n          {isSyncing ? 'Syncing...' : 'Sync'}\n        </button>\n\n        {/* User Avatar */}\n        <div style={{ display: 'flex', alignItems: 'center', gap: '8px', padding: '4px 8px', cursor: 'pointer' }}>\n          <div\n            style={{\n              width: '32px',\n              height: '32px',\n              borderRadius: '50%',\n              backgroundColor: '#E5E5E7',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}\n          >\n            <User size={16} style={{ color: '#6B7280' }} />\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","/**\n * NavigationRail - Prism-style icon-only navigation rail\n *\n * A 72px wide vertical icon rail on the left side of the application.\n * Matches the exact Prism UI design.\n */\nimport React from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport {\n  LayoutDashboard,\n  Layers,\n  Brain,\n  Settings,\n  Compass,\n  Sparkles,\n  MessageSquare,\n  Users,\n} from 'lucide-react';\n\ninterface NavRailItem {\n  id: string;\n  icon: React.ElementType;\n  label: string;\n  path: string;\n}\n\ninterface NavigationRailProps {\n  onSettingsClick?: () => void;\n}\n\nconst NavigationRail: React.FC<NavigationRailProps> = ({ onSettingsClick }) => {\n  const location = useLocation();\n\n  const navItems: NavRailItem[] = [\n    { id: 'dashboard', icon: LayoutDashboard, label: 'Dashboard', path: '/' },\n    { id: 'chat', icon: MessageSquare, label: 'Chat', path: '/chat' },\n    { id: 'facets', icon: Layers, label: 'Facets', path: '/facets' },\n    { id: 'personas', icon: Users, label: 'Personas', path: '/personas' },\n    { id: 'knowledge', icon: Brain, label: 'Knowledge', path: '/knowledge' },\n    { id: 'context', icon: Compass, label: 'Context', path: '/context' },\n    { id: 'ai', icon: Sparkles, label: 'AI', path: '/ai' },\n  ];\n\n  const isActive = (path: string) => {\n    if (path === '/') return location.pathname === '/';\n    return location.pathname.startsWith(path);\n  };\n\n  return (\n    <div\n      style={{\n        width: '72px',\n        backgroundColor: '#F0F0F2',\n        borderRight: '1px solid #E5E5E7',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: '12px 0',\n        flexShrink: 0,\n      }}\n    >\n      {/* Nav Items */}\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '2px', width: '100%', padding: '0 8px' }}>\n        {navItems.map((item) => {\n          const active = isActive(item.path);\n          const IconComponent = item.icon;\n          return (\n            <NavLink\n              key={item.id}\n              to={item.path}\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center',\n                padding: '10px 6px',\n                borderRadius: '8px',\n                border: 'none',\n                cursor: 'pointer',\n                transition: 'all 0.15s ease',\n                backgroundColor: active ? '#FFFFFF' : 'transparent',\n                color: active ? '#3B82F6' : '#6B7280',\n                boxShadow: active ? '0 1px 3px rgba(0,0,0,0.1)' : 'none',\n                textDecoration: 'none',\n              }}\n              onMouseEnter={(e) => {\n                if (!active) {\n                  e.currentTarget.style.backgroundColor = 'rgba(255,255,255,0.5)';\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (!active) {\n                  e.currentTarget.style.backgroundColor = 'transparent';\n                }\n              }}\n            >\n              <IconComponent size={20} strokeWidth={active ? 2 : 1.5} />\n              <span style={{ fontSize: '10px', marginTop: '4px', fontWeight: 500 }}>{item.label}</span>\n            </NavLink>\n          );\n        })}\n      </div>\n\n      {/* Settings at bottom */}\n      <div style={{ marginTop: 'auto', width: '100%', padding: '0 8px' }}>\n        <NavLink\n          to=\"/settings\"\n          onClick={(e) => {\n            if (onSettingsClick) {\n              e.preventDefault();\n              onSettingsClick();\n            }\n          }}\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '10px 6px',\n            borderRadius: '8px',\n            border: 'none',\n            cursor: 'pointer',\n            width: '100%',\n            backgroundColor: location.pathname === '/settings' ? '#FFFFFF' : 'transparent',\n            color: location.pathname === '/settings' ? '#3B82F6' : '#6B7280',\n            transition: 'all 0.15s ease',\n            textDecoration: 'none',\n          }}\n          onMouseEnter={(e) => {\n            if (location.pathname !== '/settings') {\n              e.currentTarget.style.backgroundColor = 'rgba(255,255,255,0.5)';\n              e.currentTarget.style.color = '#3B82F6';\n            }\n          }}\n          onMouseLeave={(e) => {\n            if (location.pathname !== '/settings') {\n              e.currentTarget.style.backgroundColor = 'transparent';\n              e.currentTarget.style.color = '#6B7280';\n            }\n          }}\n        >\n          <Settings size={20} strokeWidth={1.5} />\n          <span style={{ fontSize: '10px', marginTop: '4px', fontWeight: 500 }}>Settings</span>\n        </NavLink>\n      </div>\n    </div>\n  );\n};\n\nexport default NavigationRail;\n","/**\n * ProjectsSidebar - Prism-style collapsible projects sidebar\n *\n * A 200px wide collapsible sidebar showing project files, sessions, and flows.\n * Matches the exact Prism UI design.\n */\nimport React, { useState, useCallback } from 'react';\nimport {\n  ChevronDown,\n  ChevronRight,\n  Plus,\n  RefreshCw,\n  PanelLeftClose,\n  Folder,\n  FolderOpen,\n  Terminal,\n  Zap,\n  Loader2,\n} from 'lucide-react';\n\ninterface ProjectsSidebarProps {\n  isCollapsed: boolean;\n  onToggleCollapse: () => void;\n}\n\n// Mock session data for display\ninterface SessionData {\n  id: string;\n  name: string;\n  type: 'terminal' | 'coder' | 'flow';\n  status: 'running' | 'paused' | 'stopped';\n}\n\nconst ProjectsSidebar: React.FC<ProjectsSidebarProps> = ({\n  isCollapsed,\n  onToggleCollapse,\n}) => {\n  const [expandedSections, setExpandedSections] = useState({\n    projects: true,\n    sessions: true,\n    flows: true,\n  });\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  // Mock data - would come from real API in production\n  const [sessions] = useState<SessionData[]>([\n    { id: '1', name: 'Main Terminal', type: 'terminal', status: 'running' },\n    { id: '2', name: 'Build Session', type: 'terminal', status: 'paused' },\n  ]);\n\n  const toggleSection = (section: keyof typeof expandedSections) => {\n    setExpandedSections(prev => ({ ...prev, [section]: !prev[section] }));\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'running': return '#22C55E';\n      case 'paused': return '#F59E0B';\n      case 'stopped': return '#9CA3AF';\n      default: return '#9CA3AF';\n    }\n  };\n\n  const handleRefresh = useCallback(async () => {\n    setIsRefreshing(true);\n    // Simulate refresh\n    await new Promise(resolve => setTimeout(resolve, 500));\n    setIsRefreshing(false);\n  }, []);\n\n  const handleNewSession = useCallback(() => {\n    console.log('[ProjectsSidebar] Creating new session');\n  }, []);\n\n  // Collapsed view\n  if (isCollapsed) {\n    return (\n      <div\n        style={{\n          width: '48px',\n          backgroundColor: '#FFFFFF',\n          borderRight: '1px solid #E5E5E7',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          flexShrink: 0,\n          transition: 'width 0.2s ease',\n        }}\n      >\n        {/* Collapsed Header - just expand button */}\n        <div style={{ padding: '12px 0', borderBottom: '1px solid #F0F0F2', width: '100%', display: 'flex', justifyContent: 'center' }}>\n          <button\n            onClick={onToggleCollapse}\n            style={{\n              background: 'none',\n              border: 'none',\n              padding: '6px',\n              cursor: 'pointer',\n              borderRadius: '6px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}\n            title=\"Expand sidebar\"\n          >\n            <PanelLeftClose size={18} style={{ color: '#6B7280', transform: 'rotate(180deg)' }} />\n          </button>\n        </div>\n        {/* Collapsed icons for quick access */}\n        <div style={{ padding: '8px 0', display: 'flex', flexDirection: 'column', gap: '4px', alignItems: 'center' }}>\n          <button\n            onClick={handleNewSession}\n            style={{\n              background: 'none',\n              border: 'none',\n              padding: '8px',\n              cursor: 'pointer',\n              borderRadius: '6px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}\n            title=\"New session\"\n          >\n            <Plus size={18} style={{ color: '#3B82F6' }} />\n          </button>\n          <button\n            style={{\n              background: 'none',\n              border: 'none',\n              padding: '8px',\n              cursor: 'pointer',\n              borderRadius: '6px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}\n            title=\"Projects\"\n          >\n            <Folder size={18} style={{ color: '#6B7280' }} />\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      style={{\n        width: '200px',\n        backgroundColor: '#FFFFFF',\n        borderRight: '1px solid #E5E5E7',\n        display: 'flex',\n        flexDirection: 'column',\n        flexShrink: 0,\n        transition: 'width 0.2s ease',\n      }}\n    >\n      {/* Projects Header */}\n      <div style={{ padding: '12px', borderBottom: '1px solid #F0F0F2' }}>\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n          <span style={{ fontWeight: 600, color: '#1D1D1F', fontSize: '14px' }}>Projects</span>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n            <button\n              onClick={handleRefresh}\n              style={{\n                background: 'none',\n                border: 'none',\n                padding: '4px',\n                cursor: 'pointer',\n                borderRadius: '4px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n              }}\n              title=\"Refresh\"\n            >\n              {isRefreshing ? (\n                <Loader2 size={14} style={{ color: '#3B82F6', animation: 'spin 1s linear infinite' }} />\n              ) : (\n                <RefreshCw size={14} style={{ color: '#9CA3AF' }} />\n              )}\n            </button>\n            <button\n              onClick={onToggleCollapse}\n              style={{\n                background: 'none',\n                border: 'none',\n                padding: '4px',\n                cursor: 'pointer',\n                borderRadius: '4px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n              }}\n              title=\"Collapse sidebar\"\n            >\n              <PanelLeftClose size={16} style={{ color: '#6B7280' }} />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div style={{ flex: 1, overflowY: 'auto', padding: '8px' }}>\n        {/* Project Root */}\n        <div style={{ marginBottom: '4px' }}>\n          <div\n            onClick={() => toggleSection('projects')}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              padding: '6px 8px',\n              fontSize: '13px',\n              color: '#1D1D1F',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              transition: 'background-color 0.1s ease',\n            }}\n            onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#F3F4F6'}\n            onMouseLeave={(e) => e.currentTarget.style.backgroundColor = 'transparent'}\n          >\n            <div style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\n              {expandedSections.projects ? (\n                <ChevronDown size={14} style={{ color: '#9CA3AF' }} />\n              ) : (\n                <ChevronRight size={14} style={{ color: '#9CA3AF' }} />\n              )}\n              <FolderOpen size={16} style={{ color: '#3B82F6', flexShrink: 0 }} />\n              <span style={{ fontWeight: 600 }}>Cortex/</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Project Files Placeholder */}\n        {expandedSections.projects && (\n          <div style={{ marginLeft: '20px', marginBottom: '12px' }}>\n            <div style={{ padding: '6px 8px', fontSize: '12px', color: '#6B7280' }}>\n              internal/\n            </div>\n            <div style={{ padding: '6px 8px', fontSize: '12px', color: '#6B7280' }}>\n              prism/\n            </div>\n            <div style={{ padding: '6px 8px', fontSize: '12px', color: '#6B7280' }}>\n              cmd/\n            </div>\n          </div>\n        )}\n\n        {/* Sessions Section */}\n        <div style={{ marginBottom: '12px', borderTop: '1px solid #F0F0F2', paddingTop: '12px' }}>\n          <div\n            onClick={() => toggleSection('sessions')}\n            style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '4px 8px', fontSize: '12px', fontWeight: 600, color: '#6B7280', cursor: 'pointer' }}\n          >\n            <span>Sessions ({sessions.length})</span>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n              <button\n                onClick={(e) => { e.stopPropagation(); handleNewSession(); }}\n                style={{ background: 'none', border: 'none', cursor: 'pointer', padding: '2px', color: '#3B82F6' }}\n                title=\"New Session\"\n              >\n                <Plus size={14} />\n              </button>\n              {expandedSections.sessions ? <ChevronDown size={14} /> : <ChevronRight size={14} />}\n            </div>\n          </div>\n          {expandedSections.sessions && (\n            <div style={{ marginTop: '8px', display: 'flex', flexDirection: 'column', gap: '6px' }}>\n              {sessions.map((session) => (\n                <div\n                  key={session.id}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px',\n                    padding: '8px',\n                    backgroundColor: '#FFFFFF',\n                    border: '1px solid #E5E5E7',\n                    borderRadius: '8px',\n                    cursor: 'pointer',\n                    transition: 'all 0.15s ease',\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.borderColor = '#3B82F6';\n                    e.currentTarget.style.backgroundColor = '#EFF6FF';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.borderColor = '#E5E5E7';\n                    e.currentTarget.style.backgroundColor = '#FFFFFF';\n                  }}\n                >\n                  <Terminal size={14} style={{ color: '#6B7280', flexShrink: 0 }} />\n                  <div style={{ flex: 1, minWidth: 0 }}>\n                    <div style={{ fontWeight: 500, color: '#1D1D1F', fontSize: '12px', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>\n                      {session.name}\n                    </div>\n                    <div style={{ fontSize: '10px', color: getStatusColor(session.status), fontWeight: 500 }}>\n                      ({session.status})\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Flows Section */}\n        <div style={{ marginBottom: '12px', borderTop: '1px solid #F0F0F2', paddingTop: '12px' }}>\n          <div\n            onClick={() => toggleSection('flows')}\n            style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '4px 8px', fontSize: '12px', fontWeight: 600, color: '#6B7280', cursor: 'pointer' }}\n          >\n            <span>Flows (0)</span>\n            {expandedSections.flows ? <ChevronDown size={14} /> : <ChevronRight size={14} />}\n          </div>\n          {expandedSections.flows && (\n            <div style={{ marginTop: '8px', padding: '8px', fontSize: '12px', color: '#9CA3AF', textAlign: 'center' }}>\n              <Zap size={16} style={{ marginBottom: '4px', opacity: 0.5 }} />\n              <div>No flows created</div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectsSidebar;\n","/**\n * Layout - Prism-style app layout with gradient background and rounded window\n *\n * 4-panel architecture:\n * 1. NavigationRail (72px) - Icon-only nav\n * 2. ProjectsSidebar (200px, collapsible) - Files/sessions/flows\n * 3. Main Content (flex) - Router outlet\n * 4. Optional right panels\n *\n * Matches the exact Prism UI design with:\n * - Gradient gray background\n * - Centered window with rounded corners\n * - Apple-style shadow and padding\n */\nimport React, { useState, useEffect } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport Header from './Header';\nimport NavigationRail from './NavigationRail';\nimport ProjectsSidebar from './ProjectsSidebar';\n\ninterface LayoutProps {\n  children?: React.ReactNode;\n}\n\nconst Layout: React.FC<LayoutProps> = ({ children }) => {\n  const [isConnected, setIsConnected] = useState(false);\n  const [port] = useState(7890);\n  const [isProjectsSidebarCollapsed, setIsProjectsSidebarCollapsed] = useState(false);\n\n  useEffect(() => {\n    // Check connection status on mount\n    const checkConnection = async () => {\n      try {\n        const response = await fetch('/api/v1/status');\n        setIsConnected(response.ok);\n      } catch {\n        setIsConnected(false);\n      }\n    };\n\n    checkConnection();\n    const interval = setInterval(checkConnection, 10000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    // Outer container - gray gradient background that fills the viewport\n    <div\n      style={{\n        minHeight: '100vh',\n        width: '100%',\n        background: 'linear-gradient(135deg, #E8E8ED 0%, #D1D1D6 50%, #C7C7CC 100%)',\n        padding: '24px',\n        fontFamily: '-apple-system, BlinkMacSystemFont, \"SF Pro Text\", \"Segoe UI\", system-ui, sans-serif',\n        boxSizing: 'border-box',\n      }}\n    >\n      {/* App Window Container - centered with max width, rounded corners, shadow */}\n      <div\n        style={{\n          maxWidth: '1600px',\n          margin: '0 auto',\n          height: 'calc(100vh - 48px)',\n          backgroundColor: '#FFFFFF',\n          borderRadius: '12px',\n          boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(0, 0, 0, 0.05)',\n          overflow: 'hidden',\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n      >\n        {/* Top Header Bar */}\n        <Header isConnected={isConnected} port={port} />\n\n        {/* Main Content Area */}\n        <div style={{ flex: 1, display: 'flex', overflow: 'hidden', backgroundColor: '#F5F5F7' }}>\n          {/* Navigation Rail */}\n          <NavigationRail />\n\n          {/* Projects Sidebar */}\n          <ProjectsSidebar\n            isCollapsed={isProjectsSidebarCollapsed}\n            onToggleCollapse={() => setIsProjectsSidebarCollapsed(!isProjectsSidebarCollapsed)}\n          />\n\n          {/* Main Content */}\n          <main\n            style={{\n              flex: 1,\n              overflowY: 'auto',\n              padding: '24px',\n              backgroundColor: '#F5F5F7',\n            }}\n          >\n            <div className=\"animate-in\">\n              {children || <Outlet />}\n            </div>\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;\n","/**\n * TypeScript types matching the Go backend API.\n * Source: internal/server/types.go\n */\n\n// \n// API RESPONSE TYPES\n// \n\n/**\n * StatusResponse is returned by GET /api/v1/status.\n */\nexport interface StatusResponse {\n  version: string;\n  uptime: string;\n  started_at: string; // ISO 8601 timestamp\n  port: number;\n  dev_mode: boolean;\n  tui_active: boolean;\n  active_facet?: string;\n  providers: ProviderStatus;\n  metrics: SystemMetrics;\n}\n\n/**\n * ProviderStatus indicates which LLM providers are configured.\n */\nexport interface ProviderStatus {\n  ollama: boolean;\n  ollama_url?: string;\n  anthropic: boolean;\n  openai: boolean;\n  gemini: boolean;\n}\n\n/**\n * SystemMetrics contains basic system metrics.\n */\nexport interface SystemMetrics {\n  template_count: number;\n  template_hits: number;\n  local_rate: number; // Percentage using local models (0-100)\n}\n\n// \n// SSE EVENT TYPES\n// \n\n/**\n * SSEEventType identifies server-sent event types.\n */\nexport type SSEEventType = 'status' | 'metrics' | 'template' | 'facet' | 'error';\n\n/**\n * SSEEvent is a server-sent event payload.\n */\nexport interface SSEEvent<T = unknown> {\n  type: SSEEventType;\n  timestamp: string; // ISO 8601 timestamp\n  data: T;\n}\n\n// \n// API ERROR TYPES\n// \n\n/**\n * APIError represents a structured API error response.\n */\nexport interface APIError {\n  code: number;\n  message: string;\n  details?: string;\n}\n\n/**\n * Custom error class for API errors.\n */\nexport class APIErrorException extends Error {\n  constructor(\n    public code: number,\n    message: string,\n    public details?: string\n  ) {\n    super(message);\n    this.name = 'APIErrorException';\n  }\n\n  static fromResponse(error: APIError): APIErrorException {\n    return new APIErrorException(error.code, error.message, error.details);\n  }\n}\n\n// \n// FACET TYPES\n// \n\n/**\n * Facet represents a persona/configuration preset.\n */\nexport interface Facet {\n  id: string;\n  name: string;\n  description?: string;\n  system_prompt?: string;\n  active: boolean;\n  icon?: string;\n  color?: string;\n  created_at: string; // ISO 8601 timestamp\n  updated_at: string; // ISO 8601 timestamp\n}\n\n/**\n * FacetsResponse from GET /api/v1/facets\n */\nexport interface FacetsResponse {\n  facets: Facet[];\n  active_facet?: string;\n}\n\n// \n// KNOWLEDGE TYPES\n// \n\n/**\n * Document represents an ingested knowledge document.\n */\nexport interface Document {\n  id: string;\n  title: string;\n  source: string; // file path or URL\n  type: 'file' | 'directory' | 'url' | 'text';\n  mime_type?: string;\n  chunk_count: number;\n  size_bytes: number;\n  ingested_at: string; // ISO 8601 timestamp\n  last_accessed?: string;\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * DocumentsResponse from GET /api/v1/knowledge/documents\n */\nexport interface DocumentsResponse {\n  documents: Document[];\n  total: number;\n}\n\n/**\n * SearchResult from POST /api/v1/knowledge/search\n */\nexport interface SearchResult {\n  id: string;\n  document_id: string;\n  document_title: string;\n  content: string;\n  score: number;\n  chunk_index: number;\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * SearchResponse from POST /api/v1/knowledge/search\n */\nexport interface SearchResponse {\n  results: SearchResult[];\n  query: string;\n  total: number;\n  elapsed_ms: number;\n}\n\n/**\n * IngestionRequest for POST /api/v1/knowledge/ingest\n */\nexport interface IngestionRequest {\n  source: string;\n  type: 'file' | 'directory' | 'url' | 'text';\n  recursive?: boolean;\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * IngestionResponse from POST /api/v1/knowledge/ingest\n */\nexport interface IngestionResponse {\n  document_id: string;\n  chunks_created: number;\n  status: 'success' | 'partial' | 'failed';\n  error?: string;\n}\n\n// \n// SETTINGS/CONFIG TYPES (Matching Go backend: internal/config/config.go)\n// \n\n/**\n * ProviderConfig contains configuration for a specific LLM provider.\n * Matches: internal/config/config.go ProviderConfig\n */\nexport interface LLMProviderConfig {\n  endpoint?: string; // API endpoint URL (primarily for Ollama)\n  api_key?: string; // Authentication key\n  model?: string; // Default model for this provider\n}\n\n/**\n * LLMConfig contains configuration for Language Model providers.\n * Matches: internal/config/config.go LLMConfig\n */\nexport interface LLMConfig {\n  default_provider: string; // e.g., \"ollama\", \"openai\", \"anthropic\", \"gemini\"\n  providers: Record<string, LLMProviderConfig>; // Map of provider name to config\n}\n\n/**\n * KnowledgeConfig contains configuration for the knowledge management system.\n * Matches: internal/config/config.go KnowledgeConfig\n */\nexport interface KnowledgeConfig {\n  db_path: string; // Path to the SQLite knowledge database\n  default_tier: string; // Default trust tier: \"personal\", \"team\", \"public\"\n  trust_decay_days: number; // Days before trust scores decay\n}\n\n/**\n * SyncConfig contains configuration for cloud synchronization.\n * Matches: internal/config/config.go SyncConfig\n */\nexport interface SyncConfig {\n  enabled: boolean; // Whether sync is active\n  endpoint: string; // Sync server URL\n  interval: string; // Sync interval (e.g., \"5m\", \"1h\")\n  auth_token?: string; // Authentication token\n}\n\n/**\n * TUIConfig contains configuration for the terminal user interface.\n * Matches: internal/config/config.go TUIConfig\n */\nexport interface TUIConfig {\n  theme: string; // UI theme: \"dark\" or \"light\"\n  vim_mode: boolean; // Enable vim-style keybindings\n  sidebar_width: number; // Width of sidebar in characters\n}\n\n/**\n * LoggingConfig contains configuration for application logging.\n * Matches: internal/config/config.go LoggingConfig\n */\nexport interface LoggingConfig {\n  level: string; // Log level: \"debug\", \"info\", \"warn\", \"error\"\n  file: string; // Path to log file\n}\n\n/**\n * CognitiveConfig contains configuration for the Cognitive Architecture.\n * Matches: internal/config/config.go CognitiveConfig\n */\nexport interface CognitiveConfig {\n  enabled: boolean; // Whether cognitive architecture is active\n  ollama_url: string; // URL for Ollama server (embeddings)\n  embedding_model: string; // Model for embeddings (e.g., \"nomic-embed-text\")\n  frontier_model: string; // Model for distillation (e.g., \"claude-sonnet-4-20250514\")\n  similarity_threshold_high: number; // High-confidence threshold (default 0.85)\n  similarity_threshold_medium: number; // Medium-confidence threshold (default 0.70)\n  similarity_threshold_low: number; // Low-confidence threshold (default 0.50)\n  complexity_threshold: number; // Complex task threshold (default 70)\n}\n\n/**\n * VoiceConfig contains configuration for voice input/output features.\n * Browser-based Web Speech API configuration.\n */\nexport interface VoiceConfig {\n  enabled: boolean; // Master toggle for voice features\n  stt_enabled: boolean; // Speech-to-text enabled\n  tts_enabled: boolean; // Text-to-speech enabled\n  tts_voice?: string; // Selected TTS voice name\n  tts_rate: number; // Speech rate (0.1 - 10, default 1)\n  tts_pitch: number; // Speech pitch (0 - 2, default 1)\n  language: string; // Recognition language (e.g., \"en-US\")\n}\n\n/**\n * Config holds all application configuration.\n * Matches: internal/config/config.go Config\n */\nexport interface Config {\n  llm: LLMConfig;\n  knowledge: KnowledgeConfig;\n  sync: SyncConfig;\n  tui: TUIConfig;\n  logging: LoggingConfig;\n  cognitive: CognitiveConfig;\n  voice?: VoiceConfig; // Optional voice configuration\n}\n\n/**\n * ConfigResponse from GET /api/v1/config\n */\nexport interface ConfigResponse extends Config {}\n\n/**\n * ProviderKeyRequest for POST /api/v1/providers/:id/key\n */\nexport interface ProviderKeyRequest {\n  api_key: string;\n}\n\n/**\n * ProviderStatusResponse from GET /api/v1/providers/:id/status\n */\nexport interface ProviderStatusResponse {\n  online: boolean;\n  models?: string[];\n  error?: string;\n}\n\n// \n// CHAT API TYPES\n// \n\n/**\n * ModeTransition represents a mode change event.\n */\nexport interface ModeTransition {\n  from: string;\n  to: string;\n  trigger: string;\n  trigger_type: 'keyword' | 'manual' | 'exit' | 'reset';\n}\n\n/**\n * ModeInfo contains information about the current behavioral mode.\n */\nexport interface ModeInfo {\n  current_mode: string;\n  mode_name: string;\n  mode_description?: string;\n  prompt_augment?: string;\n  transition?: ModeTransition;\n}\n\n/**\n * ChatMessage represents a single message in a conversation.\n */\nexport interface ChatMessage {\n  id: string;\n  role: 'user' | 'assistant' | 'system';\n  content: string;\n  timestamp: string; // ISO 8601 timestamp\n  model?: string; // Model used for assistant responses\n  persona_id?: string; // Facet/Persona used\n  attachments?: ChatAttachment[];\n  routing?: ChatRouting; // Model routing information\n  mode_info?: ModeInfo; // Behavioral mode information\n}\n\n/**\n * ChatAttachment represents a file attached to a message.\n */\nexport interface ChatAttachment {\n  id: string;\n  name: string;\n  type: string; // MIME type\n  size: number;\n  url?: string; // URL to access the file\n}\n\n/**\n * ChatRouting contains model routing decision info.\n */\nexport interface ChatRouting {\n  lane: 'fast' | 'smart'; // Which lane was used\n  model: string; // Actual model used\n  reason: string; // Why this model was chosen\n  latency_ms?: number; // Response latency\n}\n\n/**\n * Conversation represents a chat session.\n */\nexport interface Conversation {\n  id: string;\n  title: string;\n  messages: ChatMessage[];\n  created_at: string;\n  updated_at: string;\n  persona_id?: string;\n}\n\n/**\n * ConversationsResponse from GET /api/v1/chat/conversations\n */\nexport interface ConversationsResponse {\n  conversations: Conversation[];\n  total: number;\n}\n\n/**\n * ChatRequest for POST /api/v1/chat\n */\nexport interface ChatRequest {\n  message: string;\n  conversation_id?: string; // If continuing an existing conversation\n  persona_id?: string; // Facet/Persona to use\n  lane?: 'fast' | 'smart' | 'auto'; // Model selection strategy\n  stream?: boolean; // Request streaming response\n  attachments?: File[]; // Files to attach (FormData)\n}\n\n/**\n * ChatResponse from POST /api/v1/chat (non-streaming)\n */\nexport interface ChatResponse {\n  message: ChatMessage;\n  conversation_id: string;\n  routing: ChatRouting;\n  mode_info?: ModeInfo; // Current mode information\n}\n\n/**\n * ChatStreamChunk represents a chunk in a streaming response.\n * Sent as SSE data.\n */\nexport interface ChatStreamChunk {\n  type: 'start' | 'delta' | 'end' | 'error';\n  content?: string; // Text content (for delta)\n  message_id?: string; // Created message ID (for start)\n  conversation_id?: string; // Conversation ID (for start)\n  routing?: ChatRouting; // Routing info (for start)\n  mode_info?: ModeInfo; // Mode information (for start)\n  error?: string; // Error message (for error)\n  usage?: { // Token usage (for end)\n    prompt_tokens: number;\n    completion_tokens: number;\n    total_tokens: number;\n  };\n}\n","/**\n * Base API client with fetch wrapper.\n * Handles request/response logic, error handling, and base URL configuration.\n */\n\nimport { APIError, APIErrorException } from './types';\n\n// \n// CONFIGURATION\n// \n\n/**\n * Get the API base URL.\n * - In production: Use relative path (same origin as served page)\n * - In development: Use VITE_API_URL env var or default to http://localhost:7890\n */\nfunction getBaseURL(): string {\n  // In production, the API is served from the same origin\n  if (import.meta.env.PROD) {\n    return '';\n  }\n\n  // In development, use env var or default to Cortex's default port\n  return import.meta.env.VITE_API_URL || 'http://localhost:7890';\n}\n\nexport const API_BASE_URL = getBaseURL();\n\n// \n// REQUEST OPTIONS\n// \n\nexport interface RequestOptions extends RequestInit {\n  /**\n   * Query parameters to append to the URL\n   */\n  params?: Record<string, string | number | boolean>;\n}\n\n// \n// FETCH WRAPPER\n// \n\n/**\n * Build URL with query parameters\n */\nfunction buildURL(endpoint: string, params?: Record<string, string | number | boolean>): string {\n  const url = new URL(endpoint, API_BASE_URL || window.location.origin);\n\n  if (params) {\n    Object.entries(params).forEach(([key, value]) => {\n      url.searchParams.append(key, String(value));\n    });\n  }\n\n  return url.toString();\n}\n\n/**\n * Generic fetch wrapper with error handling.\n *\n * @template T - Expected response type\n * @param endpoint - API endpoint (e.g., '/api/v1/status')\n * @param options - Fetch options with optional query params\n * @returns Parsed JSON response\n * @throws APIErrorException on HTTP errors or network failures\n */\nexport async function apiFetch<T>(\n  endpoint: string,\n  options: RequestOptions = {}\n): Promise<T> {\n  const { params, ...fetchOptions } = options;\n\n  // Build URL with query parameters\n  const url = buildURL(endpoint, params);\n\n  // Set default headers\n  const headers = new Headers(fetchOptions.headers);\n  if (!headers.has('Content-Type') && fetchOptions.body) {\n    headers.set('Content-Type', 'application/json');\n  }\n\n  try {\n    const response = await fetch(url, {\n      ...fetchOptions,\n      headers,\n    });\n\n    // Handle non-OK responses\n    if (!response.ok) {\n      // Try to parse error as APIError\n      let error: APIError;\n      try {\n        error = await response.json() as APIError;\n      } catch {\n        // Fallback if response is not JSON\n        error = {\n          code: response.status,\n          message: response.statusText || 'Request failed',\n        };\n      }\n\n      throw APIErrorException.fromResponse(error);\n    }\n\n    // Parse successful response\n    // Handle empty responses (204 No Content)\n    if (response.status === 204) {\n      return undefined as T;\n    }\n\n    return await response.json() as T;\n  } catch (error) {\n    // Re-throw APIErrorException as-is\n    if (error instanceof APIErrorException) {\n      throw error;\n    }\n\n    // Wrap network errors\n    throw new APIErrorException(\n      0,\n      'Network error',\n      error instanceof Error ? error.message : 'Unknown error'\n    );\n  }\n}\n\n// \n// CONVENIENCE METHODS\n// \n\n/**\n * Perform a GET request\n */\nexport function apiGet<T>(endpoint: string, options?: RequestOptions): Promise<T> {\n  return apiFetch<T>(endpoint, {\n    ...options,\n    method: 'GET',\n  });\n}\n\n/**\n * Perform a POST request\n */\nexport function apiPost<T>(\n  endpoint: string,\n  body?: unknown,\n  options?: RequestOptions\n): Promise<T> {\n  return apiFetch<T>(endpoint, {\n    ...options,\n    method: 'POST',\n    body: body ? JSON.stringify(body) : undefined,\n  });\n}\n\n/**\n * Perform a PUT request\n */\nexport function apiPut<T>(\n  endpoint: string,\n  body?: unknown,\n  options?: RequestOptions\n): Promise<T> {\n  return apiFetch<T>(endpoint, {\n    ...options,\n    method: 'PUT',\n    body: body ? JSON.stringify(body) : undefined,\n  });\n}\n\n/**\n * Perform a DELETE request\n */\nexport function apiDelete<T>(endpoint: string, options?: RequestOptions): Promise<T> {\n  return apiFetch<T>(endpoint, {\n    ...options,\n    method: 'DELETE',\n  });\n}\n\n/**\n * Perform a PATCH request\n */\nexport function apiPatch<T>(\n  endpoint: string,\n  body?: unknown,\n  options?: RequestOptions\n): Promise<T> {\n  return apiFetch<T>(endpoint, {\n    ...options,\n    method: 'PATCH',\n    body: body ? JSON.stringify(body) : undefined,\n  });\n}\n\n// \n// API ENDPOINTS\n// \n\n/**\n * API endpoint constants\n */\nexport const API_ENDPOINTS = {\n  STATUS: '/api/v1/status',\n  HEALTH: '/health',\n  EVENTS: '/api/v1/events',\n} as const;\n","/**\n * React Query hooks for API endpoints.\n * Provides typed, cached access to backend data with automatic refetching.\n */\n\nimport { useQuery, type UseQueryResult } from '@tanstack/react-query';\nimport { apiGet, API_ENDPOINTS } from './client';\nimport type { StatusResponse, ProviderStatus, SystemMetrics } from './types';\n\n// \n// QUERY KEYS\n// \n\n/**\n * Query key factory for type-safe cache management.\n * Follows React Query best practices for hierarchical keys.\n */\nexport const queryKeys = {\n  status: ['status'] as const,\n  health: ['health'] as const,\n  providers: ['providers'] as const,\n  metrics: ['metrics'] as const,\n} as const;\n\n// \n// STATUS HOOKS\n// \n\n/**\n * Fetch system status from GET /api/v1/status.\n *\n * Returns comprehensive system information including version, uptime,\n * provider status, and metrics.\n *\n * @param options - React Query options\n * @returns Query result with StatusResponse data\n *\n * @example\n * ```tsx\n * const { data, isLoading, error } = useStatus();\n *\n * if (isLoading) return <Spinner />;\n * if (error) return <Error message={error.message} />;\n *\n * return (\n *   <div>\n *     <h1>Version: {data.version}</h1>\n *     <p>Uptime: {data.uptime}</p>\n *   </div>\n * );\n * ```\n */\nexport function useStatus(\n  options?: {\n    refetchInterval?: number;\n    enabled?: boolean;\n  }\n): UseQueryResult<StatusResponse, Error> {\n  return useQuery({\n    queryKey: queryKeys.status,\n    queryFn: () => apiGet<StatusResponse>(API_ENDPOINTS.STATUS),\n    // Refetch every 5 seconds by default to keep status fresh\n    refetchInterval: options?.refetchInterval ?? 5000,\n    enabled: options?.enabled,\n    // Keep data fresh but don't show loading state on background refetches\n    staleTime: 3000,\n  });\n}\n\n// \n// DERIVED DATA HOOKS\n// \n\n/**\n * Get provider status derived from system status.\n *\n * This hook reuses the status query data, avoiding duplicate requests.\n *\n * @returns Provider status or undefined\n *\n * @example\n * ```tsx\n * const providers = useProviders();\n *\n * return (\n *   <div>\n *     <StatusBadge active={providers?.ollama} label=\"Ollama\" />\n *     <StatusBadge active={providers?.anthropic} label=\"Anthropic\" />\n *   </div>\n * );\n * ```\n */\nexport function useProviders(\n  options?: {\n    refetchInterval?: number;\n    enabled?: boolean;\n  }\n): ProviderStatus | undefined {\n  const { data } = useStatus(options);\n  return data?.providers;\n}\n\n/**\n * Get system metrics derived from system status.\n *\n * This hook reuses the status query data, avoiding duplicate requests.\n *\n * @returns System metrics or undefined\n *\n * @example\n * ```tsx\n * const metrics = useMetrics();\n *\n * return (\n *   <div>\n *     <Stat label=\"Templates\" value={metrics?.template_count} />\n *     <Stat label=\"Hits\" value={metrics?.template_hits} />\n *     <Stat label=\"Local Usage\" value={`${metrics?.local_rate}%`} />\n *   </div>\n * );\n * ```\n */\nexport function useMetrics(\n  options?: {\n    refetchInterval?: number;\n    enabled?: boolean;\n  }\n): SystemMetrics | undefined {\n  const { data } = useStatus(options);\n  return data?.metrics;\n}\n\n// \n// HEALTH CHECK HOOK\n// \n\n/**\n * Health check response type (simple OK string)\n */\nexport interface HealthResponse {\n  status: 'ok';\n}\n\n/**\n * Fetch health check from GET /health.\n *\n * Lightweight endpoint for connectivity checks.\n *\n * @param options - React Query options\n * @returns Query result with HealthResponse data\n *\n * @example\n * ```tsx\n * const { data, isError } = useHealth();\n *\n * return <ConnectionIndicator connected={!isError} />;\n * ```\n */\nexport function useHealth(\n  options?: {\n    refetchInterval?: number;\n    enabled?: boolean;\n  }\n): UseQueryResult<HealthResponse, Error> {\n  return useQuery({\n    queryKey: queryKeys.health,\n    queryFn: async () => {\n      // Health endpoint returns plain text \"OK\", wrap in object\n      const response = await fetch(\n        `${import.meta.env.VITE_API_URL || 'http://localhost:7890'}/health`\n      );\n      if (!response.ok) {\n        throw new Error('Health check failed');\n      }\n      return { status: 'ok' as const };\n    },\n    // Check health less frequently than status\n    refetchInterval: options?.refetchInterval ?? 10000,\n    enabled: options?.enabled,\n    retry: 1, // Only retry once for health checks\n    staleTime: 8000,\n  });\n}\n\n// \n// HELPER HOOKS\n// \n\n/**\n * Check if any LLM provider is configured.\n *\n * Useful for showing setup prompts or provider configuration UI.\n *\n * @returns Boolean indicating if at least one provider is available\n *\n * @example\n * ```tsx\n * const hasProviders = useHasProviders();\n *\n * if (!hasProviders) {\n *   return <SetupPrompt />;\n * }\n * ```\n */\nexport function useHasProviders(): boolean {\n  const providers = useProviders();\n\n  if (!providers) return false;\n\n  return (\n    providers.ollama ||\n    providers.anthropic ||\n    providers.openai ||\n    providers.gemini\n  );\n}\n\n/**\n * Check if the server is in development mode.\n *\n * @returns Boolean indicating dev mode status\n *\n * @example\n * ```tsx\n * const isDevMode = useIsDevMode();\n *\n * return isDevMode && <DevToolbar />;\n * ```\n */\nexport function useIsDevMode(): boolean {\n  const { data: status } = useStatus();\n  return status?.dev_mode ?? false;\n}\n\n/**\n * Get the currently active facet ID.\n *\n * @returns Active facet ID or undefined\n *\n * @example\n * ```tsx\n * const activeFacet = useActiveFacet();\n *\n * return <FacetDisplay facetId={activeFacet} />;\n * ```\n */\nexport function useActiveFacet(): string | undefined {\n  const { data: status } = useStatus();\n  return status?.active_facet;\n}\n","import { useEffect, useRef, useState, useCallback } from 'react';\nimport type { SSEEvent, SSEEventType } from '@/api/types';\n\n/**\n * Connection states\n */\nexport type ConnectionStatus = 'connecting' | 'connected' | 'disconnected' | 'error';\n\n/**\n * Hook configuration\n */\nexport interface UseSSEOptions {\n  /** Base API URL (defaults to window.location.origin) */\n  baseUrl?: string;\n  /** Enable auto-reconnect on disconnect */\n  autoReconnect?: boolean;\n  /** Initial reconnect delay in ms */\n  reconnectDelay?: number;\n  /** Maximum reconnect delay in ms */\n  maxReconnectDelay?: number;\n  /** Backoff multiplier for reconnect delays */\n  backoffMultiplier?: number;\n  /** Maximum number of reconnect attempts (0 = unlimited) */\n  maxReconnectAttempts?: number;\n  /** Custom event filter */\n  eventFilter?: (event: SSEEvent) => boolean;\n}\n\n/**\n * Hook return value\n */\nexport interface UseSSEReturn {\n  /** Current connection status */\n  status: ConnectionStatus;\n  /** Latest event received */\n  lastEvent: SSEEvent | null;\n  /** All events received (if history is enabled) */\n  events: SSEEvent[];\n  /** Error if status is 'error' */\n  error: Error | null;\n  /** Number of reconnect attempts */\n  reconnectAttempts: number;\n  /** Manually reconnect */\n  reconnect: () => void;\n  /** Manually disconnect */\n  disconnect: () => void;\n}\n\nconst DEFAULT_OPTIONS: Required<UseSSEOptions> = {\n  baseUrl: '',\n  autoReconnect: true,\n  reconnectDelay: 1000,\n  maxReconnectDelay: 30000,\n  backoffMultiplier: 1.5,\n  maxReconnectAttempts: 0,\n  eventFilter: () => true,\n};\n\n/**\n * Custom hook for Server-Sent Events with auto-reconnect and backoff\n *\n * @example\n * ```typescript\n * const { status, lastEvent, events } = useSSE({\n *   autoReconnect: true,\n *   eventFilter: (event) => event.type === 'status'\n * });\n * ```\n */\nexport function useSSE(options: UseSSEOptions = {}): UseSSEReturn {\n  const opts = { ...DEFAULT_OPTIONS, ...options };\n  const baseUrl = opts.baseUrl || (typeof window !== 'undefined' ? window.location.origin : '');\n\n  // State\n  const [status, setStatus] = useState<ConnectionStatus>('disconnected');\n  const [lastEvent, setLastEvent] = useState<SSEEvent | null>(null);\n  const [events, setEvents] = useState<SSEEvent[]>([]);\n  const [error, setError] = useState<Error | null>(null);\n  const [reconnectAttempts, setReconnectAttempts] = useState(0);\n\n  // Refs for cleanup and reconnection logic\n  const eventSourceRef = useRef<EventSource | null>(null);\n  const reconnectTimeoutRef = useRef<number | null>(null);\n  const currentDelayRef = useRef(opts.reconnectDelay);\n  const isManualDisconnectRef = useRef(false);\n\n  /**\n   * Calculate next reconnect delay with exponential backoff\n   */\n  const getNextDelay = useCallback((): number => {\n    const nextDelay = Math.min(\n      currentDelayRef.current * opts.backoffMultiplier,\n      opts.maxReconnectDelay\n    );\n    currentDelayRef.current = nextDelay;\n    return nextDelay;\n  }, [opts.backoffMultiplier, opts.maxReconnectDelay]);\n\n  /**\n   * Reset reconnect delay to initial value\n   */\n  const resetDelay = useCallback((): void => {\n    currentDelayRef.current = opts.reconnectDelay;\n  }, [opts.reconnectDelay]);\n\n  /**\n   * Clean up existing EventSource and timeouts\n   */\n  const cleanup = useCallback((): void => {\n    if (eventSourceRef.current) {\n      eventSourceRef.current.close();\n      eventSourceRef.current = null;\n    }\n    if (reconnectTimeoutRef.current !== null) {\n      window.clearTimeout(reconnectTimeoutRef.current);\n      reconnectTimeoutRef.current = null;\n    }\n  }, []);\n\n  /**\n   * Connect to SSE endpoint\n   */\n  const connect = useCallback((): void => {\n    cleanup();\n\n    setStatus('connecting');\n    setError(null);\n\n    const url = `${baseUrl}/api/v1/events`;\n    const eventSource = new EventSource(url);\n    eventSourceRef.current = eventSource;\n\n    // Handle connection open\n    eventSource.onopen = () => {\n      setStatus('connected');\n      setReconnectAttempts(0);\n      resetDelay();\n    };\n\n    // Handle generic messages (fallback)\n    eventSource.onmessage = (messageEvent) => {\n      try {\n        const event: SSEEvent = JSON.parse(messageEvent.data);\n\n        // Apply filter if provided\n        if (!opts.eventFilter(event)) {\n          return;\n        }\n\n        setLastEvent(event);\n        setEvents((prev) => [...prev, event]);\n      } catch (err) {\n        console.error('[useSSE] Failed to parse SSE message:', err);\n      }\n    };\n\n    // Handle specific event types\n    const eventTypes: SSEEventType[] = ['status', 'metrics', 'template', 'facet', 'error'];\n    eventTypes.forEach((type) => {\n      eventSource.addEventListener(type, (messageEvent) => {\n        try {\n          const rawData = (messageEvent as MessageEvent).data;\n          const event: SSEEvent = {\n            type,\n            timestamp: new Date().toISOString(),\n            data: JSON.parse(rawData),\n          };\n\n          // Apply filter if provided\n          if (!opts.eventFilter(event)) {\n            return;\n          }\n\n          setLastEvent(event);\n          setEvents((prev) => [...prev, event]);\n        } catch (err) {\n          console.error(`[useSSE] Failed to parse ${type} event:`, err);\n        }\n      });\n    });\n\n    // Handle errors\n    eventSource.onerror = () => {\n      const err = new Error('SSE connection error');\n      setError(err);\n      setStatus('error');\n      cleanup();\n\n      // Auto-reconnect if enabled and not manually disconnected\n      if (opts.autoReconnect && !isManualDisconnectRef.current) {\n        const shouldReconnect =\n          opts.maxReconnectAttempts === 0 ||\n          reconnectAttempts < opts.maxReconnectAttempts;\n\n        if (shouldReconnect) {\n          const delay = getNextDelay();\n          setStatus('disconnected');\n          setReconnectAttempts((prev) => prev + 1);\n\n          reconnectTimeoutRef.current = window.setTimeout(() => {\n            connect();\n          }, delay);\n        } else {\n          setStatus('error');\n        }\n      } else {\n        setStatus('disconnected');\n      }\n    };\n  }, [\n    baseUrl,\n    cleanup,\n    getNextDelay,\n    opts.autoReconnect,\n    opts.eventFilter,\n    opts.maxReconnectAttempts,\n    reconnectAttempts,\n    resetDelay,\n  ]);\n\n  /**\n   * Manually reconnect\n   */\n  const reconnect = useCallback((): void => {\n    isManualDisconnectRef.current = false;\n    setReconnectAttempts(0);\n    resetDelay();\n    connect();\n  }, [connect, resetDelay]);\n\n  /**\n   * Manually disconnect\n   */\n  const disconnect = useCallback((): void => {\n    isManualDisconnectRef.current = true;\n    cleanup();\n    setStatus('disconnected');\n    setReconnectAttempts(0);\n    resetDelay();\n  }, [cleanup, resetDelay]);\n\n  // Auto-connect on mount\n  useEffect(() => {\n    isManualDisconnectRef.current = false;\n    connect();\n\n    // Cleanup on unmount\n    return () => {\n      isManualDisconnectRef.current = true;\n      cleanup();\n    };\n  }, [connect, cleanup]);\n\n  return {\n    status,\n    lastEvent,\n    events,\n    error,\n    reconnectAttempts,\n    reconnect,\n    disconnect,\n  };\n}\n","import { useEffect, useState, useCallback } from 'react';\nimport { useQueryClient } from '@tanstack/react-query';\nimport { useStatus, queryKeys } from '@/api/hooks';\nimport { useSSE } from './useSSE';\nimport type { StatusResponse, SystemMetrics } from '@/api/types';\n\n/**\n * Real-time status data combining initial fetch with SSE updates\n */\nexport interface RealTimeStatus extends StatusResponse {\n  /** Whether SSE connection is active */\n  isConnected: boolean;\n  /** Number of SSE reconnection attempts */\n  reconnectAttempts: number;\n  /** Manually reconnect SSE */\n  reconnect: () => void;\n  /** Manually disconnect SSE */\n  disconnect: () => void;\n}\n\n/**\n * Hook return value\n */\nexport interface UseRealTimeStatusReturn {\n  /** Current status data (initial + SSE updates) */\n  status: RealTimeStatus | undefined;\n  /** Loading state from initial query */\n  isLoading: boolean;\n  /** Error from initial query or SSE */\n  error: Error | null;\n  /** Whether data is stale */\n  isStale: boolean;\n  /** Refetch status from API */\n  refetch: () => void;\n}\n\n/**\n * Combines React Query status with SSE updates for real-time status\n *\n * This hook:\n * 1. Fetches initial status via useStatus() (React Query)\n * 2. Connects to SSE endpoint for live updates\n * 3. Merges SSE updates into cached status\n * 4. Returns combined real-time status\n *\n * @example\n * ```typescript\n * const { status, isLoading, isConnected } = useRealTimeStatus();\n *\n * if (isLoading) return <Spinner />;\n * if (!status) return <Error />;\n *\n * return (\n *   <div>\n *     <p>Version: {status.version}</p>\n *     <p>Uptime: {status.uptime}</p>\n *     <p>SSE: {status.isConnected ? 'Connected' : 'Disconnected'}</p>\n *   </div>\n * );\n * ```\n */\nexport function useRealTimeStatus(): UseRealTimeStatusReturn {\n  const queryClient = useQueryClient();\n\n  // Fetch initial status via React Query\n  const {\n    data: initialStatus,\n    isLoading,\n    error: queryError,\n    isStale,\n    refetch,\n  } = useStatus();\n\n  // Connect to SSE for real-time updates\n  const {\n    status: connectionStatus,\n    lastEvent,\n    error: sseError,\n    reconnectAttempts,\n    reconnect,\n    disconnect,\n  } = useSSE({\n    autoReconnect: true,\n    reconnectDelay: 1000,\n    maxReconnectDelay: 30000,\n    backoffMultiplier: 1.5,\n    // Only process status, metrics events (ignore template, facet, error for now)\n    eventFilter: (event) => event.type === 'status' || event.type === 'metrics',\n  });\n\n  // Local state for merged status\n  const [mergedStatus, setMergedStatus] = useState<StatusResponse | undefined>(initialStatus);\n\n  /**\n   * Update React Query cache and local state with SSE data\n   */\n  const updateStatus = useCallback(\n    (updates: Partial<StatusResponse>): void => {\n      queryClient.setQueryData(queryKeys.status, (old: StatusResponse | undefined) => {\n        if (!old) return old;\n        const updated = { ...old, ...updates };\n        setMergedStatus(updated);\n        return updated;\n      });\n    },\n    [queryClient]\n  );\n\n  /**\n   * Handle SSE events and merge into status\n   */\n  useEffect(() => {\n    if (!lastEvent) return;\n\n    switch (lastEvent.type) {\n      case 'status': {\n        // Full status update\n        const statusUpdate = lastEvent.data as Partial<StatusResponse>;\n        updateStatus(statusUpdate);\n        break;\n      }\n\n      case 'metrics': {\n        // Partial metrics update\n        const metricsUpdate = lastEvent.data as Partial<SystemMetrics>;\n        updateStatus({\n          metrics: {\n            ...(mergedStatus?.metrics || {\n              template_count: 0,\n              template_hits: 0,\n              local_rate: 0,\n            }),\n            ...metricsUpdate,\n          },\n        });\n        break;\n      }\n\n      case 'template':\n      case 'facet':\n        // These will be handled in Sprint 3\n        break;\n\n      case 'error':\n        console.error('[useRealTimeStatus] SSE error event:', lastEvent.data);\n        break;\n    }\n  }, [lastEvent, mergedStatus?.metrics, updateStatus]);\n\n  /**\n   * Sync initial status to merged status\n   */\n  useEffect(() => {\n    if (initialStatus) {\n      setMergedStatus(initialStatus);\n    }\n  }, [initialStatus]);\n\n  // Build real-time status object\n  const status: RealTimeStatus | undefined = mergedStatus\n    ? {\n        ...mergedStatus,\n        isConnected: connectionStatus === 'connected',\n        reconnectAttempts,\n        reconnect,\n        disconnect,\n      }\n    : undefined;\n\n  return {\n    status,\n    isLoading,\n    error: queryError || sseError,\n    isStale,\n    refetch,\n  };\n}\n\n/**\n * Type guard to check if providers are configured\n */\nexport function hasProviders(status: RealTimeStatus | undefined): boolean {\n  if (!status) return false;\n  const { ollama, anthropic, openai, gemini } = status.providers;\n  return ollama || anthropic || openai || gemini;\n}\n\n/**\n * Get active provider names\n */\nexport function getActiveProviders(status: RealTimeStatus | undefined): string[] {\n  if (!status) return [];\n\n  const providers: string[] = [];\n  const { ollama, anthropic, openai, gemini } = status.providers;\n\n  if (ollama) providers.push('Ollama');\n  if (anthropic) providers.push('Anthropic');\n  if (openai) providers.push('OpenAI');\n  if (gemini) providers.push('Gemini');\n\n  return providers;\n}\n\n/**\n * Format uptime string for display\n */\nexport function formatUptime(uptime: string): string {\n  // Uptime is in Go duration format (e.g., \"2h34m12s\")\n  return uptime;\n}\n","/**\n * Dashboard - Prism-style dashboard with white cards on light gray background\n *\n * Matches the Prism UI design with:\n * - White card backgrounds with subtle borders\n * - Apple-style typography and spacing\n * - Clean, minimal aesthetic\n */\nimport { FC } from 'react';\nimport { useRealTimeStatus } from '../../hooks/useRealTimeStatus';\nimport {\n  Activity,\n  Layers,\n  Zap,\n  Server,\n  Terminal,\n  Clock,\n  AlertCircle,\n  Loader2,\n  BookOpen,\n  Sparkles,\n} from 'lucide-react';\n\n/**\n * Dashboard is the main landing page showing system overview.\n */\nconst Dashboard: FC = () => {\n  const { status, error, isLoading } = useRealTimeStatus();\n\n  // Card component with Prism styling\n  const Card: FC<{\n    title: string;\n    icon: React.ReactNode;\n    iconBg: string;\n    children: React.ReactNode;\n  }> = ({ title, icon, iconBg, children }) => (\n    <div\n      style={{\n        backgroundColor: '#FFFFFF',\n        borderRadius: '12px',\n        border: '1px solid #E5E5E7',\n        padding: '20px',\n        transition: 'all 0.15s ease',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.05)',\n      }}\n    >\n      <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '16px' }}>\n        <div\n          style={{\n            width: '40px',\n            height: '40px',\n            borderRadius: '10px',\n            backgroundColor: iconBg,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}\n        >\n          {icon}\n        </div>\n        <h3 style={{ fontSize: '16px', fontWeight: 600, color: '#1D1D1F' }}>{title}</h3>\n      </div>\n      {children}\n    </div>\n  );\n\n  // Status badge component\n  const StatusBadge: FC<{\n    label: string;\n    value: string | number;\n    color?: string;\n    bgColor?: string;\n  }> = ({ label, value, color = '#1D1D1F', bgColor = '#F3F4F6' }) => (\n    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '10px 0', borderBottom: '1px solid #F0F0F2' }}>\n      <span style={{ fontSize: '13px', color: '#6B7280' }}>{label}</span>\n      <span\n        style={{\n          fontSize: '13px',\n          fontWeight: 600,\n          color,\n          backgroundColor: bgColor,\n          padding: '4px 10px',\n          borderRadius: '6px',\n        }}\n      >\n        {value}\n      </span>\n    </div>\n  );\n\n  // Provider status item\n  const ProviderItem: FC<{\n    name: string;\n    icon: string;\n    isOnline: boolean;\n    url?: string;\n  }> = ({ name, icon, isOnline, url }) => (\n    <div\n      style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: '12px',\n        backgroundColor: '#FAFAFA',\n        borderRadius: '8px',\n        marginBottom: '8px',\n      }}\n    >\n      <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n        <div\n          style={{\n            width: '32px',\n            height: '32px',\n            borderRadius: '8px',\n            backgroundColor: isOnline ? 'rgba(34, 197, 94, 0.1)' : 'rgba(156, 163, 175, 0.1)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '12px',\n            fontWeight: 700,\n            color: isOnline ? '#22C55E' : '#9CA3AF',\n          }}\n        >\n          {icon}\n        </div>\n        <div>\n          <div style={{ fontSize: '14px', fontWeight: 600, color: '#1D1D1F' }}>{name}</div>\n          {url && <div style={{ fontSize: '11px', color: '#9CA3AF', fontFamily: 'monospace' }}>{url}</div>}\n        </div>\n      </div>\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: '6px',\n          padding: '4px 10px',\n          borderRadius: '20px',\n          backgroundColor: isOnline ? 'rgba(34, 197, 94, 0.1)' : 'rgba(156, 163, 175, 0.1)',\n          border: `1px solid ${isOnline ? 'rgba(34, 197, 94, 0.2)' : 'rgba(156, 163, 175, 0.2)'}`,\n        }}\n      >\n        <div\n          style={{\n            width: '6px',\n            height: '6px',\n            borderRadius: '50%',\n            backgroundColor: isOnline ? '#22C55E' : '#9CA3AF',\n          }}\n        />\n        <span style={{ fontSize: '11px', fontWeight: 500, color: isOnline ? '#166534' : '#6B7280' }}>\n          {isOnline ? 'Online' : 'Offline'}\n        </span>\n      </div>\n    </div>\n  );\n\n  return (\n    <div style={{ minHeight: '100%' }}>\n      {/* Page Header */}\n      <div style={{ marginBottom: '24px' }}>\n        <h1 style={{ fontSize: '28px', fontWeight: 700, color: '#1D1D1F', marginBottom: '8px' }}>\n          Dashboard\n        </h1>\n        <p style={{ fontSize: '14px', color: '#6B7280' }}>\n          System overview and real-time status\n        </p>\n      </div>\n\n      {/* Error State */}\n      {error && (\n        <div\n          style={{\n            marginBottom: '24px',\n            padding: '16px',\n            borderRadius: '12px',\n            backgroundColor: '#FEF2F2',\n            border: '1px solid #FECACA',\n            display: 'flex',\n            alignItems: 'flex-start',\n            gap: '12px',\n          }}\n        >\n          <AlertCircle size={20} style={{ color: '#EF4444', flexShrink: 0 }} />\n          <div>\n            <p style={{ fontSize: '14px', fontWeight: 600, color: '#B91C1C', marginBottom: '4px' }}>\n              Connection Error\n            </p>\n            <p style={{ fontSize: '13px', color: '#DC2626' }}>{error.message}</p>\n          </div>\n        </div>\n      )}\n\n      {/* Loading State */}\n      {isLoading && (\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '80px 0' }}>\n          <div style={{ textAlign: 'center' }}>\n            <div\n              style={{\n                width: '64px',\n                height: '64px',\n                borderRadius: '16px',\n                backgroundColor: '#F3F4F6',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                margin: '0 auto 16px',\n              }}\n            >\n              <Loader2 size={32} style={{ color: '#3B82F6', animation: 'spin 1s linear infinite' }} />\n            </div>\n            <p style={{ fontSize: '14px', color: '#6B7280' }}>Connecting to server...</p>\n          </div>\n        </div>\n      )}\n\n      {/* Dashboard Grid */}\n      {!isLoading && (\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '20px' }}>\n          {/* Active Facet Card */}\n          <Card\n            title=\"Active Facet\"\n            icon={<Layers size={20} style={{ color: '#8B5CF6' }} />}\n            iconBg=\"rgba(139, 92, 242, 0.1)\"\n          >\n            <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\n              <div\n                style={{\n                  width: '48px',\n                  height: '48px',\n                  borderRadius: '12px',\n                  background: 'linear-gradient(135deg, #8B5CF6 0%, #6366F1 100%)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                }}\n              >\n                <Sparkles size={24} style={{ color: '#FFFFFF' }} />\n              </div>\n              <div>\n                <div style={{ fontSize: '18px', fontWeight: 600, color: '#1D1D1F' }}>\n                  {status?.active_facet || 'Default'}\n                </div>\n                <div style={{ fontSize: '13px', color: '#6B7280' }}>\n                  Currently active persona\n                </div>\n              </div>\n            </div>\n          </Card>\n\n          {/* System Metrics Card */}\n          <Card\n            title=\"System Metrics\"\n            icon={<Activity size={20} style={{ color: '#3B82F6' }} />}\n            iconBg=\"rgba(59, 130, 246, 0.1)\"\n          >\n            <StatusBadge\n              label=\"Template Count\"\n              value={status?.metrics?.template_count ?? 0}\n              color=\"#3B82F6\"\n              bgColor=\"rgba(59, 130, 246, 0.1)\"\n            />\n            <StatusBadge\n              label=\"Template Hits\"\n              value={status?.metrics?.template_hits ?? 0}\n              color=\"#22C55E\"\n              bgColor=\"rgba(34, 197, 94, 0.1)\"\n            />\n            <StatusBadge\n              label=\"Local Rate\"\n              value={`${status?.metrics?.local_rate ?? 0}%`}\n              color=\"#F59E0B\"\n              bgColor=\"rgba(245, 158, 11, 0.1)\"\n            />\n          </Card>\n\n          {/* Provider Status Card */}\n          <Card\n            title=\"Provider Status\"\n            icon={<Server size={20} style={{ color: '#22C55E' }} />}\n            iconBg=\"rgba(34, 197, 94, 0.1)\"\n          >\n            <ProviderItem\n              name=\"Ollama\"\n              icon=\"\"\n              isOnline={status?.providers?.ollama ?? false}\n              url={status?.providers?.ollama_url}\n            />\n            <ProviderItem\n              name=\"Anthropic\"\n              icon=\"\"\n              isOnline={status?.providers?.anthropic ?? false}\n            />\n            <ProviderItem\n              name=\"OpenAI\"\n              icon=\"\"\n              isOnline={status?.providers?.openai ?? false}\n            />\n            <ProviderItem\n              name=\"Gemini\"\n              icon=\"\"\n              isOnline={status?.providers?.gemini ?? false}\n            />\n          </Card>\n\n          {/* Quick Start Card */}\n          <Card\n            title=\"Quick Start\"\n            icon={<Terminal size={20} style={{ color: '#F59E0B' }} />}\n            iconBg=\"rgba(245, 158, 11, 0.1)\"\n          >\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\n              <div\n                style={{\n                  padding: '12px',\n                  backgroundColor: '#1D1D1F',\n                  borderRadius: '8px',\n                  fontFamily: 'monospace',\n                  fontSize: '13px',\n                  color: '#22C55E',\n                }}\n              >\n                <span style={{ color: '#6B7280' }}>$</span> cortex\n              </div>\n              <div\n                style={{\n                  padding: '12px',\n                  backgroundColor: '#1D1D1F',\n                  borderRadius: '8px',\n                  fontFamily: 'monospace',\n                  fontSize: '13px',\n                  color: '#3B82F6',\n                }}\n              >\n                <span style={{ color: '#6B7280' }}>$</span> cortex ui\n              </div>\n              <div\n                style={{\n                  padding: '12px',\n                  backgroundColor: '#1D1D1F',\n                  borderRadius: '8px',\n                  fontFamily: 'monospace',\n                  fontSize: '13px',\n                  color: '#8B5CF6',\n                }}\n              >\n                <span style={{ color: '#6B7280' }}>$</span> cortex --help\n              </div>\n            </div>\n          </Card>\n        </div>\n      )}\n\n      {/* Server Info Footer */}\n      {status && !isLoading && (\n        <div\n          style={{\n            marginTop: '24px',\n            padding: '16px 20px',\n            backgroundColor: '#FFFFFF',\n            borderRadius: '12px',\n            border: '1px solid #E5E5E7',\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: '24px',\n            alignItems: 'center',\n          }}\n        >\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n            <BookOpen size={14} style={{ color: '#9CA3AF' }} />\n            <span style={{ fontSize: '12px', color: '#6B7280' }}>Version:</span>\n            <span style={{ fontSize: '12px', fontFamily: 'monospace', color: '#1D1D1F', fontWeight: 500 }}>\n              {status.version}\n            </span>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n            <Clock size={14} style={{ color: '#9CA3AF' }} />\n            <span style={{ fontSize: '12px', color: '#6B7280' }}>Uptime:</span>\n            <span style={{ fontSize: '12px', fontFamily: 'monospace', color: '#1D1D1F', fontWeight: 500 }}>\n              {status.uptime}\n            </span>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n            <Zap size={14} style={{ color: '#9CA3AF' }} />\n            <span style={{ fontSize: '12px', color: '#6B7280' }}>Port:</span>\n            <span style={{ fontSize: '12px', fontFamily: 'monospace', color: '#3B82F6', fontWeight: 500 }}>\n              {status.port}\n            </span>\n          </div>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n            <span\n              style={{\n                fontSize: '11px',\n                fontWeight: 600,\n                padding: '4px 10px',\n                borderRadius: '20px',\n                backgroundColor: status.dev_mode ? 'rgba(245, 158, 11, 0.1)' : 'rgba(34, 197, 94, 0.1)',\n                color: status.dev_mode ? '#D97706' : '#166534',\n              }}\n            >\n              {status.dev_mode ? 'Development' : 'Production'}\n            </span>\n          </div>\n          {status.tui_active && (\n            <div style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\n              <div\n                style={{\n                  width: '8px',\n                  height: '8px',\n                  borderRadius: '50%',\n                  backgroundColor: '#3B82F6',\n                  animation: 'pulse 2s infinite',\n                }}\n              />\n              <span style={{ fontSize: '12px', fontWeight: 500, color: '#3B82F6' }}>TUI Active</span>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n","/**\n * React Query hooks for Cortex facets API.\n * Provides data fetching, caching, and mutation for facets management.\n */\n\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { apiGet, apiPost } from '../api/client';\nimport type { FacetsResponse } from '../api/types';\n\n// \n// QUERY KEYS\n// \n\nexport const facetsKeys = {\n  all: ['facets'] as const,\n  list: () => [...facetsKeys.all, 'list'] as const,\n  detail: (id: string) => [...facetsKeys.all, 'detail', id] as const,\n};\n\n// \n// API FUNCTIONS\n// \n\n/**\n * Fetch all facets from the API.\n * GET /api/v1/facets\n */\nasync function fetchFacets(): Promise<FacetsResponse> {\n  return apiGet<FacetsResponse>('/api/v1/facets');\n}\n\n/**\n * Activate a specific facet.\n * POST /api/v1/facets/:id/activate\n */\nasync function activateFacet(facetId: string): Promise<void> {\n  return apiPost<void>(`/api/v1/facets/${facetId}/activate`);\n}\n\n// \n// HOOKS\n// \n\n/**\n * Hook to fetch facets list.\n * Uses React Query for caching and automatic refetching.\n *\n * @returns Query result with facets data, loading state, and error\n *\n * @example\n * ```tsx\n * const { data, isLoading, error } = useFacets();\n *\n * if (isLoading) return <LoadingSpinner />;\n * if (error) return <ErrorMessage error={error} />;\n *\n * return (\n *   <div>\n *     {data.facets.map(facet => (\n *       <FacetCard key={facet.id} facet={facet} />\n *     ))}\n *   </div>\n * );\n * ```\n */\nexport function useFacets() {\n  return useQuery({\n    queryKey: facetsKeys.list(),\n    queryFn: fetchFacets,\n    staleTime: 30000, // Consider data fresh for 30 seconds\n    refetchOnWindowFocus: true,\n  });\n}\n\n/**\n * Hook to activate a facet.\n * Returns a mutation that can be used to switch the active facet.\n * Automatically invalidates facets query on success.\n *\n * @returns Mutation object with mutate/mutateAsync functions\n *\n * @example\n * ```tsx\n * const activateFacet = useActivateFacet();\n *\n * const handleActivate = async (facetId: string) => {\n *   try {\n *     await activateFacet.mutateAsync(facetId);\n *     toast.success('Facet activated');\n *   } catch (error) {\n *     toast.error('Failed to activate facet');\n *   }\n * };\n * ```\n */\nexport function useActivateFacet() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: activateFacet,\n    onSuccess: () => {\n      // Invalidate facets query to refetch with updated active state\n      queryClient.invalidateQueries({ queryKey: facetsKeys.list() });\n      // Also invalidate status query as it contains active_facet\n      queryClient.invalidateQueries({ queryKey: ['status'] });\n    },\n  });\n}\n","/**\n * FacetEditor - Prism-style modal for viewing facet details\n *\n * Shows all facet properties in a clean, Apple-styled modal.\n * Currently view-only; editing functionality to be added in future sprint.\n */\nimport type { FC } from 'react';\nimport type { Facet } from '../../api/types';\nimport { X, Layers, Calendar, Clock, Palette, Sparkles, CheckCircle } from 'lucide-react';\n\ninterface FacetEditorProps {\n  facet: Facet | null;\n  isOpen: boolean;\n  onClose: () => void;\n  onSave?: (facet: Facet) => void;\n}\n\nconst FacetEditor: FC<FacetEditorProps> = ({\n  facet,\n  isOpen,\n  onClose,\n}) => {\n  if (!isOpen || !facet) return null;\n\n  const handleBackdropClick = (e: React.MouseEvent) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  // Color mapping\n  const getColorDisplay = (color?: string) => {\n    switch (color) {\n      case 'purple':\n        return { hex: '#8B5CF6', name: 'Purple' };\n      case 'green':\n        return { hex: '#22C55E', name: 'Green' };\n      case 'yellow':\n        return { hex: '#F59E0B', name: 'Yellow' };\n      case 'blue':\n        return { hex: '#3B82F6', name: 'Blue' };\n      case 'cyan':\n      default:\n        return { hex: '#06B6D4', name: 'Cyan' };\n    }\n  };\n\n  const colorInfo = getColorDisplay(facet.color);\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        inset: 0,\n        zIndex: 50,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        backgroundColor: 'rgba(0, 0, 0, 0.4)',\n        backdropFilter: 'blur(4px)',\n      }}\n      onClick={handleBackdropClick}\n    >\n      {/* Modal */}\n      <div\n        style={{\n          width: '100%',\n          maxWidth: '560px',\n          margin: '0 16px',\n          maxHeight: 'calc(100vh - 80px)',\n          backgroundColor: '#FFFFFF',\n          borderRadius: '16px',\n          boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.25)',\n          overflow: 'hidden',\n          display: 'flex',\n          flexDirection: 'column',\n        }}\n      >\n        {/* Header */}\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            padding: '20px 24px',\n            borderBottom: '1px solid #E5E5E7',\n          }}\n        >\n          <div style={{ display: 'flex', alignItems: 'center', gap: '14px' }}>\n            <div\n              style={{\n                width: '44px',\n                height: '44px',\n                borderRadius: '12px',\n                background: `linear-gradient(135deg, ${colorInfo.hex} 0%, ${colorInfo.hex}99 100%)`,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                boxShadow: `0 4px 12px ${colorInfo.hex}33`,\n                fontSize: '20px',\n              }}\n            >\n              {facet.icon || <Layers size={22} style={{ color: '#FFFFFF' }} />}\n            </div>\n            <div>\n              <h2 style={{ fontSize: '18px', fontWeight: 600, color: '#1D1D1F' }}>\n                {facet.name}\n              </h2>\n              <p style={{ fontSize: '13px', color: '#6B7280' }}>Facet Details</p>\n            </div>\n          </div>\n\n          <button\n            onClick={onClose}\n            style={{\n              padding: '8px',\n              backgroundColor: '#F3F4F6',\n              border: 'none',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              transition: 'background-color 0.15s',\n            }}\n            onMouseEnter={(e) => e.currentTarget.style.backgroundColor = '#E5E7EB'}\n            onMouseLeave={(e) => e.currentTarget.style.backgroundColor = '#F3F4F6'}\n            title=\"Close\"\n          >\n            <X size={18} style={{ color: '#6B7280' }} />\n          </button>\n        </div>\n\n        {/* Body */}\n        <div style={{ flex: 1, overflow: 'auto', padding: '24px' }}>\n          {/* Facet ID */}\n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'block', fontSize: '12px', fontWeight: 600, color: '#6B7280', marginBottom: '6px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n              Facet ID\n            </label>\n            <div\n              style={{\n                padding: '10px 14px',\n                backgroundColor: '#F9FAFB',\n                border: '1px solid #E5E5E7',\n                borderRadius: '8px',\n                fontFamily: 'monospace',\n                fontSize: '13px',\n                color: '#1D1D1F',\n              }}\n            >\n              {facet.id}\n            </div>\n          </div>\n\n          {/* Description */}\n          {facet.description && (\n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ display: 'block', fontSize: '12px', fontWeight: 600, color: '#6B7280', marginBottom: '6px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                Description\n              </label>\n              <div\n                style={{\n                  padding: '10px 14px',\n                  backgroundColor: '#F9FAFB',\n                  border: '1px solid #E5E5E7',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  color: '#1D1D1F',\n                  lineHeight: '1.5',\n                }}\n              >\n                {facet.description}\n              </div>\n            </div>\n          )}\n\n          {/* System Prompt */}\n          {facet.system_prompt && (\n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ display: 'flex', alignItems: 'center', gap: '6px', fontSize: '12px', fontWeight: 600, color: '#6B7280', marginBottom: '6px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                <Sparkles size={12} />\n                System Prompt\n              </label>\n              <div\n                style={{\n                  padding: '12px 14px',\n                  backgroundColor: '#1D1D1F',\n                  border: '1px solid #374151',\n                  borderRadius: '8px',\n                  fontFamily: 'monospace',\n                  fontSize: '12px',\n                  color: '#E5E7EB',\n                  lineHeight: '1.6',\n                  whiteSpace: 'pre-wrap',\n                  maxHeight: '200px',\n                  overflow: 'auto',\n                }}\n              >\n                {facet.system_prompt}\n              </div>\n            </div>\n          )}\n\n          {/* Status */}\n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'block', fontSize: '12px', fontWeight: 600, color: '#6B7280', marginBottom: '6px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n              Status\n            </label>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              {facet.active ? (\n                <>\n                  <div\n                    style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '6px',\n                      padding: '6px 12px',\n                      backgroundColor: 'rgba(34, 197, 94, 0.1)',\n                      border: '1px solid rgba(34, 197, 94, 0.2)',\n                      borderRadius: '20px',\n                    }}\n                  >\n                    <CheckCircle size={14} style={{ color: '#22C55E' }} />\n                    <span style={{ fontSize: '13px', fontWeight: 500, color: '#166534' }}>Active</span>\n                  </div>\n                </>\n              ) : (\n                <div\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '6px',\n                    padding: '6px 12px',\n                    backgroundColor: '#F3F4F6',\n                    border: '1px solid #E5E5E7',\n                    borderRadius: '20px',\n                  }}\n                >\n                  <div style={{ width: '6px', height: '6px', borderRadius: '50%', backgroundColor: '#9CA3AF' }} />\n                  <span style={{ fontSize: '13px', fontWeight: 500, color: '#6B7280' }}>Inactive</span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Metadata Grid */}\n          <div\n            style={{\n              display: 'grid',\n              gridTemplateColumns: 'repeat(2, 1fr)',\n              gap: '12px',\n              paddingTop: '20px',\n              borderTop: '1px solid #E5E5E7',\n            }}\n          >\n            {/* Created */}\n            <div\n              style={{\n                padding: '12px',\n                backgroundColor: '#F9FAFB',\n                borderRadius: '10px',\n                border: '1px solid #E5E5E7',\n              }}\n            >\n              <div style={{ display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '6px' }}>\n                <Calendar size={12} style={{ color: '#9CA3AF' }} />\n                <span style={{ fontSize: '10px', fontWeight: 600, color: '#9CA3AF', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                  Created\n                </span>\n              </div>\n              <p style={{ fontSize: '12px', fontFamily: 'monospace', color: '#1D1D1F' }}>\n                {formatDate(facet.created_at)}\n              </p>\n            </div>\n\n            {/* Updated */}\n            <div\n              style={{\n                padding: '12px',\n                backgroundColor: '#F9FAFB',\n                borderRadius: '10px',\n                border: '1px solid #E5E5E7',\n              }}\n            >\n              <div style={{ display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '6px' }}>\n                <Clock size={12} style={{ color: '#9CA3AF' }} />\n                <span style={{ fontSize: '10px', fontWeight: 600, color: '#9CA3AF', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                  Updated\n                </span>\n              </div>\n              <p style={{ fontSize: '12px', fontFamily: 'monospace', color: '#1D1D1F' }}>\n                {formatDate(facet.updated_at)}\n              </p>\n            </div>\n\n            {/* Color */}\n            {facet.color && (\n              <div\n                style={{\n                  padding: '12px',\n                  backgroundColor: '#F9FAFB',\n                  borderRadius: '10px',\n                  border: '1px solid #E5E5E7',\n                  gridColumn: 'span 2',\n                }}\n              >\n                <div style={{ display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '6px' }}>\n                  <Palette size={12} style={{ color: '#9CA3AF' }} />\n                  <span style={{ fontSize: '10px', fontWeight: 600, color: '#9CA3AF', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                    Theme Color\n                  </span>\n                </div>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                  <div\n                    style={{\n                      width: '20px',\n                      height: '20px',\n                      borderRadius: '6px',\n                      backgroundColor: colorInfo.hex,\n                      border: '2px solid rgba(255,255,255,0.5)',\n                      boxShadow: `0 2px 6px ${colorInfo.hex}44`,\n                    }}\n                  />\n                  <span style={{ fontSize: '13px', color: '#1D1D1F', fontWeight: 500 }}>\n                    {colorInfo.name}\n                  </span>\n                  <span style={{ fontSize: '11px', fontFamily: 'monospace', color: '#6B7280' }}>\n                    {colorInfo.hex}\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'flex-end',\n            padding: '16px 24px',\n            borderTop: '1px solid #E5E5E7',\n            backgroundColor: '#FAFAFA',\n          }}\n        >\n          <button\n            onClick={onClose}\n            style={{\n              padding: '10px 20px',\n              backgroundColor: '#F3F4F6',\n              border: '1px solid #E5E5E7',\n              borderRadius: '8px',\n              fontSize: '14px',\n              fontWeight: 500,\n              color: '#1D1D1F',\n              cursor: 'pointer',\n              transition: 'all 0.15s',\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = '#E5E7EB';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = '#F3F4F6';\n            }}\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FacetEditor;\n","/**\n * FacetsPage - Prism-style facets management with white cards on light gray background\n *\n * Displays and manages Cortex facets/personas.\n * Shows a grid of facet cards with activation and viewing capabilities.\n * Connects to Cortex API: GET /api/v1/facets, POST /api/v1/facets/:id/activate\n */\nimport type { FC } from 'react';\nimport { useState } from 'react';\nimport { useFacets, useActivateFacet } from '../../hooks/useFacets';\nimport type { Facet } from '../../api/types';\nimport FacetEditor from './FacetEditor';\nimport {\n  Layers,\n  AlertCircle,\n  Loader2,\n  Shield,\n  Info,\n  Sparkles,\n  Check,\n  Edit2,\n} from 'lucide-react';\n\nconst FacetsPage: FC = () => {\n  const { data, error, isLoading } = useFacets();\n  const activateFacet = useActivateFacet();\n  const [selectedFacet, setSelectedFacet] = useState<Facet | null>(null);\n  const [isEditorOpen, setIsEditorOpen] = useState(false);\n  const [activatingId, setActivatingId] = useState<string | null>(null);\n\n  const handleActivate = async (facetId: string) => {\n    setActivatingId(facetId);\n    try {\n      await activateFacet.mutateAsync(facetId);\n    } finally {\n      setActivatingId(null);\n    }\n  };\n\n  const handleEdit = (facet: Facet) => {\n    setSelectedFacet(facet);\n    setIsEditorOpen(true);\n  };\n\n  const handleCloseEditor = () => {\n    setIsEditorOpen(false);\n    setSelectedFacet(null);\n  };\n\n  // Color mapping for facet icons\n  const getColorStyles = (color?: string) => {\n    switch (color) {\n      case 'purple':\n        return { bg: 'rgba(139, 92, 242, 0.1)', border: '#8B5CF6', text: '#8B5CF6' };\n      case 'green':\n        return { bg: 'rgba(34, 197, 94, 0.1)', border: '#22C55E', text: '#22C55E' };\n      case 'yellow':\n        return { bg: 'rgba(245, 158, 11, 0.1)', border: '#F59E0B', text: '#92400E' };\n      case 'blue':\n        return { bg: 'rgba(59, 130, 246, 0.1)', border: '#3B82F6', text: '#3B82F6' };\n      case 'cyan':\n      default:\n        return { bg: 'rgba(6, 182, 212, 0.1)', border: '#06B6D4', text: '#0891B2' };\n    }\n  };\n\n  // FacetCard component with Prism styling\n  const FacetCard: FC<{\n    facet: Facet;\n    onActivate: (id: string) => void;\n    onEdit: (facet: Facet) => void;\n    isActivating: boolean;\n  }> = ({ facet, onActivate, onEdit, isActivating }) => {\n    const colors = getColorStyles(facet.color);\n\n    return (\n      <div\n        style={{\n          backgroundColor: '#FFFFFF',\n          borderRadius: '12px',\n          border: facet.active ? `2px solid ${colors.border}` : '1px solid #E5E5E7',\n          padding: '20px',\n          transition: 'all 0.15s ease',\n          boxShadow: facet.active\n            ? `0 4px 12px ${colors.bg}`\n            : '0 1px 3px rgba(0, 0, 0, 0.05)',\n          cursor: 'pointer',\n          position: 'relative',\n        }}\n        onClick={() => !facet.active && !isActivating && onActivate(facet.id)}\n        onMouseEnter={(e) => {\n          if (!facet.active) {\n            e.currentTarget.style.borderColor = colors.border;\n            e.currentTarget.style.boxShadow = `0 4px 12px ${colors.bg}`;\n          }\n        }}\n        onMouseLeave={(e) => {\n          if (!facet.active) {\n            e.currentTarget.style.borderColor = '#E5E5E7';\n            e.currentTarget.style.boxShadow = '0 1px 3px rgba(0, 0, 0, 0.05)';\n          }\n        }}\n      >\n        {/* Header */}\n        <div style={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'space-between', marginBottom: '12px' }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n            {/* Icon */}\n            <div\n              style={{\n                width: '44px',\n                height: '44px',\n                borderRadius: '10px',\n                backgroundColor: facet.active ? colors.border : colors.bg,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '20px',\n              }}\n            >\n              {facet.icon || <Layers size={20} style={{ color: facet.active ? '#FFFFFF' : colors.text }} />}\n            </div>\n            <div>\n              <h3 style={{ fontSize: '16px', fontWeight: 600, color: '#1D1D1F', marginBottom: '2px' }}>\n                {facet.name}\n              </h3>\n              {facet.active && (\n                <div style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>\n                  <div\n                    style={{\n                      width: '6px',\n                      height: '6px',\n                      borderRadius: '50%',\n                      backgroundColor: '#22C55E',\n                    }}\n                  />\n                  <span style={{ fontSize: '11px', fontWeight: 500, color: '#22C55E' }}>Active</span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Edit Button */}\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onEdit(facet);\n            }}\n            style={{\n              padding: '6px',\n              backgroundColor: 'transparent',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              opacity: 0.5,\n              transition: 'opacity 0.15s',\n            }}\n            onMouseEnter={(e) => e.currentTarget.style.opacity = '1'}\n            onMouseLeave={(e) => e.currentTarget.style.opacity = '0.5'}\n            title=\"View details\"\n          >\n            <Edit2 size={14} style={{ color: '#6B7280' }} />\n          </button>\n        </div>\n\n        {/* Description */}\n        {facet.description && (\n          <p style={{ fontSize: '13px', color: '#6B7280', marginBottom: '12px', lineHeight: '1.5' }}>\n            {facet.description}\n          </p>\n        )}\n\n        {/* System Prompt Preview */}\n        {facet.system_prompt && (\n          <div style={{ marginTop: '12px', paddingTop: '12px', borderTop: '1px solid #F0F0F2' }}>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '8px' }}>\n              <Sparkles size={12} style={{ color: '#9CA3AF' }} />\n              <span style={{ fontSize: '10px', fontWeight: 600, color: '#9CA3AF', textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                System Prompt\n              </span>\n            </div>\n            <p\n              style={{\n                fontSize: '11px',\n                color: '#6B7280',\n                fontFamily: 'monospace',\n                backgroundColor: '#F9FAFB',\n                padding: '8px',\n                borderRadius: '6px',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                display: '-webkit-box',\n                WebkitLineClamp: 2,\n                WebkitBoxOrient: 'vertical',\n                lineHeight: '1.4',\n              }}\n            >\n              {facet.system_prompt}\n            </p>\n          </div>\n        )}\n\n        {/* Activation State */}\n        {isActivating && (\n          <div style={{\n            position: 'absolute',\n            inset: 0,\n            backgroundColor: 'rgba(255, 255, 255, 0.8)',\n            borderRadius: '12px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n              <Loader2 size={16} style={{ color: colors.border, animation: 'spin 1s linear infinite' }} />\n              <span style={{ fontSize: '13px', color: colors.text, fontWeight: 500 }}>Activating...</span>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <div style={{ minHeight: '100%' }}>\n        {/* Page Header */}\n        <div style={{ marginBottom: '24px' }}>\n          <h1 style={{ fontSize: '28px', fontWeight: 700, color: '#1D1D1F', marginBottom: '8px' }}>\n            Facets\n          </h1>\n          <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n            <p style={{ fontSize: '14px', color: '#6B7280' }}>\n              Manage AI personas and configuration presets\n            </p>\n            {data?.active_facet && (\n              <div\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  padding: '6px 12px',\n                  backgroundColor: 'rgba(34, 197, 94, 0.1)',\n                  border: '1px solid rgba(34, 197, 94, 0.2)',\n                  borderRadius: '20px',\n                }}\n              >\n                <Check size={14} style={{ color: '#22C55E' }} />\n                <span style={{ fontSize: '12px', fontWeight: 500, color: '#166534' }}>\n                  Active: {data.active_facet}\n                </span>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Error State */}\n        {error && (\n          <div\n            style={{\n              marginBottom: '24px',\n              padding: '16px',\n              borderRadius: '12px',\n              backgroundColor: '#FEF2F2',\n              border: '1px solid #FECACA',\n              display: 'flex',\n              alignItems: 'flex-start',\n              gap: '12px',\n            }}\n          >\n            <AlertCircle size={20} style={{ color: '#EF4444', flexShrink: 0 }} />\n            <div>\n              <p style={{ fontSize: '14px', fontWeight: 600, color: '#B91C1C', marginBottom: '4px' }}>\n                Failed to load facets\n              </p>\n              <p style={{ fontSize: '13px', color: '#DC2626' }}>\n                {error instanceof Error ? error.message : 'Unknown error'}\n              </p>\n            </div>\n          </div>\n        )}\n\n        {/* Loading State */}\n        {isLoading && (\n          <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '80px 0' }}>\n            <div style={{ textAlign: 'center' }}>\n              <div\n                style={{\n                  width: '64px',\n                  height: '64px',\n                  borderRadius: '16px',\n                  backgroundColor: '#F3F4F6',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  margin: '0 auto 16px',\n                }}\n              >\n                <Loader2 size={32} style={{ color: '#3B82F6', animation: 'spin 1s linear infinite' }} />\n              </div>\n              <p style={{ fontSize: '14px', color: '#6B7280' }}>Loading facets...</p>\n            </div>\n          </div>\n        )}\n\n        {/* Empty State */}\n        {!isLoading && !error && data?.facets.length === 0 && (\n          <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '80px 0' }}>\n            <div style={{ textAlign: 'center', maxWidth: '320px' }}>\n              <div\n                style={{\n                  width: '64px',\n                  height: '64px',\n                  borderRadius: '16px',\n                  backgroundColor: '#F3F4F6',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  margin: '0 auto 16px',\n                }}\n              >\n                <Shield size={32} style={{ color: '#9CA3AF' }} />\n              </div>\n              <h2 style={{ fontSize: '18px', fontWeight: 600, color: '#1D1D1F', marginBottom: '8px' }}>\n                No facets available\n              </h2>\n              <p style={{ fontSize: '14px', color: '#6B7280' }}>\n                Facets allow you to switch between different AI personas and configurations.\n              </p>\n            </div>\n          </div>\n        )}\n\n        {/* Facets Grid */}\n        {!isLoading && !error && data && data.facets.length > 0 && (\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(320px, 1fr))', gap: '20px' }}>\n            {data.facets.map((facet) => (\n              <FacetCard\n                key={facet.id}\n                facet={facet}\n                onActivate={handleActivate}\n                onEdit={handleEdit}\n                isActivating={activatingId === facet.id}\n              />\n            ))}\n          </div>\n        )}\n\n        {/* Info Footer */}\n        {!isLoading && !error && data && data.facets.length > 0 && (\n          <div\n            style={{\n              marginTop: '24px',\n              padding: '16px 20px',\n              backgroundColor: '#FFFFFF',\n              borderRadius: '12px',\n              border: '1px solid #E5E5E7',\n              display: 'flex',\n              alignItems: 'flex-start',\n              gap: '12px',\n            }}\n          >\n            <Info size={18} style={{ color: '#3B82F6', flexShrink: 0, marginTop: '2px' }} />\n            <div>\n              <p style={{ fontSize: '13px', fontWeight: 600, color: '#1D1D1F', marginBottom: '4px' }}>\n                About Facets\n              </p>\n              <p style={{ fontSize: '12px', color: '#6B7280', lineHeight: '1.5' }}>\n                Facets are persona presets that configure how Cortex behaves. Click on a facet to activate it,\n                or click the edit icon to view its details. Only one facet can be active at a time.\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Facet Editor Modal */}\n      <FacetEditor\n        facet={selectedFacet}\n        isOpen={isEditorOpen}\n        onClose={handleCloseEditor}\n      />\n    </>\n  );\n};\n\nexport default FacetsPage;\n","/**\n * Knowledge API client for RAG and document management.\n * Handles document ingestion, search, and management.\n */\n\nimport { apiGet, apiPost, apiDelete } from './client';\n\n// \n// TYPES\n// \n\n/**\n * Document represents an ingested document in the knowledge base.\n */\nexport interface KnowledgeDocument {\n  id: string;\n  title: string;\n  type: 'file' | 'directory' | 'conversation' | 'text';\n  source_path?: string;\n  chunk_count: number;\n  created_at: string; // ISO 8601 timestamp\n  updated_at: string; // ISO 8601 timestamp\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * SearchResult represents a single RAG search result.\n */\nexport interface SearchResult {\n  document_id: string;\n  document_title: string;\n  chunk_text: string;\n  similarity_score: number;\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * SearchRequest payload for RAG search.\n */\nexport interface SearchRequest {\n  query: string;\n  limit?: number; // Max results (default: 10)\n  min_score?: number; // Minimum similarity score (0-1, default: 0.7)\n}\n\n/**\n * SearchResponse from RAG search.\n */\nexport interface SearchResponse {\n  query: string;\n  results: SearchResult[];\n  total_count: number;\n  search_time_ms: number;\n}\n\n/**\n * IngestRequest payload for document ingestion.\n */\nexport interface IngestRequest {\n  type: 'file' | 'directory' | 'text';\n  path?: string; // Required for file/directory\n  content?: string; // Required for text\n  title?: string; // Optional title override\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * IngestResponse from document ingestion.\n */\nexport interface IngestResponse {\n  document_id: string;\n  title: string;\n  chunk_count: number;\n  message: string;\n}\n\n/**\n * DocumentsResponse from GET /api/v1/knowledge/documents.\n */\nexport interface DocumentsResponse {\n  documents: KnowledgeDocument[];\n  total_count: number;\n}\n\n// \n// API METHODS\n// \n\n/**\n * Get all documents in the knowledge base.\n */\nexport async function getDocuments(): Promise<DocumentsResponse> {\n  return apiGet<DocumentsResponse>('/api/v1/knowledge/documents');\n}\n\n/**\n * Get a single document by ID.\n */\nexport async function getDocument(id: string): Promise<KnowledgeDocument> {\n  return apiGet<KnowledgeDocument>(`/api/v1/knowledge/documents/${id}`);\n}\n\n/**\n * Search the knowledge base using RAG.\n */\nexport async function searchKnowledge(request: SearchRequest): Promise<SearchResponse> {\n  return apiPost<SearchResponse>('/api/v1/knowledge/search', request);\n}\n\n/**\n * Ingest a new document into the knowledge base.\n */\nexport async function ingestDocument(request: IngestRequest): Promise<IngestResponse> {\n  return apiPost<IngestResponse>('/api/v1/knowledge/ingest', request);\n}\n\n/**\n * Delete a document from the knowledge base.\n */\nexport async function deleteDocument(id: string): Promise<void> {\n  return apiDelete<void>(`/api/v1/knowledge/documents/${id}`);\n}\n\n/**\n * Get knowledge base statistics.\n */\nexport interface KnowledgeStats {\n  total_documents: number;\n  total_chunks: number;\n  total_size_bytes: number;\n  last_updated?: string; // ISO 8601 timestamp\n}\n\nexport async function getKnowledgeStats(): Promise<KnowledgeStats> {\n  return apiGet<KnowledgeStats>('/api/v1/knowledge/stats');\n}\n","/**\n * DocumentCard - Prism-style document card\n *\n * Displays metadata for a single ingested document with delete action.\n * Uses Apple-inspired light theme with white card styling.\n */\nimport type { FC } from 'react';\nimport type { KnowledgeDocument } from '../../api/knowledge';\nimport { FileText, Folder, MessageSquare, Type, Box, Clock, Trash2 } from 'lucide-react';\n\ninterface DocumentCardProps {\n  document: KnowledgeDocument;\n  onDelete: (id: string) => void;\n}\n\nconst DocumentCard: FC<DocumentCardProps> = ({ document, onDelete }) => {\n  // Format date for display\n  const formattedDate = new Date(document.created_at).toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n\n  // Get icon and color based on document type\n  const getTypeConfig = () => {\n    switch (document.type) {\n      case 'file':\n        return { icon: FileText, color: '#3B82F6', bg: 'rgba(59, 130, 246, 0.1)' };\n      case 'directory':\n        return { icon: Folder, color: '#8B5CF6', bg: 'rgba(139, 92, 246, 0.1)' };\n      case 'conversation':\n        return { icon: MessageSquare, color: '#EC4899', bg: 'rgba(236, 72, 153, 0.1)' };\n      case 'text':\n      default:\n        return { icon: Type, color: '#F59E0B', bg: 'rgba(245, 158, 11, 0.1)' };\n    }\n  };\n\n  const typeConfig = getTypeConfig();\n  const IconComponent = typeConfig.icon;\n\n  return (\n    <div\n      style={{\n        backgroundColor: '#FFFFFF',\n        borderRadius: '12px',\n        border: '1px solid #E5E5E7',\n        padding: '20px',\n        transition: 'all 0.15s ease',\n        position: 'relative',\n      }}\n      onMouseEnter={(e) => {\n        e.currentTarget.style.borderColor = typeConfig.color;\n        e.currentTarget.style.boxShadow = `0 4px 12px ${typeConfig.bg}`;\n      }}\n      onMouseLeave={(e) => {\n        e.currentTarget.style.borderColor = '#E5E5E7';\n        e.currentTarget.style.boxShadow = 'none';\n      }}\n    >\n      {/* Header */}\n      <div style={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'space-between', marginBottom: '12px' }}>\n        <div style={{ display: 'flex', alignItems: 'flex-start', gap: '12px', flex: 1, minWidth: 0 }}>\n          {/* Type Icon */}\n          <div\n            style={{\n              flexShrink: 0,\n              width: '40px',\n              height: '40px',\n              borderRadius: '10px',\n              backgroundColor: typeConfig.bg,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n            }}\n          >\n            <IconComponent size={20} style={{ color: typeConfig.color }} />\n          </div>\n\n          {/* Title and Type */}\n          <div style={{ flex: 1, minWidth: 0 }}>\n            <h3\n              style={{\n                fontSize: '15px',\n                fontWeight: 600,\n                color: '#1D1D1F',\n                marginBottom: '4px',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap',\n              }}\n            >\n              {document.title}\n            </h3>\n            <span\n              style={{\n                display: 'inline-flex',\n                alignItems: 'center',\n                padding: '2px 8px',\n                backgroundColor: '#F3F4F6',\n                border: '1px solid #E5E5E7',\n                borderRadius: '4px',\n                fontSize: '11px',\n                fontWeight: 500,\n                color: '#6B7280',\n                textTransform: 'capitalize',\n              }}\n            >\n              {document.type}\n            </span>\n          </div>\n        </div>\n\n        {/* Delete Button */}\n        <button\n          onClick={() => onDelete(document.id)}\n          style={{\n            flexShrink: 0,\n            marginLeft: '8px',\n            padding: '6px',\n            backgroundColor: 'transparent',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: 'pointer',\n            opacity: 0.4,\n            transition: 'all 0.15s',\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.opacity = '1';\n            e.currentTarget.style.backgroundColor = '#FEE2E2';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.opacity = '0.4';\n            e.currentTarget.style.backgroundColor = 'transparent';\n          }}\n          title=\"Delete document\"\n        >\n          <Trash2 size={16} style={{ color: '#EF4444' }} />\n        </button>\n      </div>\n\n      {/* Source Path (if available) */}\n      {document.source_path && (\n        <div style={{ marginBottom: '12px' }}>\n          <p\n            style={{\n              fontSize: '12px',\n              color: '#9CA3AF',\n              fontFamily: 'monospace',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n              whiteSpace: 'nowrap',\n            }}\n          >\n            {document.source_path}\n          </p>\n        </div>\n      )}\n\n      {/* Metadata */}\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          paddingTop: '12px',\n          borderTop: '1px solid #F0F0F2',\n        }}\n      >\n        <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\n          {/* Chunk Count */}\n          <div style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\n            <Box size={14} style={{ color: '#9CA3AF' }} />\n            <span style={{ fontSize: '12px', color: '#6B7280', fontWeight: 500 }}>\n              {document.chunk_count} chunks\n            </span>\n          </div>\n\n          {/* Date */}\n          <div style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\n            <Clock size={14} style={{ color: '#9CA3AF' }} />\n            <span style={{ fontSize: '12px', color: '#6B7280' }}>\n              {formattedDate}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentCard;\n","/**\n * IngestionPanel - Prism-style content ingestion form\n *\n * Provides UI for ingesting new content into the knowledge base.\n * Supports file paths, directory paths, and raw text input.\n */\nimport type { FC } from 'react';\nimport { useState } from 'react';\nimport type { IngestRequest } from '../../api/knowledge';\nimport { Plus, FileText, Folder, Type, Upload, Loader2 } from 'lucide-react';\n\ninterface IngestionPanelProps {\n  onIngest: (request: IngestRequest) => Promise<void>;\n  isIngesting: boolean;\n}\n\nconst IngestionPanel: FC<IngestionPanelProps> = ({ onIngest, isIngesting }) => {\n  const [ingestType, setIngestType] = useState<'file' | 'directory' | 'text'>('file');\n  const [path, setPath] = useState('');\n  const [textContent, setTextContent] = useState('');\n  const [title, setTitle] = useState('');\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const request: IngestRequest = {\n      type: ingestType,\n      title: title || undefined,\n    };\n\n    if (ingestType === 'text') {\n      request.content = textContent;\n    } else {\n      request.path = path;\n    }\n\n    try {\n      await onIngest(request);\n      // Clear form on success\n      setPath('');\n      setTextContent('');\n      setTitle('');\n    } catch (error) {\n      // Error handling is done by parent component\n      console.error('Ingestion error:', error);\n    }\n  };\n\n  const isFormValid = () => {\n    if (!title) return false;\n    if (ingestType === 'text') {\n      return textContent.trim().length > 0;\n    }\n    return path.trim().length > 0;\n  };\n\n  const typeOptions = [\n    { value: 'file' as const, label: 'File', icon: FileText },\n    { value: 'directory' as const, label: 'Directory', icon: Folder },\n    { value: 'text' as const, label: 'Text', icon: Type },\n  ];\n\n  return (\n    <div\n      style={{\n        backgroundColor: '#FFFFFF',\n        borderRadius: '12px',\n        border: '1px solid #E5E5E7',\n        overflow: 'hidden',\n      }}\n    >\n      {/* Header */}\n      <div\n        style={{\n          padding: '20px 24px',\n          borderBottom: '1px solid #E5E5E7',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '14px',\n        }}\n      >\n        <div\n          style={{\n            width: '44px',\n            height: '44px',\n            borderRadius: '12px',\n            backgroundColor: '#22C55E',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}\n        >\n          <Plus size={24} style={{ color: '#FFFFFF' }} />\n        </div>\n        <div>\n          <h3 style={{ fontSize: '16px', fontWeight: 600, color: '#1D1D1F' }}>\n            Ingest Content\n          </h3>\n          <p style={{ fontSize: '13px', color: '#6B7280' }}>\n            Add documents to the knowledge base\n          </p>\n        </div>\n      </div>\n\n      {/* Form */}\n      <form onSubmit={handleSubmit} style={{ padding: '24px' }}>\n        {/* Type Selector */}\n        <div style={{ marginBottom: '20px' }}>\n          <label style={{ display: 'block', fontSize: '13px', fontWeight: 500, color: '#374151', marginBottom: '8px' }}>\n            Content Type\n          </label>\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '8px' }}>\n            {typeOptions.map((option) => {\n              const Icon = option.icon;\n              const isSelected = ingestType === option.value;\n              return (\n                <button\n                  key={option.value}\n                  type=\"button\"\n                  onClick={() => setIngestType(option.value)}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    gap: '8px',\n                    padding: '12px 16px',\n                    backgroundColor: isSelected ? '#3B82F6' : '#FFFFFF',\n                    color: isSelected ? '#FFFFFF' : '#6B7280',\n                    border: isSelected ? '1px solid #3B82F6' : '1px solid #E5E5E7',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    fontWeight: 500,\n                    cursor: 'pointer',\n                    transition: 'all 0.15s',\n                  }}\n                >\n                  <Icon size={16} />\n                  {option.label}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Title Input */}\n        <div style={{ marginBottom: '20px' }}>\n          <label style={{ display: 'block', fontSize: '13px', fontWeight: 500, color: '#374151', marginBottom: '8px' }}>\n            Title\n          </label>\n          <input\n            type=\"text\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            placeholder=\"Enter document title...\"\n            disabled={isIngesting}\n            style={{\n              width: '100%',\n              padding: '12px 16px',\n              backgroundColor: '#FFFFFF',\n              border: '1px solid #E5E5E7',\n              borderRadius: '8px',\n              fontSize: '14px',\n              color: '#1D1D1F',\n              outline: 'none',\n            }}\n          />\n        </div>\n\n        {/* Path/Content Input */}\n        {ingestType === 'text' ? (\n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'block', fontSize: '13px', fontWeight: 500, color: '#374151', marginBottom: '8px' }}>\n              Text Content\n            </label>\n            <textarea\n              value={textContent}\n              onChange={(e) => setTextContent(e.target.value)}\n              placeholder=\"Paste or type content here...\"\n              rows={6}\n              disabled={isIngesting}\n              style={{\n                width: '100%',\n                padding: '12px 16px',\n                backgroundColor: '#FFFFFF',\n                border: '1px solid #E5E5E7',\n                borderRadius: '8px',\n                fontSize: '14px',\n                color: '#1D1D1F',\n                fontFamily: 'monospace',\n                resize: 'vertical',\n                outline: 'none',\n              }}\n            />\n            <p style={{ marginTop: '6px', fontSize: '12px', color: '#9CA3AF' }}>\n              Content will be chunked and embedded for semantic search\n            </p>\n          </div>\n        ) : (\n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'block', fontSize: '13px', fontWeight: 500, color: '#374151', marginBottom: '8px' }}>\n              {ingestType === 'file' ? 'File Path' : 'Directory Path'}\n            </label>\n            <input\n              type=\"text\"\n              value={path}\n              onChange={(e) => setPath(e.target.value)}\n              placeholder={\n                ingestType === 'file'\n                  ? '/path/to/document.txt'\n                  : '/path/to/directory'\n              }\n              disabled={isIngesting}\n              style={{\n                width: '100%',\n                padding: '12px 16px',\n                backgroundColor: '#FFFFFF',\n                border: '1px solid #E5E5E7',\n                borderRadius: '8px',\n                fontSize: '14px',\n                color: '#1D1D1F',\n                fontFamily: 'monospace',\n                outline: 'none',\n              }}\n            />\n            <p style={{ marginTop: '6px', fontSize: '12px', color: '#9CA3AF' }}>\n              {ingestType === 'file'\n                ? 'Absolute or relative path to the file'\n                : 'All text files in directory will be ingested'}\n            </p>\n          </div>\n        )}\n\n        {/* Submit Button */}\n        <button\n          type=\"submit\"\n          disabled={!isFormValid() || isIngesting}\n          style={{\n            width: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '8px',\n            padding: '14px 20px',\n            backgroundColor: isFormValid() && !isIngesting ? '#3B82F6' : '#E5E5E7',\n            color: isFormValid() && !isIngesting ? '#FFFFFF' : '#9CA3AF',\n            border: 'none',\n            borderRadius: '8px',\n            fontSize: '14px',\n            fontWeight: 500,\n            cursor: isFormValid() && !isIngesting ? 'pointer' : 'not-allowed',\n            transition: 'all 0.15s',\n          }}\n        >\n          {isIngesting ? (\n            <>\n              <Loader2 size={18} style={{ animation: 'spin 1s linear infinite' }} />\n              <span>Ingesting...</span>\n            </>\n          ) : (\n            <>\n              <Upload size={18} />\n              <span>Ingest Content</span>\n            </>\n          )}\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default IngestionPanel;\n","/**\n * SearchResults - Prism-style search results display\n *\n * Displays RAG search results with similarity scores.\n * Shows ranked results with document titles and matched text chunks.\n */\nimport type { FC } from 'react';\nimport type { SearchResult } from '../../api/knowledge';\nimport { Search, TrendingUp, X } from 'lucide-react';\n\ninterface SearchResultsProps {\n  results: SearchResult[];\n  query: string;\n  searchTimeMs?: number;\n  onClear: () => void;\n}\n\nconst SearchResults: FC<SearchResultsProps> = ({\n  results,\n  query,\n  searchTimeMs,\n  onClear,\n}) => {\n  if (results.length === 0) {\n    return (\n      <div\n        style={{\n          backgroundColor: '#FFFFFF',\n          borderRadius: '12px',\n          border: '1px solid #E5E5E7',\n          padding: '60px 20px',\n          textAlign: 'center',\n        }}\n      >\n        <div\n          style={{\n            width: '64px',\n            height: '64px',\n            borderRadius: '16px',\n            backgroundColor: '#F3F4F6',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            margin: '0 auto 16px',\n          }}\n        >\n          <Search size={32} style={{ color: '#9CA3AF' }} />\n        </div>\n        <h3 style={{ fontSize: '18px', fontWeight: 600, color: '#1D1D1F', marginBottom: '8px' }}>\n          No Results Found\n        </h3>\n        <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '24px' }}>\n          No documents matched your query: \"{query}\"\n        </p>\n        <button\n          onClick={onClear}\n          style={{\n            padding: '10px 20px',\n            backgroundColor: '#F3F4F6',\n            color: '#6B7280',\n            border: '1px solid #E5E5E7',\n            borderRadius: '8px',\n            fontSize: '14px',\n            fontWeight: 500,\n            cursor: 'pointer',\n          }}\n        >\n          Clear Search\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {/* Results Header */}\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          marginBottom: '16px',\n        }}\n      >\n        <div>\n          <h3 style={{ fontSize: '16px', fontWeight: 600, color: '#1D1D1F' }}>\n            Search Results\n          </h3>\n          <p style={{ fontSize: '12px', color: '#6B7280', marginTop: '2px' }}>\n            Found {results.length} result{results.length !== 1 ? 's' : ''} for \"{query}\"\n            {searchTimeMs !== undefined && ` in ${searchTimeMs}ms`}\n          </p>\n        </div>\n        <button\n          onClick={onClear}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '6px',\n            padding: '8px 12px',\n            backgroundColor: '#F3F4F6',\n            color: '#6B7280',\n            border: '1px solid #E5E5E7',\n            borderRadius: '8px',\n            fontSize: '13px',\n            fontWeight: 500,\n            cursor: 'pointer',\n          }}\n        >\n          <X size={14} />\n          Clear\n        </button>\n      </div>\n\n      {/* Results List */}\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n        {results.map((result, index) => (\n          <div\n            key={`${result.document_id}-${index}`}\n            style={{\n              backgroundColor: '#FFFFFF',\n              borderRadius: '12px',\n              border: '1px solid #E5E5E7',\n              padding: '20px',\n              transition: 'all 0.15s ease',\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.borderColor = '#3B82F6';\n              e.currentTarget.style.boxShadow = '0 4px 12px rgba(59, 130, 246, 0.1)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.borderColor = '#E5E5E7';\n              e.currentTarget.style.boxShadow = 'none';\n            }}\n          >\n            {/* Header with Score */}\n            <div style={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'space-between', marginBottom: '12px' }}>\n              <div style={{ flex: 1, minWidth: 0 }}>\n                {/* Rank Badge and Title */}\n                <div style={{ display: 'flex', alignItems: 'center', gap: '10px', marginBottom: '4px' }}>\n                  <span\n                    style={{\n                      display: 'inline-flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      width: '24px',\n                      height: '24px',\n                      borderRadius: '50%',\n                      backgroundColor: '#3B82F6',\n                      color: '#FFFFFF',\n                      fontSize: '12px',\n                      fontWeight: 700,\n                    }}\n                  >\n                    {index + 1}\n                  </span>\n                  <h4\n                    style={{\n                      fontSize: '15px',\n                      fontWeight: 600,\n                      color: '#1D1D1F',\n                      overflow: 'hidden',\n                      textOverflow: 'ellipsis',\n                      whiteSpace: 'nowrap',\n                    }}\n                  >\n                    {result.document_title}\n                  </h4>\n                </div>\n              </div>\n\n              {/* Similarity Score */}\n              <div\n                style={{\n                  flexShrink: 0,\n                  marginLeft: '16px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  padding: '6px 10px',\n                  backgroundColor: 'rgba(59, 130, 246, 0.1)',\n                  border: '1px solid rgba(59, 130, 246, 0.2)',\n                  borderRadius: '8px',\n                }}\n              >\n                <TrendingUp size={14} style={{ color: '#3B82F6' }} />\n                <span style={{ fontSize: '13px', fontWeight: 600, color: '#3B82F6' }}>\n                  {(result.similarity_score * 100).toFixed(1)}%\n                </span>\n              </div>\n            </div>\n\n            {/* Matched Text */}\n            <div style={{ position: 'relative', paddingLeft: '16px' }}>\n              <div\n                style={{\n                  position: 'absolute',\n                  left: 0,\n                  top: 0,\n                  bottom: 0,\n                  width: '3px',\n                  backgroundColor: '#3B82F6',\n                  borderRadius: '2px',\n                }}\n              />\n              <p\n                style={{\n                  fontSize: '14px',\n                  color: '#6B7280',\n                  lineHeight: '1.6',\n                  display: '-webkit-box',\n                  WebkitLineClamp: 4,\n                  WebkitBoxOrient: 'vertical',\n                  overflow: 'hidden',\n                }}\n              >\n                {result.chunk_text}\n              </p>\n            </div>\n\n            {/* Metadata (if available) */}\n            {result.metadata && Object.keys(result.metadata).length > 0 && (\n              <div\n                style={{\n                  marginTop: '12px',\n                  paddingTop: '12px',\n                  borderTop: '1px solid #F0F0F2',\n                  display: 'flex',\n                  flexWrap: 'wrap',\n                  gap: '8px',\n                }}\n              >\n                {Object.entries(result.metadata).map(([key, value]) => (\n                  <span\n                    key={key}\n                    style={{\n                      display: 'inline-flex',\n                      alignItems: 'center',\n                      padding: '4px 8px',\n                      backgroundColor: '#F3F4F6',\n                      border: '1px solid #E5E5E7',\n                      borderRadius: '4px',\n                      fontSize: '11px',\n                      color: '#6B7280',\n                    }}\n                  >\n                    <span style={{ fontWeight: 600 }}>{key}:</span>\n                    <span style={{ marginLeft: '4px' }}>{String(value)}</span>\n                  </span>\n                ))}\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default SearchResults;\n","/**\n * KnowledgePage - Prism-style knowledge base management\n *\n * Displays documents, provides search, and handles ingestion.\n * Uses Apple-inspired light theme with white cards on light gray background.\n */\nimport type { FC } from 'react';\nimport { useState, useEffect, useCallback } from 'react';\nimport {\n  getDocuments,\n  searchKnowledge,\n  ingestDocument,\n  deleteDocument,\n  getKnowledgeStats,\n  type KnowledgeDocument,\n  type SearchResult,\n  type IngestRequest,\n  type KnowledgeStats,\n} from '../../api/knowledge';\nimport DocumentCard from './DocumentCard';\nimport IngestionPanel from './IngestionPanel';\nimport SearchResults from './SearchResults';\nimport {\n  Database,\n  AlertCircle,\n  Loader2,\n  Plus,\n  Search,\n  X,\n  FileText,\n  Box,\n  HardDrive,\n  CheckCircle,\n} from 'lucide-react';\n\nconst KnowledgePage: FC = () => {\n  // State\n  const [documents, setDocuments] = useState<KnowledgeDocument[]>([]);\n  const [stats, setStats] = useState<KnowledgeStats | null>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState<SearchResult[]>([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [isIngesting, setIsIngesting] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\n  const [searchTimeMs, setSearchTimeMs] = useState<number | undefined>();\n  const [showIngestion, setShowIngestion] = useState(false);\n\n  // Load documents and stats\n  const loadData = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n      const [docsResponse, statsResponse] = await Promise.all([\n        getDocuments(),\n        getKnowledgeStats(),\n      ]);\n      setDocuments(docsResponse.documents);\n      setStats(statsResponse);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to load knowledge base');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  // Handle search\n  const handleSearch = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!searchQuery.trim()) return;\n\n    try {\n      setIsSearching(true);\n      setError(null);\n      const response = await searchKnowledge({\n        query: searchQuery,\n        limit: 10,\n        min_score: 0.7,\n      });\n      setSearchResults(response.results);\n      setSearchTimeMs(response.search_time_ms);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Search failed');\n      setSearchResults([]);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  // Handle ingestion\n  const handleIngest = async (request: IngestRequest) => {\n    try {\n      setIsIngesting(true);\n      setError(null);\n      const response = await ingestDocument(request);\n      setSuccessMessage(\n        `Successfully ingested \"${response.title}\" with ${response.chunk_count} chunks`\n      );\n      await loadData();\n      setShowIngestion(false);\n      setTimeout(() => setSuccessMessage(null), 5000);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Ingestion failed');\n    } finally {\n      setIsIngesting(false);\n    }\n  };\n\n  // Handle delete\n  const handleDelete = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this document?')) return;\n\n    try {\n      setError(null);\n      await deleteDocument(id);\n      setSuccessMessage('Document deleted successfully');\n      await loadData();\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Delete failed');\n    }\n  };\n\n  // Clear search\n  const clearSearch = () => {\n    setSearchQuery('');\n    setSearchResults([]);\n    setSearchTimeMs(undefined);\n  };\n\n  // Format file size\n  const formatSize = (bytes: number): string => {\n    if (bytes < 1024) return `${bytes} B`;\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n    return `${(bytes / 1024 / 1024).toFixed(2)} MB`;\n  };\n\n  return (\n    <div style={{ minHeight: '100%' }}>\n      {/* Page Header */}\n      <div style={{ marginBottom: '24px' }}>\n        <div style={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'space-between', marginBottom: '16px' }}>\n          <div>\n            <h1 style={{ fontSize: '28px', fontWeight: 700, color: '#1D1D1F', marginBottom: '8px' }}>\n              Knowledge Base\n            </h1>\n            <p style={{ fontSize: '14px', color: '#6B7280' }}>\n              Semantic search and document management\n            </p>\n          </div>\n\n          {/* Ingest Toggle Button */}\n          <button\n            onClick={() => setShowIngestion(!showIngestion)}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              padding: '10px 20px',\n              backgroundColor: showIngestion ? '#FEE2E2' : '#22C55E',\n              color: showIngestion ? '#DC2626' : '#FFFFFF',\n              border: showIngestion ? '1px solid #FECACA' : 'none',\n              borderRadius: '10px',\n              fontSize: '14px',\n              fontWeight: 500,\n              cursor: 'pointer',\n              transition: 'all 0.15s',\n            }}\n          >\n            {showIngestion ? (\n              <>\n                <X size={18} />\n                <span>Cancel</span>\n              </>\n            ) : (\n              <>\n                <Plus size={18} />\n                <span>Ingest Content</span>\n              </>\n            )}\n          </button>\n        </div>\n\n        {/* Stats */}\n        {stats && (\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '16px' }}>\n            <div\n              style={{\n                padding: '16px 20px',\n                backgroundColor: '#FFFFFF',\n                borderRadius: '12px',\n                border: '1px solid #E5E5E7',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '12px',\n              }}\n            >\n              <div\n                style={{\n                  width: '40px',\n                  height: '40px',\n                  borderRadius: '10px',\n                  backgroundColor: 'rgba(59, 130, 246, 0.1)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                }}\n              >\n                <FileText size={20} style={{ color: '#3B82F6' }} />\n              </div>\n              <div>\n                <p style={{ fontSize: '11px', color: '#9CA3AF', fontWeight: 500, textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                  Documents\n                </p>\n                <p style={{ fontSize: '24px', fontWeight: 700, color: '#1D1D1F', fontFamily: 'monospace' }}>\n                  {stats.total_documents}\n                </p>\n              </div>\n            </div>\n\n            <div\n              style={{\n                padding: '16px 20px',\n                backgroundColor: '#FFFFFF',\n                borderRadius: '12px',\n                border: '1px solid #E5E5E7',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '12px',\n              }}\n            >\n              <div\n                style={{\n                  width: '40px',\n                  height: '40px',\n                  borderRadius: '10px',\n                  backgroundColor: 'rgba(139, 92, 246, 0.1)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                }}\n              >\n                <Box size={20} style={{ color: '#8B5CF6' }} />\n              </div>\n              <div>\n                <p style={{ fontSize: '11px', color: '#9CA3AF', fontWeight: 500, textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                  Chunks\n                </p>\n                <p style={{ fontSize: '24px', fontWeight: 700, color: '#1D1D1F', fontFamily: 'monospace' }}>\n                  {stats.total_chunks}\n                </p>\n              </div>\n            </div>\n\n            <div\n              style={{\n                padding: '16px 20px',\n                backgroundColor: '#FFFFFF',\n                borderRadius: '12px',\n                border: '1px solid #E5E5E7',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '12px',\n              }}\n            >\n              <div\n                style={{\n                  width: '40px',\n                  height: '40px',\n                  borderRadius: '10px',\n                  backgroundColor: 'rgba(34, 197, 94, 0.1)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                }}\n              >\n                <HardDrive size={20} style={{ color: '#22C55E' }} />\n              </div>\n              <div>\n                <p style={{ fontSize: '11px', color: '#9CA3AF', fontWeight: 500, textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                  Total Size\n                </p>\n                <p style={{ fontSize: '24px', fontWeight: 700, color: '#1D1D1F', fontFamily: 'monospace' }}>\n                  {formatSize(stats.total_size_bytes)}\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Success Message */}\n      {successMessage && (\n        <div\n          style={{\n            marginBottom: '24px',\n            padding: '16px',\n            borderRadius: '12px',\n            backgroundColor: 'rgba(34, 197, 94, 0.1)',\n            border: '1px solid rgba(34, 197, 94, 0.2)',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '12px',\n          }}\n        >\n          <CheckCircle size={20} style={{ color: '#22C55E', flexShrink: 0 }} />\n          <p style={{ fontSize: '14px', fontWeight: 500, color: '#166534' }}>{successMessage}</p>\n        </div>\n      )}\n\n      {/* Error Message */}\n      {error && (\n        <div\n          style={{\n            marginBottom: '24px',\n            padding: '16px',\n            borderRadius: '12px',\n            backgroundColor: '#FEF2F2',\n            border: '1px solid #FECACA',\n            display: 'flex',\n            alignItems: 'flex-start',\n            gap: '12px',\n          }}\n        >\n          <AlertCircle size={20} style={{ color: '#EF4444', flexShrink: 0 }} />\n          <div>\n            <p style={{ fontSize: '14px', fontWeight: 600, color: '#B91C1C', marginBottom: '4px' }}>\n              Error\n            </p>\n            <p style={{ fontSize: '13px', color: '#DC2626' }}>{error}</p>\n          </div>\n        </div>\n      )}\n\n      {/* Ingestion Panel (Collapsible) */}\n      {showIngestion && (\n        <div style={{ marginBottom: '24px' }}>\n          <IngestionPanel onIngest={handleIngest} isIngesting={isIngesting} />\n        </div>\n      )}\n\n      {/* Search Bar */}\n      <div style={{ marginBottom: '24px' }}>\n        <form onSubmit={handleSearch}>\n          <div style={{ position: 'relative' }}>\n            <div\n              style={{\n                position: 'absolute',\n                left: '16px',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                pointerEvents: 'none',\n              }}\n            >\n              <Search size={20} style={{ color: '#9CA3AF' }} />\n            </div>\n            <input\n              type=\"text\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search knowledge base with semantic search...\"\n              disabled={isSearching}\n              style={{\n                width: '100%',\n                padding: '14px 140px 14px 48px',\n                backgroundColor: '#FFFFFF',\n                border: '1px solid #E5E5E7',\n                borderRadius: '12px',\n                fontSize: '15px',\n                color: '#1D1D1F',\n                outline: 'none',\n              }}\n            />\n            <div\n              style={{\n                position: 'absolute',\n                right: '8px',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n              }}\n            >\n              {searchQuery && (\n                <button\n                  type=\"button\"\n                  onClick={clearSearch}\n                  style={{\n                    padding: '8px 12px',\n                    backgroundColor: 'transparent',\n                    border: 'none',\n                    fontSize: '13px',\n                    color: '#6B7280',\n                    cursor: 'pointer',\n                  }}\n                >\n                  Clear\n                </button>\n              )}\n              <button\n                type=\"submit\"\n                disabled={!searchQuery.trim() || isSearching}\n                style={{\n                  padding: '8px 16px',\n                  backgroundColor: searchQuery.trim() && !isSearching ? '#3B82F6' : '#E5E5E7',\n                  color: searchQuery.trim() && !isSearching ? '#FFFFFF' : '#9CA3AF',\n                  border: 'none',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  fontWeight: 500,\n                  cursor: searchQuery.trim() && !isSearching ? 'pointer' : 'not-allowed',\n                }}\n              >\n                {isSearching ? 'Searching...' : 'Search'}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n\n      {/* Search Results */}\n      {searchResults.length > 0 && (\n        <div style={{ marginBottom: '24px' }}>\n          <SearchResults\n            results={searchResults}\n            query={searchQuery}\n            searchTimeMs={searchTimeMs}\n            onClear={clearSearch}\n          />\n        </div>\n      )}\n\n      {/* Documents List */}\n      <div>\n        <h2 style={{ fontSize: '18px', fontWeight: 600, color: '#1D1D1F', marginBottom: '16px' }}>\n          All Documents ({documents.length})\n        </h2>\n\n        {isLoading ? (\n          <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '80px 0' }}>\n            <div style={{ textAlign: 'center' }}>\n              <div\n                style={{\n                  width: '64px',\n                  height: '64px',\n                  borderRadius: '16px',\n                  backgroundColor: '#F3F4F6',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  margin: '0 auto 16px',\n                }}\n              >\n                <Loader2 size={32} style={{ color: '#3B82F6', animation: 'spin 1s linear infinite' }} />\n              </div>\n              <p style={{ fontSize: '14px', color: '#6B7280' }}>Loading documents...</p>\n            </div>\n          </div>\n        ) : documents.length === 0 ? (\n          <div\n            style={{\n              backgroundColor: '#FFFFFF',\n              borderRadius: '12px',\n              border: '1px solid #E5E5E7',\n              padding: '60px 20px',\n              textAlign: 'center',\n            }}\n          >\n            <div\n              style={{\n                width: '64px',\n                height: '64px',\n                borderRadius: '16px',\n                backgroundColor: '#F3F4F6',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                margin: '0 auto 16px',\n              }}\n            >\n              <Database size={32} style={{ color: '#9CA3AF' }} />\n            </div>\n            <h3 style={{ fontSize: '18px', fontWeight: 600, color: '#1D1D1F', marginBottom: '8px' }}>\n              No Documents\n            </h3>\n            <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '24px', maxWidth: '320px', margin: '0 auto 24px' }}>\n              The knowledge base is empty. Start by ingesting some content.\n            </p>\n            <button\n              onClick={() => setShowIngestion(true)}\n              style={{\n                padding: '10px 20px',\n                backgroundColor: '#22C55E',\n                color: '#FFFFFF',\n                border: 'none',\n                borderRadius: '8px',\n                fontSize: '14px',\n                fontWeight: 500,\n                cursor: 'pointer',\n              }}\n            >\n              Ingest Content\n            </button>\n          </div>\n        ) : (\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(320px, 1fr))', gap: '16px' }}>\n            {documents.map((doc) => (\n              <DocumentCard key={doc.id} document={doc} onDelete={handleDelete} />\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default KnowledgePage;\n","import type { FC, ReactNode } from 'react';\n\ninterface SettingsSectionProps {\n  title: string;\n  description?: string;\n  icon?: ReactNode;\n  iconColor?: string;\n  children: ReactNode;\n  /** Optional: no padding on body for custom layouts */\n  noPadding?: boolean;\n}\n\n/**\n * SettingsSection is a reusable section wrapper for the settings page.\n * Provides consistent styling with glass morphism and Apple-inspired design.\n *\n * Design Philosophy:\n * - Large, colorful icons in subtle background circles\n * - Clear visual hierarchy with title and description\n * - Soft borders with hover effects\n * - Consistent spacing matching Prism design language\n */\nconst SettingsSection: FC<SettingsSectionProps> = ({\n  title,\n  description,\n  icon,\n  iconColor = 'from-accent to-accent-secondary',\n  children,\n  noPadding = false,\n}) => {\n  return (\n    <div\n      className=\"group relative rounded-2xl overflow-hidden transition-all duration-300\"\n      style={{\n        background: 'linear-gradient(135deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%)',\n        border: '1px solid rgba(255,255,255,0.08)',\n        boxShadow: '0 4px 24px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.08)',\n      }}\n    >\n      {/* Subtle gradient overlay on hover */}\n      <div\n        className=\"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\"\n        style={{\n          background: 'linear-gradient(135deg, rgba(255,255,255,0.02) 0%, transparent 100%)',\n        }}\n      />\n\n      {/* Content */}\n      <div className=\"relative\">\n        {/* Header */}\n        <div className=\"px-6 pt-6 pb-5\">\n          <div className=\"flex items-start gap-4\">\n            {icon && (\n              <div\n                className={`flex-shrink-0 w-12 h-12 rounded-xl bg-gradient-to-br ${iconColor} flex items-center justify-center shadow-lg`}\n                style={{\n                  boxShadow: '0 4px 12px rgba(0,0,0,0.15), 0 0 0 1px rgba(255,255,255,0.1) inset',\n                }}\n              >\n                {icon}\n              </div>\n            )}\n            <div className=\"flex-1 min-w-0\">\n              <h3\n                className=\"text-lg font-semibold mb-1\"\n                style={{ color: 'rgba(255,255,255,0.95)' }}\n              >\n                {title}\n              </h3>\n              {description && (\n                <p\n                  className=\"text-sm leading-relaxed\"\n                  style={{ color: 'rgba(255,255,255,0.55)' }}\n                >\n                  {description}\n                </p>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Subtle divider */}\n        <div\n          className=\"mx-6\"\n          style={{\n            height: '1px',\n            background: 'linear-gradient(90deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.03) 100%)'\n          }}\n        />\n\n        {/* Body */}\n        <div className={noPadding ? '' : 'px-6 py-5'}>\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SettingsSection;\n","import { FC, useState } from 'react';\nimport type { LLMProviderConfig, ProviderStatus } from '../../api/types';\nimport SettingsSection from './SettingsSection';\n\ninterface ProviderSettingsProps {\n  providers: Record<string, LLMProviderConfig>;\n  providerStatus: ProviderStatus;\n  onUpdateProvider: (providerId: string, config: LLMProviderConfig) => Promise<void>;\n  onTestConnection: (providerId: string) => Promise<boolean>;\n}\n\ninterface ProviderCardProps {\n  name: string;\n  description: string;\n  icon: React.ReactNode;\n  accentColor: string;\n  isOnline: boolean;\n  config: LLMProviderConfig;\n  onSave: (config: LLMProviderConfig) => Promise<void>;\n  onTest: () => Promise<boolean>;\n  showEndpoint?: boolean;\n}\n\n/**\n * ProviderCard displays configuration for a single LLM provider.\n * Redesigned with cleaner visuals and better hierarchy.\n */\nconst ProviderCard: FC<ProviderCardProps> = ({\n  name,\n  description,\n  icon,\n  accentColor,\n  isOnline,\n  config,\n  onSave,\n  onTest,\n  showEndpoint = false,\n}) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [isTesting, setIsTesting] = useState(false);\n  const [isSaving, setIsSaving] = useState(false);\n  const [showKey, setShowKey] = useState(false);\n  const [formData, setFormData] = useState<LLMProviderConfig>(config);\n  const [testResult, setTestResult] = useState<boolean | null>(null);\n\n  const handleSave = async () => {\n    setIsSaving(true);\n    try {\n      await onSave(formData);\n      setIsEditing(false);\n      setTestResult(null);\n    } catch (error) {\n      console.error('Failed to save provider config:', error);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleTest = async () => {\n    setIsTesting(true);\n    try {\n      const result = await onTest();\n      setTestResult(result);\n    } catch (error) {\n      console.error('Failed to test connection:', error);\n      setTestResult(false);\n    } finally {\n      setIsTesting(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setFormData(config);\n    setIsEditing(false);\n    setTestResult(null);\n  };\n\n  const hasApiKey = config.api_key && config.api_key.length > 0;\n\n  return (\n    <div\n      className=\"group relative rounded-xl overflow-hidden transition-all duration-200\"\n      style={{\n        background: isEditing\n          ? 'rgba(255,255,255,0.04)'\n          : 'rgba(255,255,255,0.02)',\n        border: `1px solid ${isEditing ? 'rgba(255,255,255,0.12)' : 'rgba(255,255,255,0.06)'}`,\n      }}\n    >\n      {/* Header */}\n      <div className=\"px-4 py-4 flex items-center gap-4\">\n        {/* Provider Icon */}\n        <div\n          className=\"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center\"\n          style={{ background: accentColor }}\n        >\n          {icon}\n        </div>\n\n        {/* Provider Info */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2 mb-0.5\">\n            <span\n              className=\"text-sm font-semibold\"\n              style={{ color: 'rgba(255,255,255,0.92)' }}\n            >\n              {name}\n            </span>\n            {/* Status Pill */}\n            <div\n              className=\"flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium\"\n              style={{\n                background: isOnline ? 'rgba(34,197,94,0.15)' : 'rgba(239,68,68,0.15)',\n                color: isOnline ? '#22C55E' : '#EF4444',\n              }}\n            >\n              <div\n                className=\"w-1.5 h-1.5 rounded-full\"\n                style={{ background: isOnline ? '#22C55E' : '#EF4444' }}\n              />\n              {isOnline ? 'Connected' : 'Offline'}\n            </div>\n          </div>\n          <p\n            className=\"text-xs\"\n            style={{ color: 'rgba(255,255,255,0.45)' }}\n          >\n            {hasApiKey && !isEditing ? 'API key configured' : description}\n          </p>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex items-center gap-2\">\n          {!isEditing ? (\n            <button\n              onClick={() => setIsEditing(true)}\n              className=\"px-3 py-1.5 text-xs font-medium rounded-lg transition-all\"\n              style={{\n                color: 'rgba(255,255,255,0.7)',\n                background: 'rgba(255,255,255,0.06)',\n                border: '1px solid rgba(255,255,255,0.08)',\n              }}\n              onMouseOver={(e) => {\n                e.currentTarget.style.background = 'rgba(255,255,255,0.1)';\n                e.currentTarget.style.color = 'rgba(255,255,255,0.9)';\n              }}\n              onMouseOut={(e) => {\n                e.currentTarget.style.background = 'rgba(255,255,255,0.06)';\n                e.currentTarget.style.color = 'rgba(255,255,255,0.7)';\n              }}\n            >\n              Configure\n            </button>\n          ) : (\n            <>\n              <button\n                onClick={handleCancel}\n                disabled={isSaving}\n                className=\"px-3 py-1.5 text-xs font-medium rounded-lg transition-all disabled:opacity-50\"\n                style={{\n                  color: 'rgba(255,255,255,0.6)',\n                  background: 'transparent',\n                  border: '1px solid rgba(255,255,255,0.1)',\n                }}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSave}\n                disabled={isSaving}\n                className=\"px-3 py-1.5 text-xs font-medium text-white rounded-lg transition-all disabled:opacity-50 flex items-center gap-1.5\"\n                style={{ background: '#3B82F6' }}\n              >\n                {isSaving ? (\n                  <>\n                    <svg className=\"w-3 h-3 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                    </svg>\n                    Saving...\n                  </>\n                ) : (\n                  'Save'\n                )}\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Expandable Form */}\n      {isEditing && (\n        <div\n          className=\"px-4 pb-4 pt-2 space-y-4\"\n          style={{ borderTop: '1px solid rgba(255,255,255,0.06)' }}\n        >\n          {/* Endpoint (Ollama only) */}\n          {showEndpoint && (\n            <div>\n              <label\n                className=\"block text-xs font-medium mb-2\"\n                style={{ color: 'rgba(255,255,255,0.6)' }}\n              >\n                Endpoint URL\n              </label>\n              <input\n                type=\"text\"\n                value={formData.endpoint || ''}\n                onChange={(e) => setFormData({ ...formData, endpoint: e.target.value })}\n                placeholder=\"http://localhost:11434\"\n                className=\"w-full px-3 py-2.5 rounded-lg text-sm font-mono transition-all focus:outline-none\"\n                style={{\n                  background: 'rgba(0,0,0,0.2)',\n                  border: '1px solid rgba(255,255,255,0.08)',\n                  color: 'rgba(255,255,255,0.9)',\n                }}\n              />\n            </div>\n          )}\n\n          {/* API Key */}\n          {!showEndpoint && (\n            <div>\n              <label\n                className=\"block text-xs font-medium mb-2\"\n                style={{ color: 'rgba(255,255,255,0.6)' }}\n              >\n                API Key\n              </label>\n              <div className=\"relative\">\n                <input\n                  type={showKey ? 'text' : 'password'}\n                  value={formData.api_key || ''}\n                  onChange={(e) => setFormData({ ...formData, api_key: e.target.value })}\n                  placeholder={`Enter your ${name} API key`}\n                  className=\"w-full px-3 py-2.5 pr-10 rounded-lg text-sm font-mono transition-all focus:outline-none\"\n                  style={{\n                    background: 'rgba(0,0,0,0.2)',\n                    border: '1px solid rgba(255,255,255,0.08)',\n                    color: 'rgba(255,255,255,0.9)',\n                  }}\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowKey(!showKey)}\n                  className=\"absolute right-2.5 top-1/2 -translate-y-1/2 p-1 rounded transition-colors\"\n                  style={{ color: 'rgba(255,255,255,0.4)' }}\n                  title={showKey ? 'Hide API key' : 'Show API key'}\n                >\n                  {showKey ? (\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\n                    </svg>\n                  ) : (\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                    </svg>\n                  )}\n                </button>\n              </div>\n              <p className=\"mt-1.5 text-xs\" style={{ color: 'rgba(255,255,255,0.35)' }}>\n                Stored securely, never shared\n              </p>\n            </div>\n          )}\n\n          {/* Default Model */}\n          <div>\n            <label\n              className=\"block text-xs font-medium mb-2\"\n              style={{ color: 'rgba(255,255,255,0.6)' }}\n            >\n              Default Model\n            </label>\n            <input\n              type=\"text\"\n              value={formData.model || ''}\n              onChange={(e) => setFormData({ ...formData, model: e.target.value })}\n              placeholder={showEndpoint ? 'llama3.2' : `e.g., ${config.model || 'model-name'}`}\n              className=\"w-full px-3 py-2.5 rounded-lg text-sm font-mono transition-all focus:outline-none\"\n              style={{\n                background: 'rgba(0,0,0,0.2)',\n                border: '1px solid rgba(255,255,255,0.08)',\n                color: 'rgba(255,255,255,0.9)',\n              }}\n            />\n          </div>\n\n          {/* Test Connection */}\n          <div className=\"pt-1\">\n            <button\n              onClick={handleTest}\n              disabled={isTesting}\n              className=\"w-full px-3 py-2.5 text-sm font-medium rounded-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2\"\n              style={{\n                background: 'rgba(255,255,255,0.04)',\n                border: '1px solid rgba(255,255,255,0.08)',\n                color: 'rgba(255,255,255,0.7)',\n              }}\n            >\n              {isTesting ? (\n                <>\n                  <svg className=\"w-4 h-4 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                  </svg>\n                  Testing...\n                </>\n              ) : (\n                <>\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                  </svg>\n                  Test Connection\n                </>\n              )}\n            </button>\n\n            {/* Test Result */}\n            {testResult !== null && (\n              <div\n                className=\"mt-3 px-3 py-2.5 rounded-lg text-sm flex items-center gap-2\"\n                style={{\n                  background: testResult ? 'rgba(34,197,94,0.1)' : 'rgba(239,68,68,0.1)',\n                  border: `1px solid ${testResult ? 'rgba(34,197,94,0.2)' : 'rgba(239,68,68,0.2)'}`,\n                  color: testResult ? '#22C55E' : '#EF4444',\n                }}\n              >\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  {testResult ? (\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                  ) : (\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  )}\n                </svg>\n                {testResult ? 'Connection successful' : 'Connection failed'}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Provider icons as SVG components for cleaner rendering\nconst OllamaIcon = () => (\n  <svg className=\"w-5 h-5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\"/>\n  </svg>\n);\n\nconst AnthropicIcon = () => (\n  <svg className=\"w-5 h-5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <path d=\"M12 2L2 19h4l1.5-3h9l1.5 3h4L12 2zm0 5.5L15.5 14h-7L12 7.5z\"/>\n  </svg>\n);\n\nconst OpenAIIcon = () => (\n  <svg className=\"w-5 h-5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <path d=\"M22.2 7.6c.4 1.2.6 2.5.6 3.8 0 2.3-.7 4.5-2 6.3-1.9 2.6-5 4.3-8.4 4.3-2.3 0-4.4-.7-6.2-1.9-.5-.3-.5-1 0-1.3l1.8-1.4c.3-.3.8-.3 1.1 0 1 .7 2.2 1.1 3.4 1.1 2 0 3.8-1 4.9-2.5.8-1.1 1.2-2.4 1.2-3.8 0-1-.2-1.9-.6-2.8-.6-1.3-1.6-2.3-2.9-3-.4-.2-.5-.7-.2-1l1.4-1.8c.3-.4.9-.5 1.3-.2 2.1 1.2 3.6 3.2 4.6 5.2zM7.5 15c-1.4 0-2.5-1.1-2.5-2.5S6.1 10 7.5 10s2.5 1.1 2.5 2.5S8.9 15 7.5 15z\"/>\n  </svg>\n);\n\nconst GeminiIcon = () => (\n  <svg className=\"w-5 h-5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n  </svg>\n);\n\n/**\n * ProviderSettings displays API key management for all LLM providers.\n * Shows connection status and allows configuration of Ollama, Anthropic, OpenAI, and Gemini.\n */\nconst ProviderSettings: FC<ProviderSettingsProps> = ({\n  providers,\n  providerStatus,\n  onUpdateProvider,\n  onTestConnection,\n}) => {\n  return (\n    <SettingsSection\n      title=\"AI Providers\"\n      description=\"Connect and configure your AI model providers\"\n      iconColor=\"from-emerald-500 to-teal-600\"\n      icon={\n        <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\n        </svg>\n      }\n    >\n      <div className=\"space-y-3\">\n        {/* Ollama - Local */}\n        <ProviderCard\n          name=\"Ollama\"\n          description=\"Run models locally with Ollama\"\n          icon={<OllamaIcon />}\n          accentColor=\"linear-gradient(135deg, #10B981 0%, #059669 100%)\"\n          isOnline={providerStatus.ollama}\n          config={providers.ollama || {}}\n          onSave={(config) => onUpdateProvider('ollama', config)}\n          onTest={() => onTestConnection('ollama')}\n          showEndpoint\n        />\n\n        {/* Anthropic - Claude */}\n        <ProviderCard\n          name=\"Anthropic\"\n          description=\"Claude models for reasoning & analysis\"\n          icon={<AnthropicIcon />}\n          accentColor=\"linear-gradient(135deg, #A855F7 0%, #7C3AED 100%)\"\n          isOnline={providerStatus.anthropic}\n          config={providers.anthropic || {}}\n          onSave={(config) => onUpdateProvider('anthropic', config)}\n          onTest={() => onTestConnection('anthropic')}\n        />\n\n        {/* OpenAI - GPT */}\n        <ProviderCard\n          name=\"OpenAI\"\n          description=\"GPT models for versatile AI tasks\"\n          icon={<OpenAIIcon />}\n          accentColor=\"linear-gradient(135deg, #3B82F6 0%, #06B6D4 100%)\"\n          isOnline={providerStatus.openai}\n          config={providers.openai || {}}\n          onSave={(config) => onUpdateProvider('openai', config)}\n          onTest={() => onTestConnection('openai')}\n        />\n\n        {/* Gemini - Google */}\n        <ProviderCard\n          name=\"Gemini\"\n          description=\"Google's multimodal AI models\"\n          icon={<GeminiIcon />}\n          accentColor=\"linear-gradient(135deg, #F59E0B 0%, #EF4444 100%)\"\n          isOnline={providerStatus.gemini}\n          config={providers.gemini || {}}\n          onSave={(config) => onUpdateProvider('gemini', config)}\n          onTest={() => onTestConnection('gemini')}\n        />\n      </div>\n    </SettingsSection>\n  );\n};\n\nexport default ProviderSettings;\n","import { FC, useState } from 'react';\nimport SettingsSection from './SettingsSection';\n\ninterface ModelSettingsProps {\n  defaultProvider: string;\n  providers: Record<string, { model?: string }>;\n  onUpdateDefaultProvider: (provider: string) => Promise<void>;\n}\n\ninterface ProviderOption {\n  id: string;\n  name: string;\n  description: string;\n  icon: React.ReactNode;\n  accentColor: string;\n  available: boolean;\n}\n\n// Provider icons as reusable components\nconst OllamaIcon = () => (\n  <svg className=\"w-5 h-5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\"/>\n  </svg>\n);\n\nconst AnthropicIcon = () => (\n  <svg className=\"w-5 h-5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <path d=\"M12 2L2 19h4l1.5-3h9l1.5 3h4L12 2zm0 5.5L15.5 14h-7L12 7.5z\"/>\n  </svg>\n);\n\nconst OpenAIIcon = () => (\n  <svg className=\"w-5 h-5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <path d=\"M22.2 7.6c.4 1.2.6 2.5.6 3.8 0 2.3-.7 4.5-2 6.3-1.9 2.6-5 4.3-8.4 4.3-2.3 0-4.4-.7-6.2-1.9-.5-.3-.5-1 0-1.3l1.8-1.4c.3-.3.8-.3 1.1 0 1 .7 2.2 1.1 3.4 1.1 2 0 3.8-1 4.9-2.5.8-1.1 1.2-2.4 1.2-3.8 0-1-.2-1.9-.6-2.8-.6-1.3-1.6-2.3-2.9-3-.4-.2-.5-.7-.2-1l1.4-1.8c.3-.4.9-.5 1.3-.2 2.1 1.2 3.6 3.2 4.6 5.2zM7.5 15c-1.4 0-2.5-1.1-2.5-2.5S6.1 10 7.5 10s2.5 1.1 2.5 2.5S8.9 15 7.5 15z\"/>\n  </svg>\n);\n\nconst GeminiIcon = () => (\n  <svg className=\"w-5 h-5 text-white\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n  </svg>\n);\n\nconst PROVIDER_OPTIONS: ProviderOption[] = [\n  {\n    id: 'ollama',\n    name: 'Ollama',\n    description: 'Local inference',\n    icon: <OllamaIcon />,\n    accentColor: 'linear-gradient(135deg, #10B981 0%, #059669 100%)',\n    available: true,\n  },\n  {\n    id: 'anthropic',\n    name: 'Anthropic',\n    description: 'Claude models',\n    icon: <AnthropicIcon />,\n    accentColor: 'linear-gradient(135deg, #A855F7 0%, #7C3AED 100%)',\n    available: true,\n  },\n  {\n    id: 'openai',\n    name: 'OpenAI',\n    description: 'GPT models',\n    icon: <OpenAIIcon />,\n    accentColor: 'linear-gradient(135deg, #3B82F6 0%, #06B6D4 100%)',\n    available: true,\n  },\n  {\n    id: 'gemini',\n    name: 'Gemini',\n    description: 'Google AI',\n    icon: <GeminiIcon />,\n    accentColor: 'linear-gradient(135deg, #F59E0B 0%, #EF4444 100%)',\n    available: true,\n  },\n];\n\n/**\n * ModelSettings displays default model selection and routing preferences.\n * Allows users to choose which provider to use by default.\n */\nconst ModelSettings: FC<ModelSettingsProps> = ({\n  defaultProvider,\n  providers,\n  onUpdateDefaultProvider,\n}) => {\n  const [selectedProvider, setSelectedProvider] = useState(defaultProvider);\n  const [isSaving, setIsSaving] = useState(false);\n  const [hasChanges, setHasChanges] = useState(false);\n\n  const handleProviderChange = (providerId: string) => {\n    setSelectedProvider(providerId);\n    setHasChanges(providerId !== defaultProvider);\n  };\n\n  const handleSave = async () => {\n    setIsSaving(true);\n    try {\n      await onUpdateDefaultProvider(selectedProvider);\n      setHasChanges(false);\n    } catch (error) {\n      console.error('Failed to update default provider:', error);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setSelectedProvider(defaultProvider);\n    setHasChanges(false);\n  };\n\n  return (\n    <SettingsSection\n      title=\"Default Model\"\n      description=\"Select your preferred AI provider for chat and task completion\"\n      iconColor=\"from-violet-500 to-purple-600\"\n      icon={\n        <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n        </svg>\n      }\n    >\n      <div className=\"space-y-5\">\n        {/* Provider Selection Grid */}\n        <div className=\"grid grid-cols-2 gap-3\">\n          {PROVIDER_OPTIONS.map((provider) => {\n            const isSelected = selectedProvider === provider.id;\n            const providerConfig = providers[provider.id];\n            const modelName = providerConfig?.model;\n\n            return (\n              <button\n                key={provider.id}\n                onClick={() => handleProviderChange(provider.id)}\n                className=\"relative rounded-xl p-4 text-left transition-all duration-200\"\n                style={{\n                  background: isSelected\n                    ? 'rgba(59, 130, 246, 0.12)'\n                    : 'rgba(255, 255, 255, 0.02)',\n                  border: `1px solid ${isSelected ? 'rgba(59, 130, 246, 0.4)' : 'rgba(255, 255, 255, 0.06)'}`,\n                  boxShadow: isSelected ? '0 0 0 1px rgba(59, 130, 246, 0.2)' : 'none',\n                }}\n              >\n                {/* Selected indicator */}\n                {isSelected && (\n                  <div\n                    className=\"absolute top-3 right-3 w-5 h-5 rounded-full flex items-center justify-center\"\n                    style={{ background: '#3B82F6' }}\n                  >\n                    <svg className=\"w-3 h-3 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                  </div>\n                )}\n\n                {/* Provider Icon */}\n                <div\n                  className=\"w-10 h-10 rounded-lg flex items-center justify-center mb-3\"\n                  style={{ background: provider.accentColor }}\n                >\n                  {provider.icon}\n                </div>\n\n                {/* Provider Info */}\n                <div\n                  className=\"text-sm font-semibold mb-0.5\"\n                  style={{ color: 'rgba(255, 255, 255, 0.92)' }}\n                >\n                  {provider.name}\n                </div>\n                <div\n                  className=\"text-xs\"\n                  style={{ color: 'rgba(255, 255, 255, 0.45)' }}\n                >\n                  {modelName || provider.description}\n                </div>\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Smart Routing Info */}\n        <div\n          className=\"flex items-start gap-3 p-4 rounded-xl\"\n          style={{\n            background: 'rgba(59, 130, 246, 0.08)',\n            border: '1px solid rgba(59, 130, 246, 0.15)',\n          }}\n        >\n          <div\n            className=\"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0\"\n            style={{ background: 'rgba(59, 130, 246, 0.2)' }}\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"#3B82F6\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n            </svg>\n          </div>\n          <div>\n            <p\n              className=\"text-sm font-medium mb-1\"\n              style={{ color: '#60A5FA' }}\n            >\n              Intelligent Routing\n            </p>\n            <p\n              className=\"text-xs leading-relaxed\"\n              style={{ color: 'rgba(255, 255, 255, 0.55)' }}\n            >\n              Cortex automatically selects the optimal model for each task based on complexity, context, and cost efficiency.\n            </p>\n          </div>\n        </div>\n\n        {/* Action Buttons */}\n        {hasChanges && (\n          <div\n            className=\"flex items-center justify-end gap-3 pt-4\"\n            style={{ borderTop: '1px solid rgba(255, 255, 255, 0.06)' }}\n          >\n            <button\n              onClick={handleCancel}\n              disabled={isSaving}\n              className=\"px-4 py-2 text-sm font-medium rounded-lg transition-all disabled:opacity-50\"\n              style={{\n                color: 'rgba(255, 255, 255, 0.7)',\n                border: '1px solid rgba(255, 255, 255, 0.1)',\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleSave}\n              disabled={isSaving}\n              className=\"px-4 py-2 text-sm font-medium text-white rounded-lg transition-all disabled:opacity-50 flex items-center gap-2\"\n              style={{ background: '#3B82F6' }}\n            >\n              {isSaving ? (\n                <>\n                  <svg className=\"w-4 h-4 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                  </svg>\n                  Saving...\n                </>\n              ) : (\n                <>\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  Apply\n                </>\n              )}\n            </button>\n          </div>\n        )}\n      </div>\n    </SettingsSection>\n  );\n};\n\nexport default ModelSettings;\n","import { FC, useState } from 'react';\nimport SettingsSection from './SettingsSection';\n\ninterface ThemeSettingsProps {\n  currentTheme: string;\n  onUpdateTheme: (theme: string) => Promise<void>;\n}\n\ninterface ThemeOption {\n  id: string;\n  name: string;\n  description: string;\n  icon: React.ReactNode;\n  preview: {\n    bg: string;\n    surface: string;\n    text: string;\n    accent: string;\n  };\n}\n\n// Theme icons\nconst MoonIcon = () => (\n  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\n  </svg>\n);\n\nconst SunIcon = () => (\n  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\n  </svg>\n);\n\nconst THEME_OPTIONS: ThemeOption[] = [\n  {\n    id: 'dark',\n    name: 'Dark',\n    description: 'Easier on the eyes in low light',\n    icon: <MoonIcon />,\n    preview: {\n      bg: '#1c1c1e',\n      surface: '#2c2c2e',\n      text: '#ffffff',\n      accent: '#0a84ff',\n    },\n  },\n  {\n    id: 'light',\n    name: 'Light',\n    description: 'Best for bright environments',\n    icon: <SunIcon />,\n    preview: {\n      bg: '#ffffff',\n      surface: '#f8fafc',\n      text: '#18181b',\n      accent: '#4f46e5',\n    },\n  },\n];\n\n/**\n * Compact theme preview showing a mini UI mockup\n */\nconst ThemePreview: FC<{ theme: ThemeOption; isSelected: boolean }> = ({\n  theme,\n  isSelected,\n}) => {\n  return (\n    <div\n      className=\"rounded-lg overflow-hidden\"\n      style={{\n        border: `2px solid ${isSelected ? theme.preview.accent : 'transparent'}`,\n        boxShadow: isSelected ? `0 0 0 2px ${theme.preview.accent}30` : 'none',\n      }}\n    >\n      <div\n        className=\"p-2\"\n        style={{ backgroundColor: theme.preview.bg }}\n      >\n        {/* Mini window chrome */}\n        <div\n          className=\"h-4 rounded-sm mb-1.5 flex items-center gap-1 px-1.5\"\n          style={{ backgroundColor: theme.preview.surface }}\n        >\n          <div className=\"w-1.5 h-1.5 rounded-full\" style={{ backgroundColor: '#EF4444' }} />\n          <div className=\"w-1.5 h-1.5 rounded-full\" style={{ backgroundColor: '#F59E0B' }} />\n          <div className=\"w-1.5 h-1.5 rounded-full\" style={{ backgroundColor: '#22C55E' }} />\n        </div>\n        {/* Mini content */}\n        <div className=\"space-y-1\">\n          <div className=\"h-1.5 rounded-sm\" style={{ backgroundColor: theme.preview.accent, width: '50%' }} />\n          <div className=\"h-1 rounded-sm\" style={{ backgroundColor: theme.preview.text, opacity: 0.2, width: '70%' }} />\n          <div className=\"h-1 rounded-sm\" style={{ backgroundColor: theme.preview.text, opacity: 0.15, width: '60%' }} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * ThemeSettings displays theme selection with visual previews.\n * Allows users to switch between dark and light themes.\n */\nconst ThemeSettings: FC<ThemeSettingsProps> = ({\n  currentTheme,\n  onUpdateTheme,\n}) => {\n  const [selectedTheme, setSelectedTheme] = useState(currentTheme);\n  const [isSaving, setIsSaving] = useState(false);\n  const [hasChanges, setHasChanges] = useState(false);\n  const [reduceMotion, setReduceMotion] = useState(false);\n  const [highContrast, setHighContrast] = useState(false);\n\n  const handleThemeChange = (themeId: string) => {\n    setSelectedTheme(themeId);\n    setHasChanges(themeId !== currentTheme);\n  };\n\n  const handleSave = async () => {\n    setIsSaving(true);\n    try {\n      await onUpdateTheme(selectedTheme);\n      setHasChanges(false);\n    } catch (error) {\n      console.error('Failed to update theme:', error);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setSelectedTheme(currentTheme);\n    setHasChanges(false);\n  };\n\n  return (\n    <SettingsSection\n      title=\"Appearance\"\n      description=\"Personalize how Cortex looks and feels\"\n      iconColor=\"from-pink-500 to-rose-600\"\n      icon={\n        <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01\" />\n        </svg>\n      }\n    >\n      <div className=\"space-y-6\">\n        {/* Theme Selection */}\n        <div className=\"grid grid-cols-2 gap-4\">\n          {THEME_OPTIONS.map((theme) => {\n            const isSelected = selectedTheme === theme.id;\n\n            return (\n              <button\n                key={theme.id}\n                onClick={() => handleThemeChange(theme.id)}\n                className=\"relative rounded-xl p-4 text-left transition-all duration-200\"\n                style={{\n                  background: isSelected\n                    ? `${theme.preview.accent}15`\n                    : 'rgba(255, 255, 255, 0.02)',\n                  border: `1px solid ${isSelected ? `${theme.preview.accent}50` : 'rgba(255, 255, 255, 0.06)'}`,\n                }}\n              >\n                {/* Preview & Icon row */}\n                <div className=\"flex items-start gap-3 mb-3\">\n                  <div\n                    className=\"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0\"\n                    style={{\n                      background: theme.id === 'dark'\n                        ? 'linear-gradient(135deg, #1E293B 0%, #0F172A 100%)'\n                        : 'linear-gradient(135deg, #F8FAFC 0%, #E2E8F0 100%)',\n                      color: theme.id === 'dark' ? '#94A3B8' : '#64748B',\n                    }}\n                  >\n                    {theme.icon}\n                  </div>\n                  <ThemePreview theme={theme} isSelected={isSelected} />\n                </div>\n\n                {/* Theme name and description */}\n                <div className=\"flex items-center justify-between mb-1\">\n                  <span\n                    className=\"text-sm font-semibold\"\n                    style={{ color: 'rgba(255, 255, 255, 0.92)' }}\n                  >\n                    {theme.name}\n                  </span>\n                  {isSelected && (\n                    <div\n                      className=\"w-5 h-5 rounded-full flex items-center justify-center\"\n                      style={{ background: theme.preview.accent }}\n                    >\n                      <svg className=\"w-3 h-3 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={3} d=\"M5 13l4 4L19 7\" />\n                      </svg>\n                    </div>\n                  )}\n                </div>\n                <p\n                  className=\"text-xs\"\n                  style={{ color: 'rgba(255, 255, 255, 0.45)' }}\n                >\n                  {theme.description}\n                </p>\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Accessibility Options */}\n        <div\n          className=\"pt-5\"\n          style={{ borderTop: '1px solid rgba(255, 255, 255, 0.06)' }}\n        >\n          <p\n            className=\"text-xs font-medium uppercase tracking-wider mb-4\"\n            style={{ color: 'rgba(255, 255, 255, 0.4)' }}\n          >\n            Accessibility\n          </p>\n          <div className=\"space-y-3\">\n            {/* Reduced Motion */}\n            <div\n              className=\"flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all\"\n              style={{ background: 'rgba(255, 255, 255, 0.02)' }}\n              onClick={() => setReduceMotion(!reduceMotion)}\n            >\n              <div className=\"flex items-center gap-3\">\n                <div\n                  className=\"w-8 h-8 rounded-lg flex items-center justify-center\"\n                  style={{ background: 'rgba(255, 255, 255, 0.06)' }}\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"rgba(255,255,255,0.6)\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                  </svg>\n                </div>\n                <div>\n                  <p\n                    className=\"text-sm font-medium\"\n                    style={{ color: 'rgba(255, 255, 255, 0.85)' }}\n                  >\n                    Reduce motion\n                  </p>\n                  <p\n                    className=\"text-xs\"\n                    style={{ color: 'rgba(255, 255, 255, 0.4)' }}\n                  >\n                    Minimize animations\n                  </p>\n                </div>\n              </div>\n              <div\n                className=\"w-11 h-6 rounded-full p-0.5 transition-colors\"\n                style={{ background: reduceMotion ? '#3B82F6' : 'rgba(255, 255, 255, 0.1)' }}\n              >\n                <div\n                  className=\"w-5 h-5 rounded-full bg-white transition-transform\"\n                  style={{ transform: reduceMotion ? 'translateX(20px)' : 'translateX(0)' }}\n                />\n              </div>\n            </div>\n\n            {/* High Contrast */}\n            <div\n              className=\"flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all\"\n              style={{ background: 'rgba(255, 255, 255, 0.02)' }}\n              onClick={() => setHighContrast(!highContrast)}\n            >\n              <div className=\"flex items-center gap-3\">\n                <div\n                  className=\"w-8 h-8 rounded-lg flex items-center justify-center\"\n                  style={{ background: 'rgba(255, 255, 255, 0.06)' }}\n                >\n                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"rgba(255,255,255,0.6)\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\n                  </svg>\n                </div>\n                <div>\n                  <p\n                    className=\"text-sm font-medium\"\n                    style={{ color: 'rgba(255, 255, 255, 0.85)' }}\n                  >\n                    High contrast\n                  </p>\n                  <p\n                    className=\"text-xs\"\n                    style={{ color: 'rgba(255, 255, 255, 0.4)' }}\n                  >\n                    Increase visibility\n                  </p>\n                </div>\n              </div>\n              <div\n                className=\"w-11 h-6 rounded-full p-0.5 transition-colors\"\n                style={{ background: highContrast ? '#3B82F6' : 'rgba(255, 255, 255, 0.1)' }}\n              >\n                <div\n                  className=\"w-5 h-5 rounded-full bg-white transition-transform\"\n                  style={{ transform: highContrast ? 'translateX(20px)' : 'translateX(0)' }}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Action Buttons */}\n        {hasChanges && (\n          <div\n            className=\"flex items-center justify-end gap-3 pt-4\"\n            style={{ borderTop: '1px solid rgba(255, 255, 255, 0.06)' }}\n          >\n            <button\n              onClick={handleCancel}\n              disabled={isSaving}\n              className=\"px-4 py-2 text-sm font-medium rounded-lg transition-all disabled:opacity-50\"\n              style={{\n                color: 'rgba(255, 255, 255, 0.7)',\n                border: '1px solid rgba(255, 255, 255, 0.1)',\n              }}\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleSave}\n              disabled={isSaving}\n              className=\"px-4 py-2 text-sm font-medium text-white rounded-lg transition-all disabled:opacity-50 flex items-center gap-2\"\n              style={{ background: '#3B82F6' }}\n            >\n              {isSaving ? (\n                <>\n                  <svg className=\"w-4 h-4 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                  </svg>\n                  Applying...\n                </>\n              ) : (\n                'Apply Theme'\n              )}\n            </button>\n          </div>\n        )}\n      </div>\n    </SettingsSection>\n  );\n};\n\nexport default ThemeSettings;\n","import { useState, useEffect, useCallback, useRef } from 'react';\n\nexport interface UseVoiceOutputOptions {\n  /** Speech rate: 0.1 - 10 (default: 1) */\n  rate?: number;\n  /** Speech pitch: 0 - 2 (default: 1) */\n  pitch?: number;\n  /** Speech volume: 0 - 1 (default: 1) */\n  volume?: number;\n  /** Voice name (if available) */\n  voice?: string;\n}\n\nexport interface UseVoiceOutputReturn {\n  /** Speak the given text */\n  speak: (text: string) => void;\n  /** Stop current speech */\n  stop: () => void;\n  /** Whether currently speaking */\n  isSpeaking: boolean;\n  /** Available voices */\n  voices: SpeechSynthesisVoice[];\n  /** Whether Speech Synthesis API is supported */\n  isSupported: boolean;\n  /** Current error message, if any */\n  error: string | null;\n}\n\n/**\n * Hook for text-to-speech using the Web Speech Synthesis API.\n * Provides voice output with customizable voice, rate, pitch, and volume.\n *\n * @example\n * ```typescript\n * const { speak, stop, isSpeaking, voices } = useVoiceOutput({\n *   rate: 1.0,\n *   pitch: 1.0,\n *   volume: 1.0,\n *   voice: 'Google US English'\n * });\n *\n * speak('Hello, world!');\n * ```\n *\n * Browser Support:\n * - Chrome/Edge: Full support\n * - Safari: Full support\n * - Firefox: Full support\n * - Opera: Full support\n */\nexport function useVoiceOutput(options: UseVoiceOutputOptions = {}): UseVoiceOutputReturn {\n  const { rate = 1, pitch = 1, volume = 1, voice } = options;\n\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [voices, setVoices] = useState<SpeechSynthesisVoice[]>([]);\n  const [error, setError] = useState<string | null>(null);\n\n  const utteranceRef = useRef<SpeechSynthesisUtterance | null>(null);\n\n  // Check browser support\n  const isSupported = !!(typeof window !== 'undefined' && window.speechSynthesis);\n\n  // Load available voices\n  useEffect(() => {\n    if (!isSupported) {\n      setError('Speech synthesis is not supported in this browser');\n      return;\n    }\n\n    const loadVoices = () => {\n      const availableVoices = window.speechSynthesis.getVoices();\n      setVoices(availableVoices);\n    };\n\n    // Load voices immediately\n    loadVoices();\n\n    // Some browsers require waiting for voiceschanged event\n    if (window.speechSynthesis.onvoiceschanged !== undefined) {\n      window.speechSynthesis.onvoiceschanged = loadVoices;\n    }\n\n    return () => {\n      if (window.speechSynthesis.onvoiceschanged !== undefined) {\n        window.speechSynthesis.onvoiceschanged = null;\n      }\n    };\n  }, [isSupported]);\n\n  // Speak text\n  const speak = useCallback(\n    (text: string) => {\n      if (!isSupported) {\n        setError('Speech synthesis is not supported');\n        return;\n      }\n\n      // Cancel any ongoing speech\n      window.speechSynthesis.cancel();\n\n      // Create utterance\n      const utterance = new SpeechSynthesisUtterance(text);\n\n      // Set voice if specified and available\n      if (voice) {\n        const selectedVoice = voices.find((v) => v.name === voice);\n        if (selectedVoice) {\n          utterance.voice = selectedVoice;\n        }\n      }\n\n      // Set speech parameters\n      utterance.rate = Math.max(0.1, Math.min(10, rate));\n      utterance.pitch = Math.max(0, Math.min(2, pitch));\n      utterance.volume = Math.max(0, Math.min(1, volume));\n\n      // Event handlers\n      utterance.onstart = () => {\n        setIsSpeaking(true);\n        setError(null);\n      };\n\n      utterance.onend = () => {\n        setIsSpeaking(false);\n        utteranceRef.current = null;\n      };\n\n      utterance.onerror = (event) => {\n        console.error('Speech synthesis error:', event);\n\n        let errorMessage = 'Speech synthesis error';\n\n        switch (event.error) {\n          case 'canceled':\n            errorMessage = 'Speech was canceled';\n            break;\n          case 'interrupted':\n            errorMessage = 'Speech was interrupted';\n            break;\n          case 'audio-busy':\n            errorMessage = 'Audio device is busy';\n            break;\n          case 'audio-hardware':\n            errorMessage = 'Audio hardware error';\n            break;\n          case 'network':\n            errorMessage = 'Network error during speech synthesis';\n            break;\n          case 'synthesis-unavailable':\n            errorMessage = 'Speech synthesis is unavailable';\n            break;\n          case 'synthesis-failed':\n            errorMessage = 'Speech synthesis failed';\n            break;\n          case 'language-unavailable':\n            errorMessage = 'Language is not available';\n            break;\n          case 'voice-unavailable':\n            errorMessage = 'Voice is not available';\n            break;\n          case 'text-too-long':\n            errorMessage = 'Text is too long';\n            break;\n          case 'invalid-argument':\n            errorMessage = 'Invalid argument';\n            break;\n          default:\n            errorMessage = `Speech synthesis error: ${event.error}`;\n        }\n\n        setError(errorMessage);\n        setIsSpeaking(false);\n        utteranceRef.current = null;\n      };\n\n      // Store reference and speak\n      utteranceRef.current = utterance;\n      window.speechSynthesis.speak(utterance);\n    },\n    [isSupported, voice, voices, rate, pitch, volume]\n  );\n\n  // Stop speaking\n  const stop = useCallback(() => {\n    if (!isSupported) return;\n\n    window.speechSynthesis.cancel();\n    setIsSpeaking(false);\n    utteranceRef.current = null;\n  }, [isSupported]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (isSupported) {\n        window.speechSynthesis.cancel();\n      }\n    };\n  }, [isSupported]);\n\n  return {\n    speak,\n    stop,\n    isSpeaking,\n    voices,\n    isSupported,\n    error,\n  };\n}\n","import { useState, useEffect, useRef, useCallback } from 'react';\n\n/**\n * Web Speech API type declarations\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API\n */\ninterface SpeechRecognition extends EventTarget {\n  continuous: boolean;\n  interimResults: boolean;\n  lang: string;\n  maxAlternatives: number;\n  start(): void;\n  stop(): void;\n  abort(): void;\n  onaudiostart: ((this: SpeechRecognition, ev: Event) => void) | null;\n  onsoundstart: ((this: SpeechRecognition, ev: Event) => void) | null;\n  onspeechstart: ((this: SpeechRecognition, ev: Event) => void) | null;\n  onspeechend: ((this: SpeechRecognition, ev: Event) => void) | null;\n  onsoundend: ((this: SpeechRecognition, ev: Event) => void) | null;\n  onaudioend: ((this: SpeechRecognition, ev: Event) => void) | null;\n  onresult: ((this: SpeechRecognition, ev: SpeechRecognitionEvent) => void) | null;\n  onnomatch: ((this: SpeechRecognition, ev: SpeechRecognitionEvent) => void) | null;\n  onerror: ((this: SpeechRecognition, ev: SpeechRecognitionErrorEvent) => void) | null;\n  onstart: ((this: SpeechRecognition, ev: Event) => void) | null;\n  onend: ((this: SpeechRecognition, ev: Event) => void) | null;\n}\n\ninterface SpeechRecognitionEvent extends Event {\n  resultIndex: number;\n  results: SpeechRecognitionResultList;\n}\n\ninterface SpeechRecognitionResultList {\n  length: number;\n  item(index: number): SpeechRecognitionResult;\n  [index: number]: SpeechRecognitionResult;\n}\n\ninterface SpeechRecognitionResult {\n  isFinal: boolean;\n  length: number;\n  item(index: number): SpeechRecognitionAlternative;\n  [index: number]: SpeechRecognitionAlternative;\n}\n\ninterface SpeechRecognitionAlternative {\n  transcript: string;\n  confidence: number;\n}\n\ninterface SpeechRecognitionErrorEvent extends Event {\n  error: string;\n  message: string;\n}\n\ndeclare global {\n  interface Window {\n    SpeechRecognition?: new () => SpeechRecognition;\n    webkitSpeechRecognition?: new () => SpeechRecognition;\n  }\n}\n\nexport interface UseVoiceInputOptions {\n  /** Callback when a final transcript is received */\n  onTranscript: (text: string) => void;\n  /** Callback for interim (real-time) transcripts */\n  onInterim?: (text: string) => void;\n  /** Language code (e.g., 'en-US', 'es-ES') */\n  language?: string;\n  /** Whether to continue listening after getting a result */\n  continuous?: boolean;\n}\n\nexport interface UseVoiceInputReturn {\n  /** Whether the microphone is currently listening */\n  isListening: boolean;\n  /** Whether Web Speech API is supported in this browser */\n  isSupported: boolean;\n  /** Start listening for voice input */\n  startListening: () => void;\n  /** Stop listening for voice input */\n  stopListening: () => void;\n  /** Current error message, if any */\n  error: string | null;\n  /** Current interim transcript (real-time) */\n  interimTranscript: string;\n}\n\n/**\n * Hook for voice input using the Web Speech API.\n * Provides speech-to-text functionality with support for interim results.\n *\n * @example\n * ```typescript\n * const { isListening, startListening, stopListening, isSupported } = useVoiceInput({\n *   onTranscript: (text) => console.log('Final:', text),\n *   onInterim: (text) => console.log('Interim:', text),\n *   language: 'en-US',\n *   continuous: false\n * });\n * ```\n *\n * Browser Support:\n * - Chrome/Edge: Full support\n * - Safari: Partial support (iOS 14.5+, macOS 12.3+)\n * - Firefox: Limited support\n */\nexport function useVoiceInput(options: UseVoiceInputOptions): UseVoiceInputReturn {\n  const { onTranscript, onInterim, language = 'en-US', continuous = false } = options;\n\n  const [isListening, setIsListening] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [interimTranscript, setInterimTranscript] = useState('');\n\n  const recognitionRef = useRef<SpeechRecognition | null>(null);\n  const isManualStopRef = useRef(false);\n\n  // Check browser support\n  const isSupported = !!(\n    typeof window !== 'undefined' &&\n    (window.SpeechRecognition || window.webkitSpeechRecognition)\n  );\n\n  // Initialize speech recognition\n  useEffect(() => {\n    if (!isSupported) {\n      setError('Speech recognition is not supported in this browser');\n      return;\n    }\n\n    const SpeechRecognitionAPI = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!SpeechRecognitionAPI) return;\n\n    const recognition = new SpeechRecognitionAPI();\n    recognition.continuous = continuous;\n    recognition.interimResults = true;\n    recognition.lang = language;\n    recognition.maxAlternatives = 1;\n\n    // Handle results\n    recognition.onresult = (event: SpeechRecognitionEvent) => {\n      let interimText = '';\n      let finalText = '';\n\n      // Process all results\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        const result = event.results[i];\n        const transcript = result[0].transcript;\n\n        if (result.isFinal) {\n          finalText += transcript;\n        } else {\n          interimText += transcript;\n        }\n      }\n\n      // Update interim transcript\n      if (interimText && onInterim) {\n        setInterimTranscript(interimText);\n        onInterim(interimText);\n      }\n\n      // Handle final transcript\n      if (finalText) {\n        onTranscript(finalText);\n        setInterimTranscript('');\n\n        // If not continuous, stop after receiving result\n        if (!continuous) {\n          isManualStopRef.current = true;\n          recognition.stop();\n        }\n      }\n    };\n\n    // Handle errors\n    recognition.onerror = (event: SpeechRecognitionErrorEvent) => {\n      console.error('Speech recognition error:', event.error);\n\n      let errorMessage = 'Speech recognition error';\n\n      switch (event.error) {\n        case 'no-speech':\n          errorMessage = 'No speech detected. Please try again.';\n          break;\n        case 'audio-capture':\n          errorMessage = 'No microphone found. Please connect a microphone.';\n          break;\n        case 'not-allowed':\n          errorMessage = 'Microphone access denied. Please grant permission.';\n          break;\n        case 'network':\n          errorMessage = 'Network error. Please check your connection.';\n          break;\n        case 'aborted':\n          errorMessage = 'Speech recognition aborted.';\n          break;\n        default:\n          errorMessage = `Speech recognition error: ${event.error}`;\n      }\n\n      setError(errorMessage);\n      setIsListening(false);\n    };\n\n    // Handle start\n    recognition.onstart = () => {\n      setIsListening(true);\n      setError(null);\n      setInterimTranscript('');\n      isManualStopRef.current = false;\n    };\n\n    // Handle end\n    recognition.onend = () => {\n      setIsListening(false);\n      setInterimTranscript('');\n\n      // Restart if continuous and not manually stopped\n      if (continuous && !isManualStopRef.current) {\n        try {\n          recognition.start();\n        } catch (err) {\n          console.error('Failed to restart recognition:', err);\n        }\n      }\n    };\n\n    recognitionRef.current = recognition;\n\n    return () => {\n      if (recognitionRef.current) {\n        recognitionRef.current.stop();\n      }\n    };\n  }, [isSupported, language, continuous, onTranscript, onInterim]);\n\n  // Start listening\n  const startListening = useCallback(() => {\n    if (!recognitionRef.current || isListening) return;\n\n    try {\n      setError(null);\n      isManualStopRef.current = false;\n      recognitionRef.current.start();\n    } catch (err) {\n      console.error('Failed to start speech recognition:', err);\n      setError('Failed to start speech recognition');\n    }\n  }, [isListening]);\n\n  // Stop listening\n  const stopListening = useCallback(() => {\n    if (!recognitionRef.current || !isListening) return;\n\n    isManualStopRef.current = true;\n    recognitionRef.current.stop();\n  }, [isListening]);\n\n  return {\n    isListening,\n    isSupported,\n    startListening,\n    stopListening,\n    error,\n    interimTranscript,\n  };\n}\n","import { FC, useState, useEffect } from 'react';\nimport SettingsSection from '../settings/SettingsSection';\nimport { useVoiceOutput } from '../../hooks/useVoiceOutput';\nimport { useVoiceInput } from '../../hooks/useVoiceInput';\n\nexport interface VoiceConfig {\n  enabled: boolean;\n  stt_enabled: boolean;\n  tts_enabled: boolean;\n  tts_voice?: string;\n  tts_rate: number;\n  tts_pitch: number;\n  language: string;\n}\n\nexport interface VoiceSettingsProps {\n  /** Current voice configuration */\n  config: VoiceConfig;\n  /** Callback when configuration changes */\n  onConfigChange: (config: VoiceConfig) => void;\n}\n\n/**\n * VoiceSettings component for configuring voice input and output.\n * Features:\n * - Enable/disable voice input (STT)\n * - Enable/disable voice output (TTS)\n * - Choose TTS voice from available voices\n * - Adjust speech rate and pitch\n * - Test TTS with sample text\n * - Language selection\n * - Browser compatibility indicators\n */\nconst VoiceSettings: FC<VoiceSettingsProps> = ({ config, onConfigChange }) => {\n  const [localConfig, setLocalConfig] = useState<VoiceConfig>(config);\n  const [testText, setTestText] = useState('Hello! This is a test of the text-to-speech system.');\n\n  const { speak, stop, isSpeaking, voices, isSupported: ttsSupported } = useVoiceOutput({\n    rate: localConfig.tts_rate,\n    pitch: localConfig.tts_pitch,\n    voice: localConfig.tts_voice,\n  });\n\n  const { isSupported: sttSupported } = useVoiceInput({\n    onTranscript: () => {},\n    language: localConfig.language,\n  });\n\n  // Update local config when prop changes\n  useEffect(() => {\n    setLocalConfig(config);\n  }, [config]);\n\n  // Handle config changes\n  const handleChange = (updates: Partial<VoiceConfig>) => {\n    const newConfig = { ...localConfig, ...updates };\n    setLocalConfig(newConfig);\n    onConfigChange(newConfig);\n  };\n\n  // Test TTS\n  const handleTestTTS = () => {\n    if (isSpeaking) {\n      stop();\n    } else {\n      speak(testText);\n    }\n  };\n\n  // Filter voices by language\n  const englishVoices = voices.filter((v) => v.lang.startsWith('en'));\n  const otherVoices = voices.filter((v) => !v.lang.startsWith('en'));\n\n  return (\n    <SettingsSection\n      title=\"Voice Integration\"\n      description=\"Configure speech-to-text and text-to-speech features\"\n      iconColor=\"from-orange-500 to-amber-600\"\n      icon={\n        <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n          />\n        </svg>\n      }\n    >\n      <div className=\"space-y-6\">\n        {/* Master Toggle */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <label className=\"text-sm font-medium text-text-primary\">\n              Enable Voice Features\n            </label>\n            <p className=\"text-xs text-text-secondary mt-1\">\n              Turn on voice input and output capabilities\n            </p>\n          </div>\n          <button\n            onClick={() => handleChange({ enabled: !localConfig.enabled })}\n            className={`\n              relative inline-flex h-6 w-11 items-center rounded-full transition-colors\n              ${localConfig.enabled ? 'bg-accent' : 'bg-border-primary'}\n            `}\n            aria-label=\"Toggle voice features\"\n          >\n            <span\n              className={`\n                inline-block h-4 w-4 transform rounded-full bg-white transition-transform\n                ${localConfig.enabled ? 'translate-x-6' : 'translate-x-1'}\n              `}\n            />\n          </button>\n        </div>\n\n        {/* Browser Compatibility Warning */}\n        {(!sttSupported || !ttsSupported) && (\n          <div className=\"rounded-lg bg-warning/10 border border-warning/30 p-4\">\n            <div className=\"flex items-start gap-3\">\n              <svg\n                className=\"w-5 h-5 text-warning flex-shrink-0 mt-0.5\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n                />\n              </svg>\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium text-warning mb-1\">\n                  Limited Browser Support\n                </p>\n                <p className=\"text-xs text-text-secondary\">\n                  {!sttSupported && 'Speech-to-text is not supported in this browser. '}\n                  {!ttsSupported && 'Text-to-speech is not supported in this browser. '}\n                  For best results, use Chrome, Edge, or Safari.\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"space-y-4 pt-2\">\n          {/* Speech-to-Text */}\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <label className=\"text-sm font-medium text-text-primary\">\n                  Speech-to-Text\n                </label>\n                {!sttSupported && (\n                  <span className=\"text-xs px-2 py-0.5 rounded bg-error/20 text-error border border-error/30\">\n                    Not Supported\n                  </span>\n                )}\n              </div>\n              <button\n                onClick={() => handleChange({ stt_enabled: !localConfig.stt_enabled })}\n                disabled={!localConfig.enabled || !sttSupported}\n                className={`\n                  relative inline-flex h-6 w-11 items-center rounded-full transition-colors\n                  ${localConfig.stt_enabled && localConfig.enabled ? 'bg-accent' : 'bg-border-primary'}\n                  disabled:opacity-50 disabled:cursor-not-allowed\n                `}\n                aria-label=\"Toggle speech-to-text\"\n              >\n                <span\n                  className={`\n                    inline-block h-4 w-4 transform rounded-full bg-white transition-transform\n                    ${localConfig.stt_enabled && localConfig.enabled ? 'translate-x-6' : 'translate-x-1'}\n                  `}\n                />\n              </button>\n            </div>\n\n            {/* Language Selection */}\n            <div>\n              <label className=\"text-xs text-text-secondary mb-2 block\">\n                Recognition Language\n              </label>\n              <select\n                value={localConfig.language}\n                onChange={(e) => handleChange({ language: e.target.value })}\n                disabled={!localConfig.enabled || !localConfig.stt_enabled || !sttSupported}\n                className=\"w-full px-3 py-2 rounded-lg bg-surface-secondary border border-border-primary text-sm text-text-primary disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:border-accent transition-colors\"\n              >\n                <option value=\"en-US\">English (US)</option>\n                <option value=\"en-GB\">English (UK)</option>\n                <option value=\"es-ES\">Spanish (Spain)</option>\n                <option value=\"es-MX\">Spanish (Mexico)</option>\n                <option value=\"fr-FR\">French</option>\n                <option value=\"de-DE\">German</option>\n                <option value=\"it-IT\">Italian</option>\n                <option value=\"pt-BR\">Portuguese (Brazil)</option>\n                <option value=\"zh-CN\">Chinese (Simplified)</option>\n                <option value=\"ja-JP\">Japanese</option>\n                <option value=\"ko-KR\">Korean</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Divider */}\n          <div className=\"border-t border-border-primary\" />\n\n          {/* Text-to-Speech */}\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <label className=\"text-sm font-medium text-text-primary\">\n                  Text-to-Speech\n                </label>\n                {!ttsSupported && (\n                  <span className=\"text-xs px-2 py-0.5 rounded bg-error/20 text-error border border-error/30\">\n                    Not Supported\n                  </span>\n                )}\n              </div>\n              <button\n                onClick={() => handleChange({ tts_enabled: !localConfig.tts_enabled })}\n                disabled={!localConfig.enabled || !ttsSupported}\n                className={`\n                  relative inline-flex h-6 w-11 items-center rounded-full transition-colors\n                  ${localConfig.tts_enabled && localConfig.enabled ? 'bg-accent' : 'bg-border-primary'}\n                  disabled:opacity-50 disabled:cursor-not-allowed\n                `}\n                aria-label=\"Toggle text-to-speech\"\n              >\n                <span\n                  className={`\n                    inline-block h-4 w-4 transform rounded-full bg-white transition-transform\n                    ${localConfig.tts_enabled && localConfig.enabled ? 'translate-x-6' : 'translate-x-1'}\n                  `}\n                />\n              </button>\n            </div>\n\n            {/* Voice Selection */}\n            {voices.length > 0 && (\n              <div>\n                <label className=\"text-xs text-text-secondary mb-2 block\">\n                  Voice\n                </label>\n                <select\n                  value={localConfig.tts_voice || ''}\n                  onChange={(e) => handleChange({ tts_voice: e.target.value })}\n                  disabled={!localConfig.enabled || !localConfig.tts_enabled || !ttsSupported}\n                  className=\"w-full px-3 py-2 rounded-lg bg-surface-secondary border border-border-primary text-sm text-text-primary disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:border-accent transition-colors\"\n                >\n                  <option value=\"\">Default</option>\n                  {englishVoices.length > 0 && (\n                    <optgroup label=\"English\">\n                      {englishVoices.map((voice) => (\n                        <option key={voice.name} value={voice.name}>\n                          {voice.name} ({voice.lang})\n                        </option>\n                      ))}\n                    </optgroup>\n                  )}\n                  {otherVoices.length > 0 && (\n                    <optgroup label=\"Other Languages\">\n                      {otherVoices.map((voice) => (\n                        <option key={voice.name} value={voice.name}>\n                          {voice.name} ({voice.lang})\n                        </option>\n                      ))}\n                    </optgroup>\n                  )}\n                </select>\n              </div>\n            )}\n\n            {/* Speech Rate */}\n            <div>\n              <div className=\"flex items-center justify-between mb-2\">\n                <label className=\"text-xs text-text-secondary\">\n                  Speech Rate\n                </label>\n                <span className=\"text-xs text-text-primary font-mono\">\n                  {localConfig.tts_rate.toFixed(1)}x\n                </span>\n              </div>\n              <input\n                type=\"range\"\n                min=\"0.5\"\n                max=\"2\"\n                step=\"0.1\"\n                value={localConfig.tts_rate}\n                onChange={(e) => handleChange({ tts_rate: parseFloat(e.target.value) })}\n                disabled={!localConfig.enabled || !localConfig.tts_enabled || !ttsSupported}\n                className=\"w-full h-2 bg-surface-secondary rounded-lg appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent\"\n              />\n            </div>\n\n            {/* Speech Pitch */}\n            <div>\n              <div className=\"flex items-center justify-between mb-2\">\n                <label className=\"text-xs text-text-secondary\">\n                  Speech Pitch\n                </label>\n                <span className=\"text-xs text-text-primary font-mono\">\n                  {localConfig.tts_pitch.toFixed(1)}\n                </span>\n              </div>\n              <input\n                type=\"range\"\n                min=\"0.5\"\n                max=\"2\"\n                step=\"0.1\"\n                value={localConfig.tts_pitch}\n                onChange={(e) => handleChange({ tts_pitch: parseFloat(e.target.value) })}\n                disabled={!localConfig.enabled || !localConfig.tts_enabled || !ttsSupported}\n                className=\"w-full h-2 bg-surface-secondary rounded-lg appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent\"\n              />\n            </div>\n\n            {/* Test TTS */}\n            <div className=\"pt-2\">\n              <label className=\"text-xs text-text-secondary mb-2 block\">\n                Test Text-to-Speech\n              </label>\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={testText}\n                  onChange={(e) => setTestText(e.target.value)}\n                  disabled={!localConfig.enabled || !localConfig.tts_enabled || !ttsSupported}\n                  className=\"flex-1 px-3 py-2 rounded-lg bg-surface-secondary border border-border-primary text-sm text-text-primary disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:border-accent transition-colors\"\n                  placeholder=\"Enter text to test...\"\n                />\n                <button\n                  onClick={handleTestTTS}\n                  disabled={!localConfig.enabled || !localConfig.tts_enabled || !ttsSupported || !testText}\n                  className=\"px-4 py-2 rounded-lg bg-accent hover:bg-accent-hover text-white text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n                >\n                  {isSpeaking ? (\n                    <>\n                      <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <rect x=\"6\" y=\"4\" width=\"4\" height=\"16\" rx=\"1\" />\n                        <rect x=\"14\" y=\"4\" width=\"4\" height=\"16\" rx=\"1\" />\n                      </svg>\n                      Stop\n                    </>\n                  ) : (\n                    <>\n                      <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path d=\"M8 5v14l11-7z\" />\n                      </svg>\n                      Test\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </SettingsSection>\n  );\n};\n\nexport default VoiceSettings;\n","import { FC, useState, useEffect } from 'react';\nimport { apiGet, apiPost } from '../../api/client';\nimport type {\n  ProviderStatus,\n  Config,\n  LLMProviderConfig,\n  ProviderKeyRequest,\n  ProviderStatusResponse,\n  VoiceConfig,\n} from '../../api/types';\nimport ProviderSettings from './ProviderSettings';\nimport ModelSettings from './ModelSettings';\nimport ThemeSettings from './ThemeSettings';\nimport VoiceSettings from '../voice/VoiceSettings';\n\n/**\n * SettingsPage is the main settings interface for configuring Cortex.\n * Allows users to:\n * - Configure LLM provider API keys\n * - Set default model and routing preferences\n * - Customize theme and appearance\n */\nconst SettingsPage: FC = () => {\n  const [config, setConfig] = useState<Config | null>(null);\n  const [providerStatus, setProviderStatus] = useState<ProviderStatus | null>(\n    null\n  );\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n\n  // Load initial configuration\n  useEffect(() => {\n    loadConfig();\n  }, []);\n\n  const loadConfig = async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      // Fetch config and status in parallel\n      const [configData, statusData] = await Promise.all([\n        apiGet<Config>('/api/v1/config'),\n        apiGet<{ providers: ProviderStatus }>('/api/v1/status'),\n      ]);\n\n      setConfig(configData);\n      setProviderStatus(statusData.providers);\n    } catch (err) {\n      console.error('Failed to load configuration:', err);\n      setError(\n        err instanceof Error ? err.message : 'Failed to load configuration'\n      );\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleUpdateProvider = async (\n    providerId: string,\n    providerConfig: LLMProviderConfig\n  ) => {\n    if (!config) return;\n\n    try {\n      // Update provider configuration\n      const updatedConfig: Config = {\n        ...config,\n        llm: {\n          ...config.llm,\n          providers: {\n            ...config.llm.providers,\n            [providerId]: providerConfig,\n          },\n        },\n      };\n\n      await apiPost<Config>('/api/v1/config', updatedConfig);\n\n      // If API key was updated, send it separately for secure storage\n      if (providerConfig.api_key) {\n        const keyRequest: ProviderKeyRequest = {\n          api_key: providerConfig.api_key,\n        };\n        await apiPost(`/api/v1/providers/${providerId}/key`, keyRequest);\n      }\n\n      setConfig(updatedConfig);\n      showSaveSuccess();\n\n      // Reload provider status to reflect changes\n      setTimeout(loadConfig, 500);\n    } catch (err) {\n      console.error('Failed to update provider:', err);\n      throw err;\n    }\n  };\n\n  const handleTestConnection = async (providerId: string): Promise<boolean> => {\n    try {\n      const response = await apiGet<ProviderStatusResponse>(\n        `/api/v1/providers/${providerId}/status`\n      );\n      return response.online;\n    } catch (err) {\n      console.error('Failed to test connection:', err);\n      return false;\n    }\n  };\n\n  const handleUpdateDefaultProvider = async (provider: string) => {\n    if (!config) return;\n\n    try {\n      const updatedConfig: Config = {\n        ...config,\n        llm: {\n          ...config.llm,\n          default_provider: provider,\n        },\n      };\n\n      await apiPost<Config>('/api/v1/config', updatedConfig);\n      setConfig(updatedConfig);\n      showSaveSuccess();\n    } catch (err) {\n      console.error('Failed to update default provider:', err);\n      throw err;\n    }\n  };\n\n  const handleUpdateTheme = async (theme: string) => {\n    if (!config) return;\n\n    try {\n      const updatedConfig: Config = {\n        ...config,\n        tui: {\n          ...config.tui,\n          theme,\n        },\n      };\n\n      await apiPost<Config>('/api/v1/config', updatedConfig);\n      setConfig(updatedConfig);\n      showSaveSuccess();\n\n      // Apply theme immediately to the document\n      document.documentElement.setAttribute('data-theme', theme);\n    } catch (err) {\n      console.error('Failed to update theme:', err);\n      throw err;\n    }\n  };\n\n  const handleUpdateVoiceConfig = async (voiceConfig: VoiceConfig) => {\n    if (!config) return;\n\n    try {\n      const updatedConfig: Config = {\n        ...config,\n        voice: voiceConfig,\n      };\n\n      await apiPost<Config>('/api/v1/config', updatedConfig);\n      setConfig(updatedConfig);\n      showSaveSuccess();\n    } catch (err) {\n      console.error('Failed to update voice config:', err);\n      throw err;\n    }\n  };\n\n  const showSaveSuccess = () => {\n    setSaveSuccess(true);\n    setTimeout(() => setSaveSuccess(false), 3000);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-full flex items-center justify-center p-8\">\n        <div className=\"text-center\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-white/5 mb-4\">\n            <svg\n              className=\"w-8 h-8 text-accent animate-spin\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n            >\n              <circle\n                className=\"opacity-25\"\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                stroke=\"currentColor\"\n                strokeWidth=\"4\"\n              />\n              <path\n                className=\"opacity-75\"\n                fill=\"currentColor\"\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n              />\n            </svg>\n          </div>\n          <p className=\"text-sm text-text-secondary\">Loading settings...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !config || !providerStatus) {\n    return (\n      <div className=\"min-h-full p-8\">\n        <div className=\"max-w-2xl mx-auto\">\n          <div className=\"rounded-xl bg-error/10 border border-error/30 p-6\">\n            <div className=\"flex items-start gap-4\">\n              <svg\n                className=\"w-6 h-6 text-error flex-shrink-0 mt-1\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                />\n              </svg>\n              <div className=\"flex-1\">\n                <h3 className=\"text-lg font-semibold text-error mb-2\">\n                  Failed to Load Settings\n                </h3>\n                <p className=\"text-sm text-text-secondary mb-4\">\n                  {error || 'Unable to connect to the Cortex server'}\n                </p>\n                <button\n                  onClick={loadConfig}\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-accent hover:bg-accent-hover rounded-lg transition-all\"\n                >\n                  Retry\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-full p-8 animate-fade-in\">\n      {/* Page Header */}\n      <div className=\"mb-10\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1\n              className=\"text-2xl font-bold mb-2\"\n              style={{ color: 'rgba(255, 255, 255, 0.95)' }}\n            >\n              Settings\n            </h1>\n            <p style={{ color: 'rgba(255, 255, 255, 0.5)' }}>\n              Configure Cortex AI assistant preferences\n            </p>\n          </div>\n\n          {/* Save Success Toast */}\n          {saveSuccess && (\n            <div\n              className=\"animate-slide-down px-4 py-2 rounded-xl flex items-center gap-2\"\n              style={{\n                background: 'rgba(34, 197, 94, 0.15)',\n                border: '1px solid rgba(34, 197, 94, 0.3)',\n              }}\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"#22C55E\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n              </svg>\n              <span className=\"text-sm font-medium\" style={{ color: '#22C55E' }}>\n                Settings saved\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Settings Sections */}\n      <div className=\"max-w-4xl space-y-8\">\n        {/* Provider Settings */}\n        <ProviderSettings\n          providers={config.llm.providers}\n          providerStatus={providerStatus}\n          onUpdateProvider={handleUpdateProvider}\n          onTestConnection={handleTestConnection}\n        />\n\n        {/* Model Settings */}\n        <ModelSettings\n          defaultProvider={config.llm.default_provider}\n          providers={config.llm.providers}\n          onUpdateDefaultProvider={handleUpdateDefaultProvider}\n        />\n\n        {/* Theme Settings */}\n        <ThemeSettings\n          currentTheme={config.tui.theme}\n          onUpdateTheme={handleUpdateTheme}\n        />\n\n        {/* Voice Settings */}\n        <VoiceSettings\n          config={\n            config.voice || {\n              enabled: false,\n              stt_enabled: false,\n              tts_enabled: false,\n              tts_rate: 1.0,\n              tts_pitch: 1.0,\n              language: 'en-US',\n            }\n          }\n          onConfigChange={handleUpdateVoiceConfig}\n        />\n\n        {/* Reset to Defaults */}\n        <div\n          className=\"rounded-2xl p-6\"\n          style={{\n            background: 'linear-gradient(135deg, rgba(239,68,68,0.05) 0%, rgba(239,68,68,0.02) 100%)',\n            border: '1px solid rgba(239,68,68,0.15)',\n          }}\n        >\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-4\">\n              <div\n                className=\"w-10 h-10 rounded-xl flex items-center justify-center\"\n                style={{ background: 'rgba(239,68,68,0.15)' }}\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"#EF4444\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n              </div>\n              <div>\n                <h3\n                  className=\"text-sm font-semibold mb-0.5\"\n                  style={{ color: 'rgba(255, 255, 255, 0.9)' }}\n                >\n                  Reset All Settings\n                </h3>\n                <p\n                  className=\"text-xs\"\n                  style={{ color: 'rgba(255, 255, 255, 0.45)' }}\n                >\n                  Restore defaults. This cannot be undone.\n                </p>\n              </div>\n            </div>\n            <button\n              className=\"px-4 py-2 text-sm font-medium rounded-lg transition-all\"\n              style={{\n                color: '#EF4444',\n                background: 'rgba(239,68,68,0.1)',\n                border: '1px solid rgba(239,68,68,0.3)',\n              }}\n            >\n              Reset\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Footer Info */}\n      <div className=\"mt-10 max-w-4xl\">\n        <div\n          className=\"rounded-xl px-4 py-3 flex items-center gap-3\"\n          style={{\n            background: 'rgba(59, 130, 246, 0.06)',\n            border: '1px solid rgba(59, 130, 246, 0.12)',\n          }}\n        >\n          <div\n            className=\"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0\"\n            style={{ background: 'rgba(59, 130, 246, 0.15)' }}\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"#60A5FA\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          </div>\n          <p className=\"text-xs\" style={{ color: 'rgba(255, 255, 255, 0.55)' }}>\n            Settings stored in{' '}\n            <code\n              className=\"font-mono px-1.5 py-0.5 rounded\"\n              style={{ background: 'rgba(255, 255, 255, 0.08)' }}\n            >\n              ~/.cortex/config.yaml\n            </code>\n            . API keys are encrypted and stored in your system keychain.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SettingsPage;\n","/**\n * Chat API Module\n *\n * Provides functions for interacting with the Cortex Chat API,\n * including streaming and non-streaming message sending.\n */\n\nimport { apiPost, apiGet, apiDelete, API_BASE_URL } from './client';\nimport type {\n  ChatRequest,\n  ChatResponse,\n  Conversation,\n  ConversationsResponse,\n  ChatStreamChunk,\n} from './types';\n\n// \n// NON-STREAMING CHAT\n// \n\n/**\n * Send a chat message (non-streaming).\n *\n * @param request - Chat request with message and optional context\n * @returns Chat response with assistant message and routing info\n */\nexport async function sendMessage(request: ChatRequest): Promise<ChatResponse> {\n  return apiPost<ChatResponse>('/api/v1/chat', {\n    ...request,\n    stream: false,\n  });\n}\n\n// \n// STREAMING CHAT\n// \n\n/**\n * Send a chat message with streaming response via SSE.\n *\n * @param request - Chat request with message and optional context\n * @param onChunk - Callback for each chunk of streaming response\n * @param onDone - Callback when stream completes\n * @param onError - Callback for errors during streaming\n * @returns Cleanup function to abort the stream\n */\nexport function sendMessageStream(\n  request: ChatRequest,\n  onChunk: (chunk: ChatStreamChunk) => void,\n  onDone: () => void,\n  onError: (error: Error) => void\n): () => void {\n  const controller = new AbortController();\n\n  // Build request body\n  const body = {\n    ...request,\n    stream: true,\n  };\n\n  // Start SSE connection\n  fetch(`${API_BASE_URL}/api/v1/chat`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(body),\n    signal: controller.signal,\n  })\n    .then(async (response) => {\n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`HTTP ${response.status}: ${errorText}`);\n      }\n\n      // Check if response is actually streaming\n      if (!response.body) {\n        throw new Error('No response body for streaming');\n      }\n\n      const reader = response.body.getReader();\n      const decoder = new TextDecoder();\n      let buffer = '';\n\n      try {\n        while (true) {\n          const { done, value } = await reader.read();\n\n          if (done) {\n            onDone();\n            break;\n          }\n\n          // Decode chunk and add to buffer\n          buffer += decoder.decode(value, { stream: true });\n\n          // Process SSE events from buffer\n          const lines = buffer.split('\\n');\n          buffer = lines.pop() || ''; // Keep incomplete line in buffer\n\n          for (const line of lines) {\n            // SSE format: \"data: {...}\"\n            if (line.startsWith('data: ')) {\n              const dataStr = line.slice(6); // Remove \"data: \" prefix\n\n              // Skip empty data or SSE comments\n              if (!dataStr.trim() || dataStr.startsWith(':')) {\n                continue;\n              }\n\n              try {\n                const chunk = JSON.parse(dataStr) as ChatStreamChunk;\n                onChunk(chunk);\n\n                // Handle end or error chunks\n                if (chunk.type === 'end') {\n                  onDone();\n                  reader.cancel();\n                  return;\n                }\n                if (chunk.type === 'error') {\n                  onError(new Error(chunk.error || 'Unknown streaming error'));\n                  reader.cancel();\n                  return;\n                }\n              } catch (parseError) {\n                console.error('Failed to parse SSE chunk:', dataStr, parseError);\n              }\n            }\n          }\n        }\n      } catch (readError) {\n        if (!controller.signal.aborted) {\n          onError(\n            readError instanceof Error ? readError : new Error('Stream read error')\n          );\n        }\n      }\n    })\n    .catch((fetchError) => {\n      if (!controller.signal.aborted) {\n        onError(\n          fetchError instanceof Error ? fetchError : new Error('Stream fetch error')\n        );\n      }\n    });\n\n  // Return cleanup function\n  return () => {\n    controller.abort();\n  };\n}\n\n// \n// CONVERSATION MANAGEMENT\n// \n\n/**\n * Get all conversations.\n *\n * @returns List of conversations\n */\nexport async function getConversations(): Promise<ConversationsResponse> {\n  return apiGet<ConversationsResponse>('/api/v1/chat/conversations');\n}\n\n/**\n * Get a single conversation by ID.\n *\n * @param id - Conversation ID\n * @returns Full conversation with messages\n */\nexport async function getConversation(id: string): Promise<Conversation> {\n  return apiGet<Conversation>(`/api/v1/chat/conversations/${id}`);\n}\n\n/**\n * Delete a conversation.\n *\n * @param id - Conversation ID to delete\n */\nexport async function deleteConversation(id: string): Promise<void> {\n  return apiDelete<void>(`/api/v1/chat/conversations/${id}`);\n}\n\n// \n// MODE MANAGEMENT\n// \n\n/**\n * Reset mode to normal for a conversation.\n *\n * @param conversationId - Conversation ID\n * @returns Updated mode information\n */\nexport async function resetMode(conversationId: string): Promise<import('./types').ModeInfo> {\n  return apiPost<import('./types').ModeInfo>(\n    `/api/v1/chat/conversations/${conversationId}/mode/reset`,\n    {}\n  );\n}\n\n/**\n * Set a specific mode for a conversation.\n *\n * @param conversationId - Conversation ID\n * @param modeId - Mode ID to set\n * @returns Updated mode information\n */\nexport async function setMode(\n  conversationId: string,\n  modeId: string\n): Promise<import('./types').ModeInfo> {\n  return apiPost<import('./types').ModeInfo>(\n    `/api/v1/chat/conversations/${conversationId}/mode`,\n    { mode_id: modeId }\n  );\n}\n","/**\n * MessageBubble - Individual chat message display\n *\n * Displays user and assistant messages with:\n * - User messages on the right (blue)\n * - Assistant messages on the left (gray)\n * - Model name and routing information\n * - Timestamp display\n */\nimport type { FC } from 'react';\nimport type { ChatMessage } from '../../api/types';\nimport {\n  Bot,\n  User,\n  Zap,\n  Brain,\n  MessageSquare,\n  Bug,\n  GraduationCap,\n  RotateCcw,\n  FileSearch,\n  Terminal,\n} from 'lucide-react';\n\ninterface MessageBubbleProps {\n  message: ChatMessage;\n}\n\n/**\n * Format timestamp to readable format\n */\nfunction formatTime(timestamp: string): string {\n  const date = new Date(timestamp);\n  const now = new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffMins = Math.floor(diffMs / 60000);\n\n  if (diffMins < 1) return 'Just now';\n  if (diffMins < 60) return `${diffMins}m ago`;\n\n  const diffHours = Math.floor(diffMins / 60);\n  if (diffHours < 24) return `${diffHours}h ago`;\n\n  // Format as \"MMM DD, HH:MM\"\n  return date.toLocaleString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n}\n\n// Mode icon mapping\nconst modeIcons: Record<string, typeof MessageSquare> = {\n  normal: MessageSquare,\n  debugging: Bug,\n  teaching: GraduationCap,\n  recovery: RotateCcw,\n  review: FileSearch,\n  scripting: Terminal,\n};\n\n// Mode color mapping (simplified for message bubbles)\nconst getModeColor = (mode: string): string => {\n  const colors: Record<string, string> = {\n    normal: '#9CA3AF',\n    debugging: '#EF4444',\n    teaching: '#3B82F6',\n    recovery: '#F59E0B',\n    review: '#8B5CF6',\n    scripting: '#10B981',\n  };\n  return colors[mode.toLowerCase()] || '#9CA3AF';\n};\n\nconst MessageBubble: FC<MessageBubbleProps> = ({ message }) => {\n  const isUser = message.role === 'user';\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: isUser ? 'flex-end' : 'flex-start',\n        marginBottom: '16px',\n      }}\n    >\n      <div\n        style={{\n          maxWidth: '70%',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: isUser ? 'flex-end' : 'flex-start',\n        }}\n      >\n        {/* Message Bubble */}\n        <div\n          style={{\n            padding: '12px 16px',\n            borderRadius: '16px',\n            backgroundColor: isUser ? '#3B82F6' : '#FFFFFF',\n            color: isUser ? '#FFFFFF' : '#1D1D1F',\n            border: isUser ? 'none' : '1px solid #E5E5E7',\n            boxShadow: isUser ? 'none' : '0 1px 3px rgba(0, 0, 0, 0.05)',\n            wordBreak: 'break-word',\n            whiteSpace: 'pre-wrap',\n          }}\n        >\n          {/* Assistant Header */}\n          {!isUser && (\n            <div\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                marginBottom: '8px',\n                paddingBottom: '8px',\n                borderBottom: '1px solid #F0F0F2',\n              }}\n            >\n              <div\n                style={{\n                  width: '24px',\n                  height: '24px',\n                  borderRadius: '6px',\n                  backgroundColor: 'rgba(139, 92, 242, 0.1)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                }}\n              >\n                <Bot size={14} style={{ color: '#8B5CF6' }} />\n              </div>\n              <span style={{ fontSize: '13px', fontWeight: 600, color: '#1D1D1F' }}>\n                Assistant\n              </span>\n              {message.model && (\n                <span\n                  style={{\n                    fontSize: '11px',\n                    color: '#9CA3AF',\n                    fontFamily: 'monospace',\n                    backgroundColor: '#F3F4F6',\n                    padding: '2px 6px',\n                    borderRadius: '4px',\n                  }}\n                >\n                  {message.model}\n                </span>\n              )}\n            </div>\n          )}\n\n          {/* Message Content */}\n          <div style={{ fontSize: '15px', lineHeight: '1.5' }}>\n            {message.content}\n          </div>\n\n          {/* Mode and Routing Information (for assistant messages) */}\n          {!isUser && (message.routing || message.mode_info) && (\n            <div\n              style={{\n                marginTop: '8px',\n                paddingTop: '8px',\n                borderTop: '1px solid #F0F0F2',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                fontSize: '11px',\n                color: '#6B7280',\n                flexWrap: 'wrap',\n              }}\n            >\n              {/* Mode Badge */}\n              {message.mode_info && message.mode_info.current_mode !== 'normal' && (\n                <>\n                  {(() => {\n                    const modeId = message.mode_info.current_mode.toLowerCase();\n                    const ModeIcon = modeIcons[modeId] || MessageSquare;\n                    const modeColor = getModeColor(modeId);\n                    return (\n                      <>\n                        <div\n                          style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            gap: '4px',\n                            padding: '2px 6px',\n                            backgroundColor: `${modeColor}15`,\n                            borderRadius: '4px',\n                            color: modeColor,\n                            fontWeight: 500,\n                          }}\n                        >\n                          <ModeIcon size={10} />\n                          <span>{message.mode_info.mode_name}</span>\n                        </div>\n                        {message.routing && <span></span>}\n                      </>\n                    );\n                  })()}\n                </>\n              )}\n\n              {/* Routing Information */}\n              {message.routing && (\n                <>\n                  {message.routing.lane === 'fast' ? (\n                    <Zap size={12} style={{ color: '#F59E0B' }} />\n                  ) : (\n                    <Brain size={12} style={{ color: '#8B5CF6' }} />\n                  )}\n                  <span style={{ fontWeight: 500, textTransform: 'capitalize' }}>\n                    {message.routing.lane} lane\n                  </span>\n                  <span></span>\n                  <span>{message.routing.reason}</span>\n                  {message.routing.latency_ms && (\n                    <>\n                      <span></span>\n                      <span>{message.routing.latency_ms}ms</span>\n                    </>\n                  )}\n                </>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Timestamp */}\n        <div\n          style={{\n            fontSize: '11px',\n            color: '#9CA3AF',\n            marginTop: '4px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '6px',\n          }}\n        >\n          {isUser && <User size={10} style={{ color: '#9CA3AF' }} />}\n          {formatTime(message.timestamp)}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MessageBubble;\n","/**\n * ConversationList - Sidebar showing past conversations\n *\n * Features:\n * - List of past conversations with titles\n * - Click to load conversation\n * - Delete button for each conversation\n * - \"New Conversation\" button\n */\nimport type { FC } from 'react';\nimport type { Conversation } from '../../api/types';\nimport { MessageSquare, Trash2, Plus, Loader2 } from 'lucide-react';\n\ninterface ConversationListProps {\n  conversations: Conversation[];\n  activeConversationId: string | null;\n  isLoading: boolean;\n  onSelectConversation: (id: string) => void;\n  onDeleteConversation: (id: string) => void;\n  onNewConversation: () => void;\n}\n\n/**\n * Format date for conversation list\n */\nfunction formatDate(timestamp: string): string {\n  const date = new Date(timestamp);\n  const now = new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n\n  if (diffDays === 0) return 'Today';\n  if (diffDays === 1) return 'Yesterday';\n  if (diffDays < 7) return `${diffDays} days ago`;\n\n  return date.toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n  });\n}\n\nconst ConversationList: FC<ConversationListProps> = ({\n  conversations,\n  activeConversationId,\n  isLoading,\n  onSelectConversation,\n  onDeleteConversation,\n  onNewConversation,\n}) => {\n  return (\n    <div\n      style={{\n        width: '280px',\n        height: '100%',\n        backgroundColor: '#FFFFFF',\n        borderRight: '1px solid #E5E5E7',\n        display: 'flex',\n        flexDirection: 'column',\n      }}\n    >\n      {/* Header */}\n      <div\n        style={{\n          padding: '20px',\n          borderBottom: '1px solid #E5E5E7',\n        }}\n      >\n        <button\n          onClick={onNewConversation}\n          style={{\n            width: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '8px',\n            padding: '12px',\n            backgroundColor: '#3B82F6',\n            color: '#FFFFFF',\n            border: 'none',\n            borderRadius: '10px',\n            fontSize: '14px',\n            fontWeight: 600,\n            cursor: 'pointer',\n            transition: 'all 0.15s',\n          }}\n        >\n          <Plus size={18} />\n          <span>New Chat</span>\n        </button>\n      </div>\n\n      {/* Conversations List */}\n      <div\n        style={{\n          flex: 1,\n          overflowY: 'auto',\n          padding: '12px',\n        }}\n      >\n        {isLoading ? (\n          <div\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              padding: '40px 20px',\n            }}\n          >\n            <Loader2 size={24} style={{ color: '#9CA3AF', animation: 'spin 1s linear infinite' }} />\n          </div>\n        ) : conversations.length === 0 ? (\n          <div\n            style={{\n              textAlign: 'center',\n              padding: '40px 20px',\n            }}\n          >\n            <div\n              style={{\n                width: '48px',\n                height: '48px',\n                borderRadius: '12px',\n                backgroundColor: '#F3F4F6',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                margin: '0 auto 12px',\n              }}\n            >\n              <MessageSquare size={24} style={{ color: '#9CA3AF' }} />\n            </div>\n            <p style={{ fontSize: '13px', color: '#6B7280' }}>\n              No conversations yet\n            </p>\n          </div>\n        ) : (\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>\n            {conversations.map((conversation) => {\n              const isActive = conversation.id === activeConversationId;\n\n              return (\n                <div\n                  key={conversation.id}\n                  style={{\n                    position: 'relative',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px',\n                    padding: '12px',\n                    backgroundColor: isActive ? '#F3F4F6' : 'transparent',\n                    borderRadius: '8px',\n                    cursor: 'pointer',\n                    transition: 'all 0.15s',\n                    border: isActive ? '1px solid #E5E5E7' : '1px solid transparent',\n                  }}\n                  onClick={() => onSelectConversation(conversation.id)}\n                  onMouseEnter={(e) => {\n                    if (!isActive) {\n                      e.currentTarget.style.backgroundColor = '#FAFAFA';\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (!isActive) {\n                      e.currentTarget.style.backgroundColor = 'transparent';\n                    }\n                  }}\n                >\n                  <div\n                    style={{\n                      width: '32px',\n                      height: '32px',\n                      borderRadius: '8px',\n                      backgroundColor: isActive ? '#3B82F6' : '#F3F4F6',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      flexShrink: 0,\n                    }}\n                  >\n                    <MessageSquare\n                      size={16}\n                      style={{ color: isActive ? '#FFFFFF' : '#6B7280' }}\n                    />\n                  </div>\n\n                  <div style={{ flex: 1, minWidth: 0 }}>\n                    <p\n                      style={{\n                        fontSize: '13px',\n                        fontWeight: 500,\n                        color: '#1D1D1F',\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        whiteSpace: 'nowrap',\n                      }}\n                    >\n                      {conversation.title}\n                    </p>\n                    <p\n                      style={{\n                        fontSize: '11px',\n                        color: '#9CA3AF',\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        whiteSpace: 'nowrap',\n                      }}\n                    >\n                      {formatDate(conversation.updated_at)}\n                    </p>\n                  </div>\n\n                  {/* Delete Button */}\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      if (confirm('Delete this conversation?')) {\n                        onDeleteConversation(conversation.id);\n                      }\n                    }}\n                    style={{\n                      padding: '6px',\n                      backgroundColor: 'transparent',\n                      border: 'none',\n                      borderRadius: '6px',\n                      cursor: 'pointer',\n                      opacity: 0,\n                      transition: 'all 0.15s',\n                    }}\n                    onMouseEnter={(e) => {\n                      e.currentTarget.style.backgroundColor = '#FEE2E2';\n                      e.currentTarget.style.opacity = '1';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.currentTarget.style.backgroundColor = 'transparent';\n                      e.currentTarget.style.opacity = '0';\n                    }}\n                  >\n                    <Trash2 size={14} style={{ color: '#EF4444' }} />\n                  </button>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ConversationList;\n","/**\n * ModeIndicator - Shows current behavioral mode\n *\n * Features:\n * - Color-coded badge based on mode type\n * - Tooltip with mode description\n * - Reset button to return to normal mode\n * - Smooth transitions when mode changes\n */\nimport type { FC } from 'react';\nimport { useState } from 'react';\nimport type { ModeInfo } from '../../api/types';\nimport {\n  MessageSquare,\n  Bug,\n  GraduationCap,\n  RotateCcw,\n  FileSearch,\n  Terminal,\n  X,\n} from 'lucide-react';\n\ninterface ModeIndicatorProps {\n  modeInfo: ModeInfo | null;\n  onReset?: () => void;\n  conversationId?: string; // Optional - for future use\n}\n\n// Mode icon mapping\nconst modeIcons = {\n  normal: MessageSquare,\n  debugging: Bug,\n  teaching: GraduationCap,\n  recovery: RotateCcw,\n  review: FileSearch,\n  scripting: Terminal,\n};\n\n// Mode color mapping (using CSS variables from theme)\nconst modeColors = {\n  normal: {\n    bg: 'rgba(255, 255, 255, 0.05)',\n    border: 'var(--border-color)',\n    text: 'var(--text-secondary)',\n    icon: 'var(--text-secondary)',\n  },\n  debugging: {\n    bg: 'rgba(255, 69, 58, 0.1)',\n    border: 'rgba(255, 69, 58, 0.2)',\n    text: 'var(--error)',\n    icon: 'var(--error)',\n  },\n  teaching: {\n    bg: 'rgba(10, 132, 255, 0.1)',\n    border: 'rgba(10, 132, 255, 0.2)',\n    text: 'var(--accent-primary)',\n    icon: 'var(--accent-primary)',\n  },\n  recovery: {\n    bg: 'rgba(255, 214, 10, 0.1)',\n    border: 'rgba(255, 214, 10, 0.2)',\n    text: 'var(--warning)',\n    icon: 'var(--warning)',\n  },\n  review: {\n    bg: 'rgba(191, 90, 242, 0.1)',\n    border: 'rgba(191, 90, 242, 0.2)',\n    text: 'var(--ai-primary)',\n    icon: 'var(--ai-primary)',\n  },\n  scripting: {\n    bg: 'rgba(48, 209, 88, 0.1)',\n    border: 'rgba(48, 209, 88, 0.2)',\n    text: 'var(--success)',\n    icon: 'var(--success)',\n  },\n};\n\nconst ModeIndicator: FC<ModeIndicatorProps> = ({\n  modeInfo,\n  onReset,\n}) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  if (!modeInfo) return null;\n\n  const modeId = modeInfo.current_mode.toLowerCase() as keyof typeof modeIcons;\n  const Icon = modeIcons[modeId] || MessageSquare;\n  const colors = modeColors[modeId] || modeColors.normal;\n  const isNormalMode = modeId === 'normal';\n\n  return (\n    <div\n      style={{\n        position: 'relative',\n        display: 'inline-flex',\n        alignItems: 'center',\n      }}\n      onMouseEnter={() => setShowTooltip(true)}\n      onMouseLeave={() => setShowTooltip(false)}\n    >\n      {/* Mode Badge */}\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px',\n          padding: '6px 12px',\n          backgroundColor: colors.bg,\n          border: `1px solid ${colors.border}`,\n          borderRadius: 'var(--radius-sm)',\n          color: colors.text,\n          fontSize: '13px',\n          fontWeight: 600,\n          transition: 'all 0.2s var(--ease-apple)',\n          cursor: 'default',\n        }}\n        className=\"animate-in\"\n      >\n        <Icon size={14} style={{ color: colors.icon }} />\n        <span>{modeInfo.mode_name}</span>\n\n        {/* Reset Button (only show for non-normal modes) */}\n        {!isNormalMode && onReset && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onReset();\n            }}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              width: '18px',\n              height: '18px',\n              padding: 0,\n              marginLeft: '4px',\n              backgroundColor: 'transparent',\n              border: 'none',\n              borderRadius: '4px',\n              color: colors.text,\n              cursor: 'pointer',\n              transition: 'all 0.15s var(--ease-apple)',\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = 'rgba(255, 255, 255, 0.1)';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = 'transparent';\n            }}\n            title=\"Reset to normal mode\"\n          >\n            <X size={12} />\n          </button>\n        )}\n      </div>\n\n      {/* Tooltip */}\n      {showTooltip && modeInfo.mode_description && (\n        <div\n          style={{\n            position: 'absolute',\n            top: 'calc(100% + 8px)',\n            left: '50%',\n            transform: 'translateX(-50%)',\n            maxWidth: '280px',\n            padding: '12px 16px',\n            backgroundColor: 'var(--bg-elevated)',\n            border: '1px solid var(--border-color)',\n            borderRadius: 'var(--radius-md)',\n            boxShadow: 'var(--shadow-lg)',\n            fontSize: '12px',\n            color: 'var(--text-secondary)',\n            lineHeight: 1.5,\n            zIndex: 1000,\n            whiteSpace: 'normal',\n            pointerEvents: 'none',\n          }}\n          className=\"animate-slide-down\"\n        >\n          {modeInfo.mode_description}\n          {/* Tooltip arrow */}\n          <div\n            style={{\n              position: 'absolute',\n              top: '-5px',\n              left: '50%',\n              transform: 'translateX(-50%) rotate(45deg)',\n              width: '10px',\n              height: '10px',\n              backgroundColor: 'var(--bg-elevated)',\n              border: '1px solid var(--border-color)',\n              borderRight: 'none',\n              borderBottom: 'none',\n            }}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ModeIndicator;\n","/**\n * ModeTransitionToast - Shows a brief notification when mode changes\n *\n * Features:\n * - Auto-dismisses after 3 seconds\n * - Slide-in animation\n * - Shows from/to mode and trigger\n * - Color-coded based on new mode\n */\nimport type { FC } from 'react';\nimport { useEffect, useState } from 'react';\nimport type { ModeTransition } from '../../api/types';\nimport { ArrowRight, Sparkles } from 'lucide-react';\n\ninterface ModeTransitionToastProps {\n  transition: ModeTransition;\n  onDismiss: () => void;\n}\n\nconst ModeTransitionToast: FC<ModeTransitionToastProps> = ({\n  transition,\n  onDismiss,\n}) => {\n  const [isVisible, setIsVisible] = useState(true);\n\n  useEffect(() => {\n    // Auto-dismiss after 3 seconds\n    const timer = setTimeout(() => {\n      setIsVisible(false);\n      // Wait for slide-out animation to complete\n      setTimeout(onDismiss, 300);\n    }, 3000);\n\n    return () => clearTimeout(timer);\n  }, [onDismiss]);\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        bottom: '24px',\n        right: '24px',\n        zIndex: 9999,\n        transform: isVisible ? 'translateY(0)' : 'translateY(20px)',\n        opacity: isVisible ? 1 : 0,\n        transition: 'all 0.3s var(--ease-apple)',\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: '12px',\n          padding: '14px 18px',\n          backgroundColor: 'var(--bg-elevated)',\n          border: '1px solid var(--border-color)',\n          borderRadius: 'var(--radius-md)',\n          boxShadow: 'var(--shadow-lg)',\n          minWidth: '320px',\n          maxWidth: '400px',\n        }}\n        className=\"animate-slide-up\"\n      >\n        {/* Icon */}\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            width: '32px',\n            height: '32px',\n            borderRadius: 'var(--radius-sm)',\n            backgroundColor: 'rgba(10, 132, 255, 0.1)',\n            color: 'var(--accent-primary)',\n            flexShrink: 0,\n          }}\n        >\n          <Sparkles size={16} />\n        </div>\n\n        {/* Content */}\n        <div style={{ flex: 1, minWidth: 0 }}>\n          <div\n            style={{\n              fontSize: '13px',\n              fontWeight: 600,\n              color: 'var(--text-primary)',\n              marginBottom: '4px',\n            }}\n          >\n            Mode Changed\n          </div>\n          <div\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              fontSize: '12px',\n              color: 'var(--text-secondary)',\n            }}\n          >\n            <span\n              style={{\n                padding: '2px 8px',\n                backgroundColor: 'rgba(255, 255, 255, 0.05)',\n                borderRadius: '4px',\n                fontWeight: 500,\n              }}\n            >\n              {transition.from}\n            </span>\n            <ArrowRight size={12} />\n            <span\n              style={{\n                padding: '2px 8px',\n                backgroundColor: 'rgba(10, 132, 255, 0.1)',\n                borderRadius: '4px',\n                fontWeight: 600,\n                color: 'var(--accent-primary)',\n              }}\n            >\n              {transition.to}\n            </span>\n          </div>\n          {transition.trigger && (\n            <div\n              style={{\n                fontSize: '11px',\n                color: 'var(--text-tertiary)',\n                marginTop: '4px',\n              }}\n            >\n              Triggered by:{' '}\n              <span\n                style={{\n                  fontFamily: 'var(--font-mono)',\n                  color: 'var(--text-secondary)',\n                }}\n              >\n                \"{transition.trigger}\"\n              </span>\n            </div>\n          )}\n        </div>\n\n        {/* Dismiss Button */}\n        <button\n          onClick={() => {\n            setIsVisible(false);\n            setTimeout(onDismiss, 300);\n          }}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            width: '24px',\n            height: '24px',\n            padding: 0,\n            backgroundColor: 'transparent',\n            border: 'none',\n            borderRadius: '4px',\n            color: 'var(--text-tertiary)',\n            cursor: 'pointer',\n            transition: 'all 0.15s var(--ease-apple)',\n            flexShrink: 0,\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.backgroundColor = 'rgba(255, 255, 255, 0.05)';\n            e.currentTarget.style.color = 'var(--text-secondary)';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.backgroundColor = 'transparent';\n            e.currentTarget.style.color = 'var(--text-tertiary)';\n          }}\n        >\n          \n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ModeTransitionToast;\n","/**\n * ChatPage - Main chat interface\n *\n * Features:\n * - Message list with scrolling\n * - Input box at bottom\n * - Send button and Enter key support\n * - Streaming responses\n * - Conversation sidebar\n * - Routing lane selection (fast/smart/auto)\n */\nimport type { FC } from 'react';\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport {\n  sendMessageStream,\n  getConversations,\n  getConversation,\n  deleteConversation,\n  resetMode,\n} from '../../api/chat';\nimport type {\n  ChatMessage,\n  Conversation,\n  ChatStreamChunk,\n  ChatRouting,\n  ModeInfo,\n  ModeTransition,\n} from '../../api/types';\nimport MessageBubble from './MessageBubble';\nimport ConversationList from './ConversationList';\nimport ModeIndicator from './ModeIndicator';\nimport ModeTransitionToast from './ModeTransitionToast';\nimport {\n  Send,\n  Loader2,\n  MessageSquare,\n  AlertCircle,\n  Zap,\n  Brain,\n  Sparkles,\n} from 'lucide-react';\n\nconst ChatPage: FC = () => {\n  // State\n  const [conversations, setConversations] = useState<Conversation[]>([]);\n  const [activeConversationId, setActiveConversationId] = useState<string | null>(null);\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSending, setIsSending] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [streamingContent, setStreamingContent] = useState('');\n  const [streamingMessageId, setStreamingMessageId] = useState<string | null>(null);\n  const [streamingRouting, setStreamingRouting] = useState<ChatRouting | null>(null);\n  const [selectedLane, setSelectedLane] = useState<'fast' | 'smart' | 'auto'>('auto');\n  const [currentMode, setCurrentMode] = useState<ModeInfo | null>(null);\n  const [modeTransition, setModeTransition] = useState<ModeTransition | null>(null);\n\n  // Refs\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const abortStreamRef = useRef<(() => void) | null>(null);\n\n  // Refs to track streaming state for closure access\n  const streamingContentRef = useRef<string>('');\n  const streamingMessageIdRef = useRef<string | null>(null);\n  const streamingRoutingRef = useRef<ChatRouting | null>(null);\n  const currentModeRef = useRef<ModeInfo | null>(null);\n\n  // Load conversations on mount\n  const loadConversations = useCallback(async () => {\n    try {\n      setIsLoading(true);\n      const response = await getConversations();\n      setConversations(response.conversations);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to load conversations');\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    loadConversations();\n  }, [loadConversations]);\n\n  // Auto-scroll to bottom when messages change\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages, streamingContent]);\n\n  // Load conversation messages\n  const loadConversation = async (conversationId: string) => {\n    try {\n      setError(null);\n      const conversation = await getConversation(conversationId);\n      setMessages(conversation.messages);\n      setActiveConversationId(conversationId);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to load conversation');\n    }\n  };\n\n  // Handle new conversation\n  const handleNewConversation = () => {\n    setActiveConversationId(null);\n    setMessages([]);\n    setStreamingContent('');\n    setStreamingMessageId(null);\n    setError(null);\n    setCurrentMode(null);\n    setModeTransition(null);\n  };\n\n  // Handle conversation selection\n  const handleSelectConversation = (conversationId: string) => {\n    if (conversationId !== activeConversationId) {\n      loadConversation(conversationId);\n    }\n  };\n\n  // Handle conversation deletion\n  const handleDeleteConversation = async (conversationId: string) => {\n    try {\n      await deleteConversation(conversationId);\n      setConversations((prev) => prev.filter((c) => c.id !== conversationId));\n      if (conversationId === activeConversationId) {\n        handleNewConversation();\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to delete conversation');\n    }\n  };\n\n  // Handle send message\n  const handleSendMessage = async () => {\n    const message = inputValue.trim();\n    if (!message || isSending) return;\n\n    // Clear input and errors\n    setInputValue('');\n    setError(null);\n    setIsSending(true);\n\n    // Add user message to UI\n    const userMessage: ChatMessage = {\n      id: `temp-${Date.now()}`,\n      role: 'user',\n      content: message,\n      timestamp: new Date().toISOString(),\n    };\n    setMessages((prev) => [...prev, userMessage]);\n\n    // Prepare streaming assistant message - reset both state and refs\n    setStreamingContent('');\n    setStreamingMessageId(null);\n    setStreamingRouting(null);\n    streamingContentRef.current = '';\n    streamingMessageIdRef.current = null;\n    streamingRoutingRef.current = null;\n\n    // Send message with streaming\n    const cleanup = sendMessageStream(\n      {\n        message,\n        conversation_id: activeConversationId || undefined,\n        lane: selectedLane,\n        stream: true,\n      },\n      // onChunk\n      (chunk: ChatStreamChunk) => {\n        if (chunk.type === 'start') {\n          // Update both state (for UI) and refs (for closure access)\n          setStreamingMessageId(chunk.message_id || null);\n          setStreamingRouting(chunk.routing || null);\n          streamingMessageIdRef.current = chunk.message_id || null;\n          streamingRoutingRef.current = chunk.routing || null;\n          if (chunk.conversation_id && !activeConversationId) {\n            setActiveConversationId(chunk.conversation_id);\n          }\n          // Update mode info and show transition if mode changed\n          if (chunk.mode_info) {\n            const previousMode = currentModeRef.current?.current_mode || 'normal';\n            setCurrentMode(chunk.mode_info);\n            currentModeRef.current = chunk.mode_info;\n            if (chunk.mode_info.transition) {\n              setModeTransition(chunk.mode_info.transition);\n            } else if (previousMode !== chunk.mode_info.current_mode) {\n              // Mode changed but no explicit transition info\n              setModeTransition({\n                from: previousMode,\n                to: chunk.mode_info.current_mode,\n                trigger: 'auto',\n                trigger_type: 'keyword',\n              });\n            }\n          }\n        } else if (chunk.type === 'delta') {\n          // Update both state (for UI) and ref (for closure access)\n          const newContent = (chunk.content || '');\n          streamingContentRef.current += newContent;\n          setStreamingContent((prev) => prev + newContent);\n        }\n      },\n      // onDone\n      () => {\n        // Finalize streaming message using REFS (not state) to avoid closure issues\n        const finalMessageId = streamingMessageIdRef.current;\n        const finalContent = streamingContentRef.current;\n        const finalRouting = streamingRoutingRef.current;\n        const finalMode = currentModeRef.current;\n\n        if (finalMessageId && finalContent) {\n          const assistantMessage: ChatMessage = {\n            id: finalMessageId,\n            role: 'assistant',\n            content: finalContent,\n            timestamp: new Date().toISOString(),\n            routing: finalRouting || undefined,\n            mode_info: finalMode || undefined,\n          };\n          setMessages((prev) => [...prev, assistantMessage]);\n        }\n\n        // Reset streaming state and refs\n        setStreamingContent('');\n        setStreamingMessageId(null);\n        setStreamingRouting(null);\n        streamingContentRef.current = '';\n        streamingMessageIdRef.current = null;\n        streamingRoutingRef.current = null;\n        setIsSending(false);\n        abortStreamRef.current = null;\n\n        // Reload conversations to update list\n        loadConversations();\n      },\n      // onError\n      (err: Error) => {\n        setError(err.message);\n        setStreamingContent('');\n        setStreamingMessageId(null);\n        setStreamingRouting(null);\n        streamingContentRef.current = '';\n        streamingMessageIdRef.current = null;\n        streamingRoutingRef.current = null;\n        setIsSending(false);\n        abortStreamRef.current = null;\n      }\n    );\n\n    abortStreamRef.current = cleanup;\n  };\n\n  // Handle mode reset\n  const handleResetMode = async () => {\n    if (!activeConversationId) return;\n\n    try {\n      const updatedMode = await resetMode(activeConversationId);\n      setCurrentMode(updatedMode);\n      // Show transition toast\n      setModeTransition({\n        from: currentMode?.current_mode || 'unknown',\n        to: updatedMode.current_mode,\n        trigger: 'manual reset',\n        trigger_type: 'reset',\n      });\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to reset mode');\n    }\n  };\n\n  // Handle Enter key in textarea\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        height: 'calc(100vh - 60px)', // Account for header\n        overflow: 'hidden',\n      }}\n    >\n      {/* Sidebar */}\n      <ConversationList\n        conversations={conversations}\n        activeConversationId={activeConversationId}\n        isLoading={isLoading}\n        onSelectConversation={handleSelectConversation}\n        onDeleteConversation={handleDeleteConversation}\n        onNewConversation={handleNewConversation}\n      />\n\n      {/* Main Chat Area */}\n      <div\n        style={{\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          overflow: 'hidden',\n        }}\n      >\n        {/* Chat Header */}\n        <div\n          style={{\n            padding: '16px 24px',\n            borderBottom: '1px solid #E5E5E7',\n            backgroundColor: '#FFFFFF',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n          }}\n        >\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n            <div\n              style={{\n                width: '40px',\n                height: '40px',\n                borderRadius: '10px',\n                background: 'linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n              }}\n            >\n              <MessageSquare size={20} style={{ color: '#FFFFFF' }} />\n            </div>\n            <div>\n              <h1 style={{ fontSize: '18px', fontWeight: 600, color: '#1D1D1F' }}>\n                Chat\n              </h1>\n              <p style={{ fontSize: '12px', color: '#6B7280' }}>\n                AI-powered conversation\n              </p>\n            </div>\n          </div>\n\n          {/* Mode Indicator and Lane Selector */}\n          <div style={{ display: 'flex', gap: '12px', alignItems: 'center' }}>\n            {/* Mode Indicator */}\n            {activeConversationId && currentMode && (\n              <ModeIndicator\n                modeInfo={currentMode}\n                onReset={handleResetMode}\n                conversationId={activeConversationId}\n              />\n            )}\n\n            {/* Lane Selector */}\n            <div style={{ display: 'flex', gap: '8px' }}>\n              {(['auto', 'fast', 'smart'] as const).map((lane) => (\n              <button\n                key={lane}\n                onClick={() => setSelectedLane(lane)}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  padding: '8px 12px',\n                  backgroundColor: selectedLane === lane ? '#3B82F6' : '#F3F4F6',\n                  color: selectedLane === lane ? '#FFFFFF' : '#6B7280',\n                  border: 'none',\n                  borderRadius: '8px',\n                  fontSize: '12px',\n                  fontWeight: 500,\n                  cursor: 'pointer',\n                  transition: 'all 0.15s',\n                }}\n              >\n                {lane === 'fast' && <Zap size={14} />}\n                {lane === 'smart' && <Brain size={14} />}\n                {lane === 'auto' && <Sparkles size={14} />}\n                <span style={{ textTransform: 'capitalize' }}>{lane}</span>\n              </button>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Error Display */}\n        {error && (\n          <div\n            style={{\n              margin: '16px 24px',\n              padding: '12px 16px',\n              backgroundColor: '#FEF2F2',\n              border: '1px solid #FECACA',\n              borderRadius: '10px',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px',\n            }}\n          >\n            <AlertCircle size={18} style={{ color: '#EF4444', flexShrink: 0 }} />\n            <p style={{ fontSize: '13px', color: '#DC2626' }}>{error}</p>\n          </div>\n        )}\n\n        {/* Messages Area */}\n        <div\n          style={{\n            flex: 1,\n            overflowY: 'auto',\n            padding: '24px',\n            backgroundColor: '#FAFAFA',\n          }}\n        >\n          {messages.length === 0 && !streamingContent ? (\n            // Empty State\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center',\n                height: '100%',\n                textAlign: 'center',\n              }}\n            >\n              <div\n                style={{\n                  width: '80px',\n                  height: '80px',\n                  borderRadius: '20px',\n                  background: 'linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  marginBottom: '20px',\n                }}\n              >\n                <MessageSquare size={40} style={{ color: '#FFFFFF' }} />\n              </div>\n              <h2 style={{ fontSize: '24px', fontWeight: 700, color: '#1D1D1F', marginBottom: '8px' }}>\n                Start a Conversation\n              </h2>\n              <p style={{ fontSize: '14px', color: '#6B7280', maxWidth: '400px' }}>\n                Ask me anything! I can help with coding, planning, research, and more.\n              </p>\n            </div>\n          ) : (\n            <>\n              {/* Existing Messages */}\n              {messages.map((message) => (\n                <MessageBubble key={message.id} message={message} />\n              ))}\n\n              {/* Streaming Message */}\n              {streamingContent && (\n                <MessageBubble\n                  message={{\n                    id: streamingMessageId || 'streaming',\n                    role: 'assistant',\n                    content: streamingContent,\n                    timestamp: new Date().toISOString(),\n                    routing: streamingRouting || undefined,\n                  }}\n                />\n              )}\n\n              {/* Scroll anchor */}\n              <div ref={messagesEndRef} />\n            </>\n          )}\n        </div>\n\n        {/* Input Area */}\n        <div\n          style={{\n            padding: '16px 24px',\n            backgroundColor: '#FFFFFF',\n            borderTop: '1px solid #E5E5E7',\n          }}\n        >\n          <div\n            style={{\n              display: 'flex',\n              gap: '12px',\n              alignItems: 'flex-end',\n            }}\n          >\n            <textarea\n              value={inputValue}\n              onChange={(e) => setInputValue(e.target.value)}\n              onKeyDown={handleKeyDown}\n              placeholder=\"Type a message... (Shift+Enter for new line)\"\n              disabled={isSending}\n              rows={1}\n              style={{\n                flex: 1,\n                padding: '12px 16px',\n                backgroundColor: '#FAFAFA',\n                border: '1px solid #E5E5E7',\n                borderRadius: '12px',\n                fontSize: '15px',\n                color: '#1D1D1F',\n                outline: 'none',\n                resize: 'none',\n                fontFamily: 'inherit',\n                lineHeight: '1.5',\n                minHeight: '48px',\n                maxHeight: '200px',\n              }}\n            />\n            <button\n              onClick={handleSendMessage}\n              disabled={!inputValue.trim() || isSending}\n              style={{\n                padding: '12px 20px',\n                backgroundColor: inputValue.trim() && !isSending ? '#3B82F6' : '#E5E5E7',\n                color: inputValue.trim() && !isSending ? '#FFFFFF' : '#9CA3AF',\n                border: 'none',\n                borderRadius: '12px',\n                fontSize: '14px',\n                fontWeight: 600,\n                cursor: inputValue.trim() && !isSending ? 'pointer' : 'not-allowed',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                transition: 'all 0.15s',\n                height: '48px',\n              }}\n            >\n              {isSending ? (\n                <>\n                  <Loader2 size={18} style={{ animation: 'spin 1s linear infinite' }} />\n                  <span>Sending...</span>\n                </>\n              ) : (\n                <>\n                  <Send size={18} />\n                  <span>Send</span>\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Mode Transition Toast */}\n      {modeTransition && (\n        <ModeTransitionToast\n          transition={modeTransition}\n          onDismiss={() => setModeTransition(null)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ChatPage;\n","/**\n * Personas API client for persona/character management.\n * Handles persona CRUD operations and prompt preview.\n */\n\nimport { apiGet, apiPost, apiPut, apiDelete } from './client';\n\n// \n// TYPES\n// \n\n/**\n * ExpertiseDomain represents a domain of knowledge with depth level.\n */\nexport interface ExpertiseDomain {\n  domain: string;\n  depth: 'expert' | 'proficient' | 'familiar';\n  specialties?: string[];\n  boundaries?: string[];\n}\n\n/**\n * CommunicationStyle defines how the persona communicates.\n */\nexport interface CommunicationStyle {\n  tone: string;\n  verbosity: 'concise' | 'detailed' | 'adaptive';\n  formatting: 'markdown' | 'plain' | 'code-heavy';\n  patterns?: string[];\n  avoids?: string[];\n}\n\n/**\n * BehavioralMode represents a context-specific behavior mode.\n */\nexport interface BehavioralMode {\n  id: string;\n  name: string;\n  description?: string;\n  prompt_augment?: string;\n  entry_keywords?: string[];\n  exit_keywords?: string[];\n  manual_trigger?: string;\n  force_verbose?: boolean;\n  force_concise?: boolean;\n}\n\n/**\n * Persona represents a complete persona/character definition.\n */\nexport interface Persona {\n  id: string;\n  version: string;\n  name: string;\n  role: string;\n  background?: string;\n  traits?: string[];\n  values?: string[];\n  expertise?: ExpertiseDomain[];\n  style?: CommunicationStyle;\n  modes?: BehavioralMode[];\n  default_mode?: string;\n  system_prompt?: string;\n  is_built_in: boolean;\n  created_at: string; // ISO 8601 timestamp\n  updated_at: string; // ISO 8601 timestamp\n}\n\n/**\n * PersonasResponse from GET /api/v1/personas\n */\nexport interface PersonasResponse {\n  personas: Persona[];\n}\n\n/**\n * PreviewResponse from POST /api/v1/personas/:id/preview\n */\nexport interface PreviewResponse {\n  compiled_prompt: string;\n}\n\n// \n// API METHODS\n// \n\n/**\n * Get all personas.\n */\nexport async function getPersonas(): Promise<PersonasResponse> {\n  return apiGet<PersonasResponse>('/api/v1/personas');\n}\n\n/**\n * Get a single persona by ID.\n */\nexport async function getPersona(id: string): Promise<Persona> {\n  return apiGet<Persona>(`/api/v1/personas/${id}`);\n}\n\n/**\n * Create a new persona.\n */\nexport async function createPersona(data: Partial<Persona>): Promise<Persona> {\n  return apiPost<Persona>('/api/v1/personas', data);\n}\n\n/**\n * Update an existing persona.\n */\nexport async function updatePersona(id: string, data: Partial<Persona>): Promise<Persona> {\n  return apiPut<Persona>(`/api/v1/personas/${id}`, data);\n}\n\n/**\n * Delete a persona.\n */\nexport async function deletePersona(id: string): Promise<void> {\n  return apiDelete<void>(`/api/v1/personas/${id}`);\n}\n\n/**\n * Preview the compiled system prompt for a persona.\n */\nexport async function previewPersona(id: string): Promise<PreviewResponse> {\n  return apiPost<PreviewResponse>(`/api/v1/personas/${id}/preview`);\n}\n","/**\n * usePersonas hook - React Query integration for persona management\n *\n * Provides:\n * - personas list with loading state\n * - CRUD operations with optimistic updates\n * - Automatic cache invalidation\n */\n\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport {\n  getPersonas,\n  getPersona,\n  createPersona,\n  updatePersona,\n  deletePersona,\n  previewPersona,\n  type Persona,\n  type PersonasResponse,\n  type PreviewResponse,\n} from '../api/personas';\n\n// Query keys\nconst QUERY_KEYS = {\n  personas: ['personas'] as const,\n  persona: (id: string) => ['personas', id] as const,\n  preview: (id: string) => ['personas', id, 'preview'] as const,\n};\n\n/**\n * Hook to fetch all personas\n */\nexport function usePersonas() {\n  return useQuery<PersonasResponse, Error>({\n    queryKey: QUERY_KEYS.personas,\n    queryFn: getPersonas,\n    staleTime: 1000 * 60 * 5, // 5 minutes\n  });\n}\n\n/**\n * Hook to fetch a single persona by ID\n */\nexport function usePersona(id: string) {\n  return useQuery<Persona, Error>({\n    queryKey: QUERY_KEYS.persona(id),\n    queryFn: () => getPersona(id),\n    enabled: !!id, // Only run if ID is provided\n  });\n}\n\n/**\n * Hook to preview a persona's compiled system prompt\n */\nexport function usePersonaPreview(id: string) {\n  return useQuery<PreviewResponse, Error>({\n    queryKey: QUERY_KEYS.preview(id),\n    queryFn: () => previewPersona(id),\n    enabled: false, // Manual trigger only\n    staleTime: 0, // Always fetch fresh\n  });\n}\n\n/**\n * Hook to create a new persona\n */\nexport function useCreatePersona() {\n  const queryClient = useQueryClient();\n\n  return useMutation<Persona, Error, Partial<Persona>>({\n    mutationFn: createPersona,\n    onSuccess: () => {\n      // Invalidate personas list to trigger refetch\n      queryClient.invalidateQueries({ queryKey: QUERY_KEYS.personas });\n    },\n  });\n}\n\n/**\n * Hook to update an existing persona\n */\nexport function useUpdatePersona() {\n  const queryClient = useQueryClient();\n\n  return useMutation<Persona, Error, { id: string; data: Partial<Persona> }>({\n    mutationFn: ({ id, data }) => updatePersona(id, data),\n    onMutate: async ({ id, data }) => {\n      // Cancel outgoing refetches\n      await queryClient.cancelQueries({ queryKey: QUERY_KEYS.persona(id) });\n\n      // Snapshot previous value\n      const previousPersona = queryClient.getQueryData<Persona>(QUERY_KEYS.persona(id));\n\n      // Optimistically update\n      if (previousPersona) {\n        queryClient.setQueryData<Persona>(QUERY_KEYS.persona(id), {\n          ...previousPersona,\n          ...data,\n        });\n      }\n\n      return { previousPersona };\n    },\n    onError: (_err, { id }, context) => {\n      // Rollback on error\n      const ctx = context as { previousPersona?: Persona } | undefined;\n      if (ctx?.previousPersona) {\n        queryClient.setQueryData(QUERY_KEYS.persona(id), ctx.previousPersona);\n      }\n    },\n    onSuccess: (updatedPersona, { id }) => {\n      // Update cache with server response\n      queryClient.setQueryData(QUERY_KEYS.persona(id), updatedPersona);\n      // Invalidate personas list\n      queryClient.invalidateQueries({ queryKey: QUERY_KEYS.personas });\n    },\n  });\n}\n\n/**\n * Hook to delete a persona\n */\nexport function useDeletePersona() {\n  const queryClient = useQueryClient();\n\n  return useMutation<void, Error, string>({\n    mutationFn: deletePersona,\n    onMutate: async (id) => {\n      // Cancel outgoing refetches\n      await queryClient.cancelQueries({ queryKey: QUERY_KEYS.personas });\n\n      // Snapshot previous value\n      const previousPersonas = queryClient.getQueryData<PersonasResponse>(QUERY_KEYS.personas);\n\n      // Optimistically update\n      if (previousPersonas) {\n        queryClient.setQueryData<PersonasResponse>(QUERY_KEYS.personas, {\n          personas: previousPersonas.personas.filter((p) => p.id !== id),\n        });\n      }\n\n      return { previousPersonas };\n    },\n    onError: (_err, _id, context) => {\n      // Rollback on error\n      const ctx = context as { previousPersonas?: PersonasResponse } | undefined;\n      if (ctx?.previousPersonas) {\n        queryClient.setQueryData(QUERY_KEYS.personas, ctx.previousPersonas);\n      }\n    },\n    onSuccess: () => {\n      // Invalidate queries to ensure consistency\n      queryClient.invalidateQueries({ queryKey: QUERY_KEYS.personas });\n    },\n  });\n}\n","/**\n * PersonaList - Grid/list view of all personas\n *\n * Shows persona cards with edit/delete actions\n */\nimport type { FC } from 'react';\nimport { Edit2, Trash2, Shield } from 'lucide-react';\nimport type { Persona } from '../../api/personas';\n\ninterface PersonaListProps {\n  personas: Persona[];\n  onEdit: (persona: Persona) => void;\n  onDelete: (personaId: string) => void;\n}\n\nconst PersonaList: FC<PersonaListProps> = ({ personas, onEdit, onDelete }) => {\n  const handleDelete = (persona: Persona) => {\n    if (persona.is_built_in) {\n      return; // Built-in personas cannot be deleted\n    }\n\n    if (confirm(`Are you sure you want to delete \"${persona.name}\"?`)) {\n      onDelete(persona.id);\n    }\n  };\n\n  return (\n    <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(320px, 1fr))', gap: '16px' }}>\n      {personas.map((persona) => (\n        <div\n          key={persona.id}\n          style={{\n            backgroundColor: '#FFFFFF',\n            border: '1px solid #E5E5E7',\n            borderRadius: '12px',\n            padding: '20px',\n            transition: 'all 0.15s',\n            position: 'relative',\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.boxShadow = '0 4px 6px -1px rgba(0, 0, 0, 0.1)';\n            e.currentTarget.style.transform = 'translateY(-2px)';\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.boxShadow = 'none';\n            e.currentTarget.style.transform = 'translateY(0)';\n          }}\n        >\n          {/* Built-in Badge */}\n          {persona.is_built_in && (\n            <div\n              style={{\n                position: 'absolute',\n                top: '12px',\n                right: '12px',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '4px',\n                padding: '4px 8px',\n                backgroundColor: '#EEF2FF',\n                borderRadius: '6px',\n                fontSize: '11px',\n                fontWeight: 500,\n                color: '#4F46E5',\n              }}\n            >\n              <Shield size={12} />\n              Built-in\n            </div>\n          )}\n\n          {/* Persona Info */}\n          <div style={{ marginBottom: '16px' }}>\n            <h3 style={{ fontSize: '18px', fontWeight: 600, color: '#1D1D1F', marginBottom: '4px' }}>\n              {persona.name}\n            </h3>\n            <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '12px' }}>\n              {persona.role}\n            </p>\n\n            {persona.background && (\n              <p\n                style={{\n                  fontSize: '13px',\n                  color: '#9CA3AF',\n                  lineHeight: '1.5',\n                  display: '-webkit-box',\n                  WebkitLineClamp: 3,\n                  WebkitBoxOrient: 'vertical',\n                  overflow: 'hidden',\n                }}\n              >\n                {persona.background}\n              </p>\n            )}\n          </div>\n\n          {/* Traits */}\n          {persona.traits && persona.traits.length > 0 && (\n            <div style={{ marginBottom: '16px' }}>\n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: '6px' }}>\n                {persona.traits.slice(0, 3).map((trait) => (\n                  <span\n                    key={trait}\n                    style={{\n                      padding: '4px 8px',\n                      backgroundColor: '#F3F4F6',\n                      borderRadius: '6px',\n                      fontSize: '12px',\n                      color: '#1D1D1F',\n                    }}\n                  >\n                    {trait}\n                  </span>\n                ))}\n                {persona.traits.length > 3 && (\n                  <span\n                    style={{\n                      padding: '4px 8px',\n                      backgroundColor: '#F3F4F6',\n                      borderRadius: '6px',\n                      fontSize: '12px',\n                      color: '#6B7280',\n                    }}\n                  >\n                    +{persona.traits.length - 3}\n                  </span>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Expertise Count */}\n          {persona.expertise && persona.expertise.length > 0 && (\n            <div style={{ marginBottom: '16px' }}>\n              <p style={{ fontSize: '12px', color: '#6B7280' }}>\n                {persona.expertise.length} expertise domain{persona.expertise.length !== 1 ? 's' : ''}\n              </p>\n            </div>\n          )}\n\n          {/* Modes Count */}\n          {persona.modes && persona.modes.length > 0 && (\n            <div style={{ marginBottom: '16px' }}>\n              <p style={{ fontSize: '12px', color: '#6B7280' }}>\n                {persona.modes.length} behavioral mode{persona.modes.length !== 1 ? 's' : ''}\n              </p>\n            </div>\n          )}\n\n          {/* Actions */}\n          <div\n            style={{\n              display: 'flex',\n              gap: '8px',\n              paddingTop: '16px',\n              borderTop: '1px solid #F3F4F6',\n            }}\n          >\n            <button\n              type=\"button\"\n              onClick={() => onEdit(persona)}\n              style={{\n                flex: 1,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '6px',\n                padding: '8px 12px',\n                backgroundColor: '#F9FAFB',\n                border: '1px solid #E5E5E7',\n                borderRadius: '8px',\n                fontSize: '13px',\n                fontWeight: 500,\n                color: '#1D1D1F',\n                cursor: 'pointer',\n                transition: 'all 0.15s',\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = '#3B82F6';\n                e.currentTarget.style.borderColor = '#3B82F6';\n                e.currentTarget.style.color = '#FFFFFF';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = '#F9FAFB';\n                e.currentTarget.style.borderColor = '#E5E5E7';\n                e.currentTarget.style.color = '#1D1D1F';\n              }}\n            >\n              <Edit2 size={14} />\n              Edit\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={() => handleDelete(persona)}\n              disabled={persona.is_built_in}\n              style={{\n                flex: 1,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '6px',\n                padding: '8px 12px',\n                backgroundColor: persona.is_built_in ? '#F9FAFB' : '#FEF2F2',\n                border: `1px solid ${persona.is_built_in ? '#E5E5E7' : '#FECACA'}`,\n                borderRadius: '8px',\n                fontSize: '13px',\n                fontWeight: 500,\n                color: persona.is_built_in ? '#9CA3AF' : '#DC2626',\n                cursor: persona.is_built_in ? 'not-allowed' : 'pointer',\n                transition: 'all 0.15s',\n                opacity: persona.is_built_in ? 0.5 : 1,\n              }}\n              onMouseEnter={(e) => {\n                if (!persona.is_built_in) {\n                  e.currentTarget.style.backgroundColor = '#FEE2E2';\n                  e.currentTarget.style.borderColor = '#FCA5A5';\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (!persona.is_built_in) {\n                  e.currentTarget.style.backgroundColor = '#FEF2F2';\n                  e.currentTarget.style.borderColor = '#FECACA';\n                }\n              }}\n            >\n              <Trash2 size={14} />\n              Delete\n            </button>\n          </div>\n\n          {/* Metadata */}\n          <div\n            style={{\n              marginTop: '12px',\n              paddingTop: '12px',\n              borderTop: '1px solid #F3F4F6',\n            }}\n          >\n            <p style={{ fontSize: '11px', color: '#9CA3AF' }}>\n              Updated {new Date(persona.updated_at).toLocaleDateString()}\n            </p>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default PersonaList;\n","/**\n * IdentityTab - Identity configuration tab for persona builder\n *\n * Handles: name, role, background, traits, values\n */\nimport type { FC } from 'react';\nimport { X } from 'lucide-react';\n\ninterface IdentityTabProps {\n  name: string;\n  role: string;\n  background: string;\n  traits: string[];\n  values: string[];\n  onChange: (field: string, value: unknown) => void;\n}\n\nconst IdentityTab: FC<IdentityTabProps> = ({\n  name,\n  role,\n  background,\n  traits,\n  values,\n  onChange,\n}) => {\n  const handleAddTrait = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      const input = e.currentTarget;\n      const value = input.value.trim();\n      if (value && !traits.includes(value)) {\n        onChange('traits', [...traits, value]);\n        input.value = '';\n      }\n    }\n  };\n\n  const handleRemoveTrait = (trait: string) => {\n    onChange('traits', traits.filter((t) => t !== trait));\n  };\n\n  const handleAddValue = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      const input = e.currentTarget;\n      const value = input.value.trim();\n      if (value && !values.includes(value)) {\n        onChange('values', [...values, value]);\n        input.value = '';\n      }\n    }\n  };\n\n  const handleRemoveValue = (value: string) => {\n    onChange('values', values.filter((v) => v !== value));\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '24px' }}>\n      {/* Name */}\n      <div>\n        <label\n          htmlFor=\"persona-name\"\n          style={{\n            display: 'block',\n            fontSize: '13px',\n            fontWeight: 500,\n            color: '#1D1D1F',\n            marginBottom: '8px',\n          }}\n        >\n          Name *\n        </label>\n        <input\n          id=\"persona-name\"\n          type=\"text\"\n          value={name}\n          onChange={(e) => onChange('name', e.target.value)}\n          placeholder=\"e.g., Technical Architect\"\n          required\n          style={{\n            width: '100%',\n            padding: '12px 16px',\n            backgroundColor: '#FFFFFF',\n            border: '1px solid #E5E5E7',\n            borderRadius: '10px',\n            fontSize: '15px',\n            color: '#1D1D1F',\n            outline: 'none',\n          }}\n        />\n      </div>\n\n      {/* Role */}\n      <div>\n        <label\n          htmlFor=\"persona-role\"\n          style={{\n            display: 'block',\n            fontSize: '13px',\n            fontWeight: 500,\n            color: '#1D1D1F',\n            marginBottom: '8px',\n          }}\n        >\n          Role *\n        </label>\n        <input\n          id=\"persona-role\"\n          type=\"text\"\n          value={role}\n          onChange={(e) => onChange('role', e.target.value)}\n          placeholder=\"e.g., Senior Software Engineer\"\n          required\n          style={{\n            width: '100%',\n            padding: '12px 16px',\n            backgroundColor: '#FFFFFF',\n            border: '1px solid #E5E5E7',\n            borderRadius: '10px',\n            fontSize: '15px',\n            color: '#1D1D1F',\n            outline: 'none',\n          }}\n        />\n      </div>\n\n      {/* Background */}\n      <div>\n        <label\n          htmlFor=\"persona-background\"\n          style={{\n            display: 'block',\n            fontSize: '13px',\n            fontWeight: 500,\n            color: '#1D1D1F',\n            marginBottom: '8px',\n          }}\n        >\n          Background\n        </label>\n        <textarea\n          id=\"persona-background\"\n          value={background}\n          onChange={(e) => onChange('background', e.target.value)}\n          placeholder=\"Describe the persona's background, experience, and expertise...\"\n          rows={4}\n          style={{\n            width: '100%',\n            padding: '12px 16px',\n            backgroundColor: '#FFFFFF',\n            border: '1px solid #E5E5E7',\n            borderRadius: '10px',\n            fontSize: '15px',\n            color: '#1D1D1F',\n            outline: 'none',\n            resize: 'vertical',\n            fontFamily: 'inherit',\n          }}\n        />\n      </div>\n\n      {/* Traits */}\n      <div>\n        <label\n          htmlFor=\"persona-traits\"\n          style={{\n            display: 'block',\n            fontSize: '13px',\n            fontWeight: 500,\n            color: '#1D1D1F',\n            marginBottom: '8px',\n          }}\n        >\n          Traits\n        </label>\n        <input\n          id=\"persona-traits\"\n          type=\"text\"\n          onKeyDown={handleAddTrait}\n          placeholder=\"Type a trait and press Enter (e.g., analytical, creative)\"\n          style={{\n            width: '100%',\n            padding: '12px 16px',\n            backgroundColor: '#FFFFFF',\n            border: '1px solid #E5E5E7',\n            borderRadius: '10px',\n            fontSize: '15px',\n            color: '#1D1D1F',\n            outline: 'none',\n          }}\n        />\n        {traits.length > 0 && (\n          <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginTop: '12px' }}>\n            {traits.map((trait) => (\n              <span\n                key={trait}\n                style={{\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  padding: '6px 12px',\n                  backgroundColor: '#F3F4F6',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  color: '#1D1D1F',\n                }}\n              >\n                {trait}\n                <button\n                  type=\"button\"\n                  onClick={() => handleRemoveTrait(trait)}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    padding: 0,\n                    border: 'none',\n                    background: 'none',\n                    cursor: 'pointer',\n                    color: '#6B7280',\n                  }}\n                >\n                  <X size={14} />\n                </button>\n              </span>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Values */}\n      <div>\n        <label\n          htmlFor=\"persona-values\"\n          style={{\n            display: 'block',\n            fontSize: '13px',\n            fontWeight: 500,\n            color: '#1D1D1F',\n            marginBottom: '8px',\n          }}\n        >\n          Values\n        </label>\n        <input\n          id=\"persona-values\"\n          type=\"text\"\n          onKeyDown={handleAddValue}\n          placeholder=\"Type a value and press Enter (e.g., honesty, efficiency)\"\n          style={{\n            width: '100%',\n            padding: '12px 16px',\n            backgroundColor: '#FFFFFF',\n            border: '1px solid #E5E5E7',\n            borderRadius: '10px',\n            fontSize: '15px',\n            color: '#1D1D1F',\n            outline: 'none',\n          }}\n        />\n        {values.length > 0 && (\n          <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginTop: '12px' }}>\n            {values.map((value) => (\n              <span\n                key={value}\n                style={{\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  padding: '6px 12px',\n                  backgroundColor: '#EEF2FF',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  color: '#4F46E5',\n                }}\n              >\n                {value}\n                <button\n                  type=\"button\"\n                  onClick={() => handleRemoveValue(value)}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    padding: 0,\n                    border: 'none',\n                    background: 'none',\n                    cursor: 'pointer',\n                    color: '#818CF8',\n                  }}\n                >\n                  <X size={14} />\n                </button>\n              </span>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default IdentityTab;\n","/**\n * ExpertiseTab - Expertise configuration tab for persona builder\n *\n * Handles: domains with depth levels, specialties, boundaries\n */\nimport type { FC } from 'react';\nimport { useState } from 'react';\nimport { Plus, Trash2, X } from 'lucide-react';\nimport type { ExpertiseDomain } from '../../api/personas';\n\ninterface ExpertiseTabProps {\n  expertise: ExpertiseDomain[];\n  onChange: (expertise: ExpertiseDomain[]) => void;\n}\n\nconst ExpertiseTab: FC<ExpertiseTabProps> = ({ expertise, onChange }) => {\n  const [editingIndex, setEditingIndex] = useState<number | null>(null);\n\n  const handleAddDomain = () => {\n    const newDomain: ExpertiseDomain = {\n      domain: '',\n      depth: 'proficient',\n      specialties: [],\n      boundaries: [],\n    };\n    onChange([...expertise, newDomain]);\n    setEditingIndex(expertise.length);\n  };\n\n  const handleRemoveDomain = (index: number) => {\n    onChange(expertise.filter((_, i) => i !== index));\n    if (editingIndex === index) {\n      setEditingIndex(null);\n    }\n  };\n\n  const handleUpdateDomain = (index: number, field: keyof ExpertiseDomain, value: unknown) => {\n    const updated = [...expertise];\n    updated[index] = { ...updated[index], [field]: value };\n    onChange(updated);\n  };\n\n  const handleAddSpecialty = (index: number, specialty: string) => {\n    const domain = expertise[index];\n    if (specialty && !domain.specialties?.includes(specialty)) {\n      handleUpdateDomain(index, 'specialties', [...(domain.specialties || []), specialty]);\n    }\n  };\n\n  const handleRemoveSpecialty = (index: number, specialty: string) => {\n    const domain = expertise[index];\n    handleUpdateDomain(\n      index,\n      'specialties',\n      (domain.specialties || []).filter((s) => s !== specialty)\n    );\n  };\n\n  const handleAddBoundary = (index: number, boundary: string) => {\n    const domain = expertise[index];\n    if (boundary && !domain.boundaries?.includes(boundary)) {\n      handleUpdateDomain(index, 'boundaries', [...(domain.boundaries || []), boundary]);\n    }\n  };\n\n  const handleRemoveBoundary = (index: number, boundary: string) => {\n    const domain = expertise[index];\n    handleUpdateDomain(\n      index,\n      'boundaries',\n      (domain.boundaries || []).filter((b) => b !== boundary)\n    );\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n      {/* Add Domain Button */}\n      <button\n        type=\"button\"\n        onClick={handleAddDomain}\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px',\n          padding: '10px 16px',\n          backgroundColor: '#3B82F6',\n          color: '#FFFFFF',\n          border: 'none',\n          borderRadius: '10px',\n          fontSize: '14px',\n          fontWeight: 500,\n          cursor: 'pointer',\n          alignSelf: 'flex-start',\n        }}\n      >\n        <Plus size={18} />\n        Add Domain\n      </button>\n\n      {/* Domains List */}\n      {expertise.length === 0 ? (\n        <div\n          style={{\n            padding: '40px 20px',\n            backgroundColor: '#F9FAFB',\n            borderRadius: '12px',\n            border: '1px dashed #E5E5E7',\n            textAlign: 'center',\n          }}\n        >\n          <p style={{ fontSize: '14px', color: '#6B7280' }}>\n            No expertise domains yet. Click \"Add Domain\" to start.\n          </p>\n        </div>\n      ) : (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n          {expertise.map((domain, index) => (\n            <div\n              key={index}\n              style={{\n                padding: '16px',\n                backgroundColor: '#FFFFFF',\n                border: '1px solid #E5E5E7',\n                borderRadius: '12px',\n              }}\n            >\n              {/* Domain Header */}\n              <div style={{ display: 'flex', gap: '12px', marginBottom: '12px' }}>\n                <input\n                  type=\"text\"\n                  value={domain.domain}\n                  onChange={(e) => handleUpdateDomain(index, 'domain', e.target.value)}\n                  placeholder=\"Domain name (e.g., TypeScript, React)\"\n                  style={{\n                    flex: 1,\n                    padding: '10px 12px',\n                    backgroundColor: '#F9FAFB',\n                    border: '1px solid #E5E5E7',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    color: '#1D1D1F',\n                    outline: 'none',\n                  }}\n                />\n                <select\n                  value={domain.depth}\n                  onChange={(e) =>\n                    handleUpdateDomain(index, 'depth', e.target.value as ExpertiseDomain['depth'])\n                  }\n                  style={{\n                    padding: '10px 12px',\n                    backgroundColor: '#F9FAFB',\n                    border: '1px solid #E5E5E7',\n                    borderRadius: '8px',\n                    fontSize: '14px',\n                    color: '#1D1D1F',\n                    cursor: 'pointer',\n                  }}\n                >\n                  <option value=\"familiar\">Familiar</option>\n                  <option value=\"proficient\">Proficient</option>\n                  <option value=\"expert\">Expert</option>\n                </select>\n                <button\n                  type=\"button\"\n                  onClick={() => handleRemoveDomain(index)}\n                  style={{\n                    padding: '10px',\n                    backgroundColor: '#FEE2E2',\n                    border: 'none',\n                    borderRadius: '8px',\n                    cursor: 'pointer',\n                    color: '#DC2626',\n                  }}\n                >\n                  <Trash2 size={18} />\n                </button>\n              </div>\n\n              {/* Specialties */}\n              <div style={{ marginBottom: '12px' }}>\n                <label\n                  style={{\n                    display: 'block',\n                    fontSize: '12px',\n                    fontWeight: 500,\n                    color: '#6B7280',\n                    marginBottom: '6px',\n                  }}\n                >\n                  Specialties\n                </label>\n                <input\n                  type=\"text\"\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                      const value = e.currentTarget.value.trim();\n                      if (value) {\n                        handleAddSpecialty(index, value);\n                        e.currentTarget.value = '';\n                      }\n                    }\n                  }}\n                  placeholder=\"Type and press Enter\"\n                  style={{\n                    width: '100%',\n                    padding: '8px 12px',\n                    backgroundColor: '#F9FAFB',\n                    border: '1px solid #E5E5E7',\n                    borderRadius: '8px',\n                    fontSize: '13px',\n                    color: '#1D1D1F',\n                    outline: 'none',\n                  }}\n                />\n                {domain.specialties && domain.specialties.length > 0 && (\n                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: '6px', marginTop: '8px' }}>\n                    {domain.specialties.map((specialty) => (\n                      <span\n                        key={specialty}\n                        style={{\n                          display: 'inline-flex',\n                          alignItems: 'center',\n                          gap: '4px',\n                          padding: '4px 8px',\n                          backgroundColor: '#DBEAFE',\n                          borderRadius: '6px',\n                          fontSize: '12px',\n                          color: '#1E40AF',\n                        }}\n                      >\n                        {specialty}\n                        <button\n                          type=\"button\"\n                          onClick={() => handleRemoveSpecialty(index, specialty)}\n                          style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            padding: 0,\n                            border: 'none',\n                            background: 'none',\n                            cursor: 'pointer',\n                            color: '#60A5FA',\n                          }}\n                        >\n                          <X size={12} />\n                        </button>\n                      </span>\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              {/* Boundaries */}\n              <div>\n                <label\n                  style={{\n                    display: 'block',\n                    fontSize: '12px',\n                    fontWeight: 500,\n                    color: '#6B7280',\n                    marginBottom: '6px',\n                  }}\n                >\n                  Boundaries (what to avoid)\n                </label>\n                <input\n                  type=\"text\"\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') {\n                      const value = e.currentTarget.value.trim();\n                      if (value) {\n                        handleAddBoundary(index, value);\n                        e.currentTarget.value = '';\n                      }\n                    }\n                  }}\n                  placeholder=\"Type and press Enter\"\n                  style={{\n                    width: '100%',\n                    padding: '8px 12px',\n                    backgroundColor: '#F9FAFB',\n                    border: '1px solid #E5E5E7',\n                    borderRadius: '8px',\n                    fontSize: '13px',\n                    color: '#1D1D1F',\n                    outline: 'none',\n                  }}\n                />\n                {domain.boundaries && domain.boundaries.length > 0 && (\n                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: '6px', marginTop: '8px' }}>\n                    {domain.boundaries.map((boundary) => (\n                      <span\n                        key={boundary}\n                        style={{\n                          display: 'inline-flex',\n                          alignItems: 'center',\n                          gap: '4px',\n                          padding: '4px 8px',\n                          backgroundColor: '#FEE2E2',\n                          borderRadius: '6px',\n                          fontSize: '12px',\n                          color: '#991B1B',\n                        }}\n                      >\n                        {boundary}\n                        <button\n                          type=\"button\"\n                          onClick={() => handleRemoveBoundary(index, boundary)}\n                          style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            padding: 0,\n                            border: 'none',\n                            background: 'none',\n                            cursor: 'pointer',\n                            color: '#F87171',\n                          }}\n                        >\n                          <X size={12} />\n                        </button>\n                      </span>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ExpertiseTab;\n","/**\n * StyleTab - Communication style configuration tab for persona builder\n *\n * Handles: tone, verbosity, formatting, patterns, avoids\n */\nimport type { FC } from 'react';\nimport { X } from 'lucide-react';\nimport type { CommunicationStyle } from '../../api/personas';\n\ninterface StyleTabProps {\n  style: CommunicationStyle | undefined;\n  onChange: (style: CommunicationStyle) => void;\n}\n\nconst StyleTab: FC<StyleTabProps> = ({ style, onChange }) => {\n  const currentStyle: CommunicationStyle = style || {\n    tone: '',\n    verbosity: 'adaptive',\n    formatting: 'markdown',\n    patterns: [],\n    avoids: [],\n  };\n\n  const handleChange = (field: keyof CommunicationStyle, value: unknown) => {\n    onChange({ ...currentStyle, [field]: value });\n  };\n\n  const handleAddPattern = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      const input = e.currentTarget;\n      const value = input.value.trim();\n      if (value && !(currentStyle.patterns || []).includes(value)) {\n        handleChange('patterns', [...(currentStyle.patterns || []), value]);\n        input.value = '';\n      }\n    }\n  };\n\n  const handleRemovePattern = (pattern: string) => {\n    handleChange(\n      'patterns',\n      (currentStyle.patterns || []).filter((p) => p !== pattern)\n    );\n  };\n\n  const handleAddAvoid = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      const input = e.currentTarget;\n      const value = input.value.trim();\n      if (value && !(currentStyle.avoids || []).includes(value)) {\n        handleChange('avoids', [...(currentStyle.avoids || []), value]);\n        input.value = '';\n      }\n    }\n  };\n\n  const handleRemoveAvoid = (avoid: string) => {\n    handleChange(\n      'avoids',\n      (currentStyle.avoids || []).filter((a) => a !== avoid)\n    );\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '24px' }}>\n      {/* Tone */}\n      <div>\n        <label\n          htmlFor=\"style-tone\"\n          style={{\n            display: 'block',\n            fontSize: '13px',\n            fontWeight: 500,\n            color: '#1D1D1F',\n            marginBottom: '8px',\n          }}\n        >\n          Tone\n        </label>\n        <input\n          id=\"style-tone\"\n          type=\"text\"\n          value={currentStyle.tone}\n          onChange={(e) => handleChange('tone', e.target.value)}\n          placeholder=\"e.g., professional, friendly, casual\"\n          style={{\n            width: '100%',\n            padding: '12px 16px',\n            backgroundColor: '#FFFFFF',\n            border: '1px solid #E5E5E7',\n            borderRadius: '10px',\n            fontSize: '15px',\n            color: '#1D1D1F',\n            outline: 'none',\n          }}\n        />\n      </div>\n\n      {/* Verbosity */}\n      <div>\n        <label\n          htmlFor=\"style-verbosity\"\n          style={{\n            display: 'block',\n            fontSize: '13px',\n            fontWeight: 500,\n            color: '#1D1D1F',\n            marginBottom: '8px',\n          }}\n        >\n          Verbosity\n        </label>\n        <select\n          id=\"style-verbosity\"\n          value={currentStyle.verbosity}\n          onChange={(e) =>\n            handleChange('verbosity', e.target.value as CommunicationStyle['verbosity'])\n          }\n          style={{\n            width: '100%',\n            padding: '12px 16px',\n            backgroundColor: '#FFFFFF',\n            border: '1px solid #E5E5E7',\n            borderRadius: '10px',\n            fontSize: '15px',\n            color: '#1D1D1F',\n            cursor: 'pointer',\n          }}\n        >\n          <option value=\"concise\">Concise - Brief and to the point</option>\n          <option value=\"detailed\">Detailed - Comprehensive explanations</option>\n          <option value=\"adaptive\">Adaptive - Adjusts based on context</option>\n        </select>\n      </div>\n\n      {/* Formatting */}\n      <div>\n        <label\n          htmlFor=\"style-formatting\"\n          style={{\n            display: 'block',\n            fontSize: '13px',\n            fontWeight: 500,\n            color: '#1D1D1F',\n            marginBottom: '8px',\n          }}\n        >\n          Formatting Style\n        </label>\n        <select\n          id=\"style-formatting\"\n          value={currentStyle.formatting}\n          onChange={(e) =>\n            handleChange('formatting', e.target.value as CommunicationStyle['formatting'])\n          }\n          style={{\n            width: '100%',\n            padding: '12px 16px',\n            backgroundColor: '#FFFFFF',\n            border: '1px solid #E5E5E7',\n            borderRadius: '10px',\n            fontSize: '15px',\n            color: '#1D1D1F',\n            cursor: 'pointer',\n          }}\n        >\n          <option value=\"markdown\">Markdown - Rich formatting with headers and lists</option>\n          <option value=\"plain\">Plain Text - Simple, unformatted text</option>\n          <option value=\"code-heavy\">Code-Heavy - Emphasis on code blocks</option>\n        </select>\n      </div>\n\n      {/* Patterns */}\n      <div>\n        <label\n          htmlFor=\"style-patterns\"\n          style={{\n            display: 'block',\n            fontSize: '13px',\n            fontWeight: 500,\n            color: '#1D1D1F',\n            marginBottom: '8px',\n          }}\n        >\n          Communication Patterns (phrases and styles to use)\n        </label>\n        <input\n          id=\"style-patterns\"\n          type=\"text\"\n          onKeyDown={handleAddPattern}\n          placeholder=\"Type a pattern and press Enter (e.g., 'Let me explain...', 'Here's how...')\"\n          style={{\n            width: '100%',\n            padding: '12px 16px',\n            backgroundColor: '#FFFFFF',\n            border: '1px solid #E5E5E7',\n            borderRadius: '10px',\n            fontSize: '15px',\n            color: '#1D1D1F',\n            outline: 'none',\n          }}\n        />\n        {currentStyle.patterns && currentStyle.patterns.length > 0 && (\n          <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginTop: '12px' }}>\n            {currentStyle.patterns.map((pattern) => (\n              <span\n                key={pattern}\n                style={{\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  padding: '6px 12px',\n                  backgroundColor: '#D1FAE5',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  color: '#065F46',\n                }}\n              >\n                {pattern}\n                <button\n                  type=\"button\"\n                  onClick={() => handleRemovePattern(pattern)}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    padding: 0,\n                    border: 'none',\n                    background: 'none',\n                    cursor: 'pointer',\n                    color: '#34D399',\n                  }}\n                >\n                  <X size={14} />\n                </button>\n              </span>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Avoids */}\n      <div>\n        <label\n          htmlFor=\"style-avoids\"\n          style={{\n            display: 'block',\n            fontSize: '13px',\n            fontWeight: 500,\n            color: '#1D1D1F',\n            marginBottom: '8px',\n          }}\n        >\n          Avoids (phrases and styles to avoid)\n        </label>\n        <input\n          id=\"style-avoids\"\n          type=\"text\"\n          onKeyDown={handleAddAvoid}\n          placeholder=\"Type something to avoid and press Enter (e.g., 'jargon', 'passive voice')\"\n          style={{\n            width: '100%',\n            padding: '12px 16px',\n            backgroundColor: '#FFFFFF',\n            border: '1px solid #E5E5E7',\n            borderRadius: '10px',\n            fontSize: '15px',\n            color: '#1D1D1F',\n            outline: 'none',\n          }}\n        />\n        {currentStyle.avoids && currentStyle.avoids.length > 0 && (\n          <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginTop: '12px' }}>\n            {currentStyle.avoids.map((avoid) => (\n              <span\n                key={avoid}\n                style={{\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  gap: '6px',\n                  padding: '6px 12px',\n                  backgroundColor: '#FEE2E2',\n                  borderRadius: '8px',\n                  fontSize: '14px',\n                  color: '#991B1B',\n                }}\n              >\n                {avoid}\n                <button\n                  type=\"button\"\n                  onClick={() => handleRemoveAvoid(avoid)}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    padding: 0,\n                    border: 'none',\n                    background: 'none',\n                    cursor: 'pointer',\n                    color: '#F87171',\n                  }}\n                >\n                  <X size={14} />\n                </button>\n              </span>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default StyleTab;\n","/**\n * ModesTab - Behavioral modes configuration tab for persona builder\n *\n * Handles: context-specific behavior modes with keywords and triggers\n */\nimport type { FC } from 'react';\nimport { useState } from 'react';\nimport { Plus, Trash2, X, ChevronDown, ChevronUp } from 'lucide-react';\nimport type { BehavioralMode } from '../../api/personas';\n\ninterface ModesTabProps {\n  modes: BehavioralMode[];\n  defaultMode: string | undefined;\n  onChange: (modes: BehavioralMode[]) => void;\n  onDefaultModeChange: (modeId: string) => void;\n}\n\nconst ModesTab: FC<ModesTabProps> = ({ modes, defaultMode, onChange, onDefaultModeChange }) => {\n  const [expandedMode, setExpandedMode] = useState<number | null>(null);\n\n  const handleAddMode = () => {\n    const newMode: BehavioralMode = {\n      id: `mode_${Date.now()}`,\n      name: '',\n      description: '',\n      prompt_augment: '',\n      entry_keywords: [],\n      exit_keywords: [],\n      manual_trigger: '',\n      force_verbose: false,\n      force_concise: false,\n    };\n    onChange([...modes, newMode]);\n    setExpandedMode(modes.length);\n  };\n\n  const handleRemoveMode = (index: number) => {\n    onChange(modes.filter((_, i) => i !== index));\n    if (expandedMode === index) {\n      setExpandedMode(null);\n    }\n  };\n\n  const handleUpdateMode = (index: number, field: keyof BehavioralMode, value: unknown) => {\n    const updated = [...modes];\n    updated[index] = { ...updated[index], [field]: value };\n    onChange(updated);\n  };\n\n  const handleAddKeyword = (index: number, type: 'entry' | 'exit', keyword: string) => {\n    const mode = modes[index];\n    const field = type === 'entry' ? 'entry_keywords' : 'exit_keywords';\n    const currentKeywords = mode[field] || [];\n    if (keyword && !currentKeywords.includes(keyword)) {\n      handleUpdateMode(index, field, [...currentKeywords, keyword]);\n    }\n  };\n\n  const handleRemoveKeyword = (index: number, type: 'entry' | 'exit', keyword: string) => {\n    const mode = modes[index];\n    const field = type === 'entry' ? 'entry_keywords' : 'exit_keywords';\n    const currentKeywords = mode[field] || [];\n    handleUpdateMode(\n      index,\n      field,\n      currentKeywords.filter((k) => k !== keyword)\n    );\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n      {/* Add Mode Button */}\n      <button\n        type=\"button\"\n        onClick={handleAddMode}\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px',\n          padding: '10px 16px',\n          backgroundColor: '#3B82F6',\n          color: '#FFFFFF',\n          border: 'none',\n          borderRadius: '10px',\n          fontSize: '14px',\n          fontWeight: 500,\n          cursor: 'pointer',\n          alignSelf: 'flex-start',\n        }}\n      >\n        <Plus size={18} />\n        Add Mode\n      </button>\n\n      {/* Default Mode Selector */}\n      {modes.length > 0 && (\n        <div>\n          <label\n            htmlFor=\"default-mode\"\n            style={{\n              display: 'block',\n              fontSize: '13px',\n              fontWeight: 500,\n              color: '#1D1D1F',\n              marginBottom: '8px',\n            }}\n          >\n            Default Mode\n          </label>\n          <select\n            id=\"default-mode\"\n            value={defaultMode || ''}\n            onChange={(e) => onDefaultModeChange(e.target.value)}\n            style={{\n              width: '100%',\n              padding: '12px 16px',\n              backgroundColor: '#FFFFFF',\n              border: '1px solid #E5E5E7',\n              borderRadius: '10px',\n              fontSize: '15px',\n              color: '#1D1D1F',\n              cursor: 'pointer',\n            }}\n          >\n            <option value=\"\">No default mode</option>\n            {modes.map((mode) => (\n              <option key={mode.id} value={mode.id}>\n                {mode.name || 'Unnamed Mode'}\n              </option>\n            ))}\n          </select>\n        </div>\n      )}\n\n      {/* Modes List */}\n      {modes.length === 0 ? (\n        <div\n          style={{\n            padding: '40px 20px',\n            backgroundColor: '#F9FAFB',\n            borderRadius: '12px',\n            border: '1px dashed #E5E5E7',\n            textAlign: 'center',\n          }}\n        >\n          <p style={{ fontSize: '14px', color: '#6B7280' }}>\n            No behavioral modes yet. Click \"Add Mode\" to start.\n          </p>\n        </div>\n      ) : (\n        <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n          {modes.map((mode, index) => {\n            const isExpanded = expandedMode === index;\n            return (\n              <div\n                key={index}\n                style={{\n                  backgroundColor: '#FFFFFF',\n                  border: '1px solid #E5E5E7',\n                  borderRadius: '12px',\n                  overflow: 'hidden',\n                }}\n              >\n                {/* Mode Header */}\n                <div\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    padding: '12px 16px',\n                    cursor: 'pointer',\n                    backgroundColor: isExpanded ? '#F9FAFB' : '#FFFFFF',\n                  }}\n                  onClick={() => setExpandedMode(isExpanded ? null : index)}\n                >\n                  <div style={{ flex: 1 }}>\n                    <div style={{ fontSize: '14px', fontWeight: 500, color: '#1D1D1F' }}>\n                      {mode.name || 'Unnamed Mode'}\n                    </div>\n                    {mode.description && (\n                      <div style={{ fontSize: '12px', color: '#6B7280', marginTop: '2px' }}>\n                        {mode.description}\n                      </div>\n                    )}\n                  </div>\n                  <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n                    <button\n                      type=\"button\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleRemoveMode(index);\n                      }}\n                      style={{\n                        padding: '6px',\n                        backgroundColor: '#FEE2E2',\n                        border: 'none',\n                        borderRadius: '6px',\n                        cursor: 'pointer',\n                        color: '#DC2626',\n                      }}\n                    >\n                      <Trash2 size={16} />\n                    </button>\n                    {isExpanded ? <ChevronUp size={20} /> : <ChevronDown size={20} />}\n                  </div>\n                </div>\n\n                {/* Mode Details (Expanded) */}\n                {isExpanded && (\n                  <div style={{ padding: '16px', borderTop: '1px solid #E5E5E7' }}>\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n                      {/* Name and ID */}\n                      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px' }}>\n                        <div>\n                          <label\n                            style={{\n                              display: 'block',\n                              fontSize: '12px',\n                              fontWeight: 500,\n                              color: '#6B7280',\n                              marginBottom: '6px',\n                            }}\n                          >\n                            Name *\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={mode.name}\n                            onChange={(e) => handleUpdateMode(index, 'name', e.target.value)}\n                            placeholder=\"e.g., Debug Mode\"\n                            style={{\n                              width: '100%',\n                              padding: '10px 12px',\n                              backgroundColor: '#F9FAFB',\n                              border: '1px solid #E5E5E7',\n                              borderRadius: '8px',\n                              fontSize: '14px',\n                              color: '#1D1D1F',\n                              outline: 'none',\n                            }}\n                          />\n                        </div>\n                        <div>\n                          <label\n                            style={{\n                              display: 'block',\n                              fontSize: '12px',\n                              fontWeight: 500,\n                              color: '#6B7280',\n                              marginBottom: '6px',\n                            }}\n                          >\n                            ID\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={mode.id}\n                            onChange={(e) => handleUpdateMode(index, 'id', e.target.value)}\n                            placeholder=\"mode_id\"\n                            style={{\n                              width: '100%',\n                              padding: '10px 12px',\n                              backgroundColor: '#F9FAFB',\n                              border: '1px solid #E5E5E7',\n                              borderRadius: '8px',\n                              fontSize: '14px',\n                              color: '#1D1D1F',\n                              outline: 'none',\n                            }}\n                          />\n                        </div>\n                      </div>\n\n                      {/* Description */}\n                      <div>\n                        <label\n                          style={{\n                            display: 'block',\n                            fontSize: '12px',\n                            fontWeight: 500,\n                            color: '#6B7280',\n                            marginBottom: '6px',\n                          }}\n                        >\n                          Description\n                        </label>\n                        <textarea\n                          value={mode.description || ''}\n                          onChange={(e) => handleUpdateMode(index, 'description', e.target.value)}\n                          placeholder=\"Describe when and how this mode should be used\"\n                          rows={2}\n                          style={{\n                            width: '100%',\n                            padding: '10px 12px',\n                            backgroundColor: '#F9FAFB',\n                            border: '1px solid #E5E5E7',\n                            borderRadius: '8px',\n                            fontSize: '14px',\n                            color: '#1D1D1F',\n                            outline: 'none',\n                            resize: 'vertical',\n                            fontFamily: 'inherit',\n                          }}\n                        />\n                      </div>\n\n                      {/* Prompt Augment */}\n                      <div>\n                        <label\n                          style={{\n                            display: 'block',\n                            fontSize: '12px',\n                            fontWeight: 500,\n                            color: '#6B7280',\n                            marginBottom: '6px',\n                          }}\n                        >\n                          Prompt Augment\n                        </label>\n                        <textarea\n                          value={mode.prompt_augment || ''}\n                          onChange={(e) =>\n                            handleUpdateMode(index, 'prompt_augment', e.target.value)\n                          }\n                          placeholder=\"Additional prompt text when in this mode\"\n                          rows={3}\n                          style={{\n                            width: '100%',\n                            padding: '10px 12px',\n                            backgroundColor: '#F9FAFB',\n                            border: '1px solid #E5E5E7',\n                            borderRadius: '8px',\n                            fontSize: '14px',\n                            color: '#1D1D1F',\n                            outline: 'none',\n                            resize: 'vertical',\n                            fontFamily: 'monospace',\n                          }}\n                        />\n                      </div>\n\n                      {/* Entry Keywords */}\n                      <div>\n                        <label\n                          style={{\n                            display: 'block',\n                            fontSize: '12px',\n                            fontWeight: 500,\n                            color: '#6B7280',\n                            marginBottom: '6px',\n                          }}\n                        >\n                          Entry Keywords\n                        </label>\n                        <input\n                          type=\"text\"\n                          onKeyDown={(e) => {\n                            if (e.key === 'Enter') {\n                              const value = e.currentTarget.value.trim();\n                              if (value) {\n                                handleAddKeyword(index, 'entry', value);\n                                e.currentTarget.value = '';\n                              }\n                            }\n                          }}\n                          placeholder=\"Type and press Enter\"\n                          style={{\n                            width: '100%',\n                            padding: '8px 12px',\n                            backgroundColor: '#F9FAFB',\n                            border: '1px solid #E5E5E7',\n                            borderRadius: '8px',\n                            fontSize: '13px',\n                            color: '#1D1D1F',\n                            outline: 'none',\n                          }}\n                        />\n                        {mode.entry_keywords && mode.entry_keywords.length > 0 && (\n                          <div\n                            style={{ display: 'flex', flexWrap: 'wrap', gap: '6px', marginTop: '8px' }}\n                          >\n                            {mode.entry_keywords.map((keyword) => (\n                              <span\n                                key={keyword}\n                                style={{\n                                  display: 'inline-flex',\n                                  alignItems: 'center',\n                                  gap: '4px',\n                                  padding: '4px 8px',\n                                  backgroundColor: '#D1FAE5',\n                                  borderRadius: '6px',\n                                  fontSize: '12px',\n                                  color: '#065F46',\n                                }}\n                              >\n                                {keyword}\n                                <button\n                                  type=\"button\"\n                                  onClick={() => handleRemoveKeyword(index, 'entry', keyword)}\n                                  style={{\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    padding: 0,\n                                    border: 'none',\n                                    background: 'none',\n                                    cursor: 'pointer',\n                                    color: '#34D399',\n                                  }}\n                                >\n                                  <X size={12} />\n                                </button>\n                              </span>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n\n                      {/* Exit Keywords */}\n                      <div>\n                        <label\n                          style={{\n                            display: 'block',\n                            fontSize: '12px',\n                            fontWeight: 500,\n                            color: '#6B7280',\n                            marginBottom: '6px',\n                          }}\n                        >\n                          Exit Keywords\n                        </label>\n                        <input\n                          type=\"text\"\n                          onKeyDown={(e) => {\n                            if (e.key === 'Enter') {\n                              const value = e.currentTarget.value.trim();\n                              if (value) {\n                                handleAddKeyword(index, 'exit', value);\n                                e.currentTarget.value = '';\n                              }\n                            }\n                          }}\n                          placeholder=\"Type and press Enter\"\n                          style={{\n                            width: '100%',\n                            padding: '8px 12px',\n                            backgroundColor: '#F9FAFB',\n                            border: '1px solid #E5E5E7',\n                            borderRadius: '8px',\n                            fontSize: '13px',\n                            color: '#1D1D1F',\n                            outline: 'none',\n                          }}\n                        />\n                        {mode.exit_keywords && mode.exit_keywords.length > 0 && (\n                          <div\n                            style={{ display: 'flex', flexWrap: 'wrap', gap: '6px', marginTop: '8px' }}\n                          >\n                            {mode.exit_keywords.map((keyword) => (\n                              <span\n                                key={keyword}\n                                style={{\n                                  display: 'inline-flex',\n                                  alignItems: 'center',\n                                  gap: '4px',\n                                  padding: '4px 8px',\n                                  backgroundColor: '#FEE2E2',\n                                  borderRadius: '6px',\n                                  fontSize: '12px',\n                                  color: '#991B1B',\n                                }}\n                              >\n                                {keyword}\n                                <button\n                                  type=\"button\"\n                                  onClick={() => handleRemoveKeyword(index, 'exit', keyword)}\n                                  style={{\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    padding: 0,\n                                    border: 'none',\n                                    background: 'none',\n                                    cursor: 'pointer',\n                                    color: '#F87171',\n                                  }}\n                                >\n                                  <X size={12} />\n                                </button>\n                              </span>\n                            ))}\n                          </div>\n                        )}\n                      </div>\n\n                      {/* Manual Trigger and Flags */}\n                      <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr 1fr', gap: '12px' }}>\n                        <div>\n                          <label\n                            style={{\n                              display: 'block',\n                              fontSize: '12px',\n                              fontWeight: 500,\n                              color: '#6B7280',\n                              marginBottom: '6px',\n                            }}\n                          >\n                            Manual Trigger\n                          </label>\n                          <input\n                            type=\"text\"\n                            value={mode.manual_trigger || ''}\n                            onChange={(e) =>\n                              handleUpdateMode(index, 'manual_trigger', e.target.value)\n                            }\n                            placeholder=\"e.g., /debug\"\n                            style={{\n                              width: '100%',\n                              padding: '10px 12px',\n                              backgroundColor: '#F9FAFB',\n                              border: '1px solid #E5E5E7',\n                              borderRadius: '8px',\n                              fontSize: '14px',\n                              color: '#1D1D1F',\n                              outline: 'none',\n                            }}\n                          />\n                        </div>\n                        <div>\n                          <label\n                            style={{\n                              display: 'flex',\n                              alignItems: 'center',\n                              gap: '8px',\n                              fontSize: '12px',\n                              fontWeight: 500,\n                              color: '#6B7280',\n                              cursor: 'pointer',\n                              marginTop: '22px',\n                            }}\n                          >\n                            <input\n                              type=\"checkbox\"\n                              checked={mode.force_verbose || false}\n                              onChange={(e) =>\n                                handleUpdateMode(index, 'force_verbose', e.target.checked)\n                              }\n                              style={{ cursor: 'pointer' }}\n                            />\n                            Force Verbose\n                          </label>\n                        </div>\n                        <div>\n                          <label\n                            style={{\n                              display: 'flex',\n                              alignItems: 'center',\n                              gap: '8px',\n                              fontSize: '12px',\n                              fontWeight: 500,\n                              color: '#6B7280',\n                              cursor: 'pointer',\n                              marginTop: '22px',\n                            }}\n                          >\n                            <input\n                              type=\"checkbox\"\n                              checked={mode.force_concise || false}\n                              onChange={(e) =>\n                                handleUpdateMode(index, 'force_concise', e.target.checked)\n                              }\n                              style={{ cursor: 'pointer' }}\n                            />\n                            Force Concise\n                          </label>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ModesTab;\n","/**\n * PreviewTab - Preview tab for compiled system prompt\n *\n * Shows the compiled system prompt with syntax highlighting\n */\nimport type { FC } from 'react';\nimport { RefreshCw, Copy, Check } from 'lucide-react';\nimport { useState } from 'react';\n\ninterface PreviewTabProps {\n  personaId: string | undefined;\n  compiledPrompt: string | undefined;\n  isLoading: boolean;\n  onRefresh: () => void;\n}\n\nconst PreviewTab: FC<PreviewTabProps> = ({ personaId, compiledPrompt, isLoading, onRefresh }) => {\n  const [copied, setCopied] = useState(false);\n\n  const handleCopy = async () => {\n    if (compiledPrompt) {\n      await navigator.clipboard.writeText(compiledPrompt);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    }\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px', height: '100%' }}>\n      {/* Toolbar */}\n      <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n        <button\n          type=\"button\"\n          onClick={onRefresh}\n          disabled={!personaId || isLoading}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px',\n            padding: '10px 16px',\n            backgroundColor: personaId && !isLoading ? '#3B82F6' : '#E5E5E7',\n            color: personaId && !isLoading ? '#FFFFFF' : '#9CA3AF',\n            border: 'none',\n            borderRadius: '10px',\n            fontSize: '14px',\n            fontWeight: 500,\n            cursor: personaId && !isLoading ? 'pointer' : 'not-allowed',\n          }}\n        >\n          <RefreshCw size={16} style={{ animation: isLoading ? 'spin 1s linear infinite' : 'none' }} />\n          {isLoading ? 'Loading...' : 'Refresh Preview'}\n        </button>\n\n        {compiledPrompt && (\n          <button\n            type=\"button\"\n            onClick={handleCopy}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              padding: '10px 16px',\n              backgroundColor: copied ? '#D1FAE5' : '#F9FAFB',\n              color: copied ? '#065F46' : '#1D1D1F',\n              border: '1px solid #E5E5E7',\n              borderRadius: '10px',\n              fontSize: '14px',\n              fontWeight: 500,\n              cursor: 'pointer',\n            }}\n          >\n            {copied ? (\n              <>\n                <Check size={16} />\n                Copied!\n              </>\n            ) : (\n              <>\n                <Copy size={16} />\n                Copy\n              </>\n            )}\n          </button>\n        )}\n      </div>\n\n      {/* Preview Content */}\n      {!compiledPrompt ? (\n        <div\n          style={{\n            flex: 1,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            padding: '60px 20px',\n            backgroundColor: '#F9FAFB',\n            borderRadius: '12px',\n            border: '1px dashed #E5E5E7',\n          }}\n        >\n          <div style={{ textAlign: 'center', maxWidth: '400px' }}>\n            <div\n              style={{\n                fontSize: '48px',\n                marginBottom: '16px',\n                opacity: 0.5,\n              }}\n            >\n              \n            </div>\n            <h3 style={{ fontSize: '16px', fontWeight: 600, color: '#1D1D1F', marginBottom: '8px' }}>\n              No Preview Available\n            </h3>\n            <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '24px' }}>\n              {personaId\n                ? 'Click \"Refresh Preview\" to generate the compiled system prompt'\n                : 'Save the persona first, then click \"Refresh Preview\"'}\n            </p>\n          </div>\n        </div>\n      ) : (\n        <div\n          style={{\n            flex: 1,\n            overflow: 'auto',\n            padding: '20px',\n            backgroundColor: '#1E1E1E',\n            borderRadius: '12px',\n            border: '1px solid #E5E5E7',\n          }}\n        >\n          <pre\n            style={{\n              margin: 0,\n              fontSize: '13px',\n              fontFamily: 'Monaco, Menlo, monospace',\n              color: '#D4D4D4',\n              lineHeight: '1.6',\n              whiteSpace: 'pre-wrap',\n              wordBreak: 'break-word',\n            }}\n          >\n            {compiledPrompt}\n          </pre>\n        </div>\n      )}\n\n      <style>\n        {`\n          @keyframes spin {\n            from {\n              transform: rotate(0deg);\n            }\n            to {\n              transform: rotate(360deg);\n            }\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n\nexport default PreviewTab;\n","/**\n * PersonaBuilder - Main tabbed interface for creating/editing personas\n *\n * Tabs: Identity, Expertise, Style, Modes, Preview\n */\nimport type { FC } from 'react';\nimport { useState, useEffect } from 'react';\nimport { X, Save, Loader2 } from 'lucide-react';\nimport type { Persona, ExpertiseDomain, CommunicationStyle, BehavioralMode } from '../../api/personas';\nimport { useCreatePersona, useUpdatePersona, usePersonaPreview } from '../../hooks/usePersonas';\nimport IdentityTab from './IdentityTab';\nimport ExpertiseTab from './ExpertiseTab';\nimport StyleTab from './StyleTab';\nimport ModesTab from './ModesTab';\nimport PreviewTab from './PreviewTab';\n\ninterface PersonaBuilderProps {\n  persona?: Persona;\n  onClose: () => void;\n  onSave?: () => void;\n}\n\ntype TabId = 'identity' | 'expertise' | 'style' | 'modes' | 'preview';\n\nconst PersonaBuilder: FC<PersonaBuilderProps> = ({ persona, onClose, onSave }) => {\n  const isEditMode = !!persona;\n  const [activeTab, setActiveTab] = useState<TabId>('identity');\n\n  // Form state\n  const [formData, setFormData] = useState<Partial<Persona>>({\n    name: '',\n    role: '',\n    background: '',\n    traits: [],\n    values: [],\n    expertise: [],\n    style: undefined,\n    modes: [],\n    default_mode: undefined,\n    system_prompt: '',\n  });\n\n  // Initialize form data from persona prop\n  useEffect(() => {\n    if (persona) {\n      setFormData({\n        name: persona.name,\n        role: persona.role,\n        background: persona.background,\n        traits: persona.traits || [],\n        values: persona.values || [],\n        expertise: persona.expertise || [],\n        style: persona.style,\n        modes: persona.modes || [],\n        default_mode: persona.default_mode,\n        system_prompt: persona.system_prompt,\n      });\n    }\n  }, [persona]);\n\n  // Mutations\n  const createMutation = useCreatePersona();\n  const updateMutation = useUpdatePersona();\n  const { data: previewData, refetch: refetchPreview, isFetching: isPreviewLoading } = usePersonaPreview(persona?.id || '');\n\n  const isSaving = createMutation.isPending || updateMutation.isPending;\n\n  const handleFieldChange = (field: string, value: unknown) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const handleSave = async () => {\n    try {\n      if (isEditMode && persona) {\n        await updateMutation.mutateAsync({ id: persona.id, data: formData });\n      } else {\n        await createMutation.mutateAsync(formData);\n      }\n      onSave?.();\n      onClose();\n    } catch (error) {\n      console.error('Failed to save persona:', error);\n      // Error handling could be improved with toast notifications\n    }\n  };\n\n  const handlePreviewRefresh = () => {\n    if (persona?.id) {\n      refetchPreview();\n    }\n  };\n\n  const tabs: { id: TabId; label: string }[] = [\n    { id: 'identity', label: 'Identity' },\n    { id: 'expertise', label: 'Expertise' },\n    { id: 'style', label: 'Style' },\n    { id: 'modes', label: 'Modes' },\n    { id: 'preview', label: 'Preview' },\n  ];\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 1000,\n        padding: '24px',\n      }}\n      onClick={onClose}\n    >\n      <div\n        style={{\n          width: '100%',\n          maxWidth: '900px',\n          maxHeight: '90vh',\n          backgroundColor: '#FFFFFF',\n          borderRadius: '16px',\n          boxShadow: '0 25px 50px -12px rgba(0, 0, 0, 0.25)',\n          display: 'flex',\n          flexDirection: 'column',\n          overflow: 'hidden',\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div\n          style={{\n            padding: '20px 24px',\n            borderBottom: '1px solid #E5E5E7',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n          }}\n        >\n          <div>\n            <h2 style={{ fontSize: '20px', fontWeight: 600, color: '#1D1D1F', marginBottom: '4px' }}>\n              {isEditMode ? 'Edit Persona' : 'Create New Persona'}\n            </h2>\n            <p style={{ fontSize: '14px', color: '#6B7280' }}>\n              {isEditMode ? persona.name : 'Configure a new persona'}\n            </p>\n          </div>\n          <button\n            type=\"button\"\n            onClick={onClose}\n            style={{\n              padding: '8px',\n              backgroundColor: '#F9FAFB',\n              border: 'none',\n              borderRadius: '8px',\n              cursor: 'pointer',\n              color: '#6B7280',\n            }}\n          >\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Tabs */}\n        <div\n          style={{\n            display: 'flex',\n            gap: '4px',\n            padding: '12px 24px',\n            backgroundColor: '#F9FAFB',\n            borderBottom: '1px solid #E5E5E7',\n            overflowX: 'auto',\n          }}\n        >\n          {tabs.map((tab) => (\n            <button\n              key={tab.id}\n              type=\"button\"\n              onClick={() => setActiveTab(tab.id)}\n              style={{\n                padding: '8px 16px',\n                backgroundColor: activeTab === tab.id ? '#FFFFFF' : 'transparent',\n                color: activeTab === tab.id ? '#3B82F6' : '#6B7280',\n                border: activeTab === tab.id ? '1px solid #E5E5E7' : 'none',\n                borderRadius: '8px',\n                fontSize: '14px',\n                fontWeight: activeTab === tab.id ? 500 : 400,\n                cursor: 'pointer',\n                whiteSpace: 'nowrap',\n                transition: 'all 0.15s',\n              }}\n            >\n              {tab.label}\n            </button>\n          ))}\n        </div>\n\n        {/* Tab Content */}\n        <div\n          style={{\n            flex: 1,\n            overflow: 'auto',\n            padding: '24px',\n          }}\n        >\n          {activeTab === 'identity' && (\n            <IdentityTab\n              name={formData.name || ''}\n              role={formData.role || ''}\n              background={formData.background || ''}\n              traits={formData.traits || []}\n              values={formData.values || []}\n              onChange={handleFieldChange}\n            />\n          )}\n\n          {activeTab === 'expertise' && (\n            <ExpertiseTab\n              expertise={formData.expertise || []}\n              onChange={(expertise: ExpertiseDomain[]) => handleFieldChange('expertise', expertise)}\n            />\n          )}\n\n          {activeTab === 'style' && (\n            <StyleTab\n              style={formData.style}\n              onChange={(style: CommunicationStyle) => handleFieldChange('style', style)}\n            />\n          )}\n\n          {activeTab === 'modes' && (\n            <ModesTab\n              modes={formData.modes || []}\n              defaultMode={formData.default_mode}\n              onChange={(modes: BehavioralMode[]) => handleFieldChange('modes', modes)}\n              onDefaultModeChange={(modeId: string) => handleFieldChange('default_mode', modeId)}\n            />\n          )}\n\n          {activeTab === 'preview' && (\n            <PreviewTab\n              personaId={persona?.id}\n              compiledPrompt={previewData?.compiled_prompt}\n              isLoading={isPreviewLoading}\n              onRefresh={handlePreviewRefresh}\n            />\n          )}\n        </div>\n\n        {/* Footer */}\n        <div\n          style={{\n            padding: '16px 24px',\n            borderTop: '1px solid #E5E5E7',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'flex-end',\n            gap: '12px',\n          }}\n        >\n          <button\n            type=\"button\"\n            onClick={onClose}\n            style={{\n              padding: '10px 20px',\n              backgroundColor: '#F9FAFB',\n              border: '1px solid #E5E5E7',\n              borderRadius: '10px',\n              fontSize: '14px',\n              fontWeight: 500,\n              color: '#1D1D1F',\n              cursor: 'pointer',\n            }}\n          >\n            Cancel\n          </button>\n          <button\n            type=\"button\"\n            onClick={handleSave}\n            disabled={isSaving || !formData.name || !formData.role}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              padding: '10px 20px',\n              backgroundColor: !isSaving && formData.name && formData.role ? '#3B82F6' : '#E5E5E7',\n              color: !isSaving && formData.name && formData.role ? '#FFFFFF' : '#9CA3AF',\n              border: 'none',\n              borderRadius: '10px',\n              fontSize: '14px',\n              fontWeight: 500,\n              cursor: !isSaving && formData.name && formData.role ? 'pointer' : 'not-allowed',\n            }}\n          >\n            {isSaving ? (\n              <>\n                <Loader2 size={16} style={{ animation: 'spin 1s linear infinite' }} />\n                Saving...\n              </>\n            ) : (\n              <>\n                <Save size={16} />\n                {isEditMode ? 'Update Persona' : 'Create Persona'}\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n\n      <style>\n        {`\n          @keyframes spin {\n            from {\n              transform: rotate(0deg);\n            }\n            to {\n              transform: rotate(360deg);\n            }\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n\nexport default PersonaBuilder;\n","/**\n * PersonasPage - Main page for persona management\n *\n * Displays all personas with create/edit/delete functionality\n */\nimport type { FC } from 'react';\nimport { useState } from 'react';\nimport { Plus, AlertCircle, Loader2, Users, CheckCircle } from 'lucide-react';\nimport { usePersonas, useDeletePersona } from '../../hooks/usePersonas';\nimport type { Persona } from '../../api/personas';\nimport PersonaList from './PersonaList';\nimport PersonaBuilder from './PersonaBuilder';\n\nconst PersonasPage: FC = () => {\n  const [showBuilder, setShowBuilder] = useState(false);\n  const [editingPersona, setEditingPersona] = useState<Persona | undefined>(undefined);\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  // Fetch personas\n  const { data, isLoading, error: fetchError, refetch } = usePersonas();\n  const deleteMutation = useDeletePersona();\n\n  const personas = data?.personas || [];\n  const builtInPersonas = personas.filter((p) => p.is_built_in);\n  const customPersonas = personas.filter((p) => !p.is_built_in);\n\n  const handleCreate = () => {\n    setEditingPersona(undefined);\n    setShowBuilder(true);\n  };\n\n  const handleEdit = (persona: Persona) => {\n    setEditingPersona(persona);\n    setShowBuilder(true);\n  };\n\n  const handleDelete = async (personaId: string) => {\n    try {\n      setError(null);\n      await deleteMutation.mutateAsync(personaId);\n      setSuccessMessage('Persona deleted successfully');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to delete persona');\n    }\n  };\n\n  const handleSave = () => {\n    refetch();\n    setSuccessMessage(editingPersona ? 'Persona updated successfully' : 'Persona created successfully');\n    setTimeout(() => setSuccessMessage(null), 3000);\n  };\n\n  const handleCloseBuilder = () => {\n    setShowBuilder(false);\n    setEditingPersona(undefined);\n  };\n\n  return (\n    <div style={{ minHeight: '100%' }}>\n      {/* Page Header */}\n      <div style={{ marginBottom: '24px' }}>\n        <div style={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'space-between', marginBottom: '16px' }}>\n          <div>\n            <h1 style={{ fontSize: '28px', fontWeight: 700, color: '#1D1D1F', marginBottom: '8px' }}>\n              Personas\n            </h1>\n            <p style={{ fontSize: '14px', color: '#6B7280' }}>\n              Create and manage AI personas with unique characteristics and behaviors\n            </p>\n          </div>\n\n          {/* Create Button */}\n          <button\n            onClick={handleCreate}\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px',\n              padding: '10px 20px',\n              backgroundColor: '#22C55E',\n              color: '#FFFFFF',\n              border: 'none',\n              borderRadius: '10px',\n              fontSize: '14px',\n              fontWeight: 500,\n              cursor: 'pointer',\n              transition: 'all 0.15s',\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = '#16A34A';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = '#22C55E';\n            }}\n          >\n            <Plus size={18} />\n            <span>Create Persona</span>\n          </button>\n        </div>\n\n        {/* Stats */}\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(2, 1fr)', gap: '16px' }}>\n          <div\n            style={{\n              padding: '16px 20px',\n              backgroundColor: '#FFFFFF',\n              borderRadius: '12px',\n              border: '1px solid #E5E5E7',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px',\n            }}\n          >\n            <div\n              style={{\n                width: '40px',\n                height: '40px',\n                borderRadius: '10px',\n                backgroundColor: 'rgba(59, 130, 246, 0.1)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n              }}\n            >\n              <Users size={20} style={{ color: '#3B82F6' }} />\n            </div>\n            <div>\n              <p style={{ fontSize: '11px', color: '#9CA3AF', fontWeight: 500, textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                Total Personas\n              </p>\n              <p style={{ fontSize: '24px', fontWeight: 700, color: '#1D1D1F', fontFamily: 'monospace' }}>\n                {personas.length}\n              </p>\n            </div>\n          </div>\n\n          <div\n            style={{\n              padding: '16px 20px',\n              backgroundColor: '#FFFFFF',\n              borderRadius: '12px',\n              border: '1px solid #E5E5E7',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px',\n            }}\n          >\n            <div\n              style={{\n                width: '40px',\n                height: '40px',\n                borderRadius: '10px',\n                backgroundColor: 'rgba(139, 92, 246, 0.1)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n              }}\n            >\n              <Users size={20} style={{ color: '#8B5CF6' }} />\n            </div>\n            <div>\n              <p style={{ fontSize: '11px', color: '#9CA3AF', fontWeight: 500, textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n                Custom Personas\n              </p>\n              <p style={{ fontSize: '24px', fontWeight: 700, color: '#1D1D1F', fontFamily: 'monospace' }}>\n                {customPersonas.length}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Success Message */}\n      {successMessage && (\n        <div\n          style={{\n            marginBottom: '24px',\n            padding: '16px',\n            borderRadius: '12px',\n            backgroundColor: 'rgba(34, 197, 94, 0.1)',\n            border: '1px solid rgba(34, 197, 94, 0.2)',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '12px',\n          }}\n        >\n          <CheckCircle size={20} style={{ color: '#22C55E', flexShrink: 0 }} />\n          <p style={{ fontSize: '14px', fontWeight: 500, color: '#166534' }}>{successMessage}</p>\n        </div>\n      )}\n\n      {/* Error Message */}\n      {(error || fetchError) && (\n        <div\n          style={{\n            marginBottom: '24px',\n            padding: '16px',\n            borderRadius: '12px',\n            backgroundColor: '#FEF2F2',\n            border: '1px solid #FECACA',\n            display: 'flex',\n            alignItems: 'flex-start',\n            gap: '12px',\n          }}\n        >\n          <AlertCircle size={20} style={{ color: '#EF4444', flexShrink: 0 }} />\n          <div>\n            <p style={{ fontSize: '14px', fontWeight: 600, color: '#B91C1C', marginBottom: '4px' }}>\n              Error\n            </p>\n            <p style={{ fontSize: '13px', color: '#DC2626' }}>\n              {error || (fetchError instanceof Error ? fetchError.message : 'Failed to load personas')}\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Loading State */}\n      {isLoading ? (\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '80px 0' }}>\n          <div style={{ textAlign: 'center' }}>\n            <div\n              style={{\n                width: '64px',\n                height: '64px',\n                borderRadius: '16px',\n                backgroundColor: '#F3F4F6',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                margin: '0 auto 16px',\n              }}\n            >\n              <Loader2 size={32} style={{ color: '#3B82F6', animation: 'spin 1s linear infinite' }} />\n            </div>\n            <p style={{ fontSize: '14px', color: '#6B7280' }}>Loading personas...</p>\n          </div>\n        </div>\n      ) : personas.length === 0 ? (\n        /* Empty State */\n        <div\n          style={{\n            backgroundColor: '#FFFFFF',\n            borderRadius: '12px',\n            border: '1px solid #E5E5E7',\n            padding: '60px 20px',\n            textAlign: 'center',\n          }}\n        >\n          <div\n            style={{\n              width: '64px',\n              height: '64px',\n              borderRadius: '16px',\n              backgroundColor: '#F3F4F6',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              margin: '0 auto 16px',\n            }}\n          >\n            <Users size={32} style={{ color: '#9CA3AF' }} />\n          </div>\n          <h3 style={{ fontSize: '18px', fontWeight: 600, color: '#1D1D1F', marginBottom: '8px' }}>\n            No Personas Yet\n          </h3>\n          <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '24px', maxWidth: '320px', margin: '0 auto 24px' }}>\n            Get started by creating your first custom persona\n          </p>\n          <button\n            onClick={handleCreate}\n            style={{\n              padding: '10px 20px',\n              backgroundColor: '#22C55E',\n              color: '#FFFFFF',\n              border: 'none',\n              borderRadius: '8px',\n              fontSize: '14px',\n              fontWeight: 500,\n              cursor: 'pointer',\n            }}\n          >\n            Create Persona\n          </button>\n        </div>\n      ) : (\n        /* Personas List */\n        <div>\n          {/* Built-in Personas Section */}\n          {builtInPersonas.length > 0 && (\n            <div style={{ marginBottom: '32px' }}>\n              <h2 style={{ fontSize: '18px', fontWeight: 600, color: '#1D1D1F', marginBottom: '16px' }}>\n                Built-in Personas ({builtInPersonas.length})\n              </h2>\n              <PersonaList\n                personas={builtInPersonas}\n                onEdit={handleEdit}\n                onDelete={handleDelete}\n              />\n            </div>\n          )}\n\n          {/* Custom Personas Section */}\n          {customPersonas.length > 0 && (\n            <div>\n              <h2 style={{ fontSize: '18px', fontWeight: 600, color: '#1D1D1F', marginBottom: '16px' }}>\n                Custom Personas ({customPersonas.length})\n              </h2>\n              <PersonaList\n                personas={customPersonas}\n                onEdit={handleEdit}\n                onDelete={handleDelete}\n              />\n            </div>\n          )}\n\n          {/* No Custom Personas Prompt */}\n          {customPersonas.length === 0 && builtInPersonas.length > 0 && (\n            <div\n              style={{\n                padding: '24px',\n                backgroundColor: '#F9FAFB',\n                borderRadius: '12px',\n                border: '1px dashed #E5E5E7',\n                textAlign: 'center',\n              }}\n            >\n              <p style={{ fontSize: '14px', color: '#6B7280', marginBottom: '16px' }}>\n                No custom personas yet. Create one to get started!\n              </p>\n              <button\n                onClick={handleCreate}\n                style={{\n                  padding: '8px 16px',\n                  backgroundColor: '#3B82F6',\n                  color: '#FFFFFF',\n                  border: 'none',\n                  borderRadius: '8px',\n                  fontSize: '13px',\n                  fontWeight: 500,\n                  cursor: 'pointer',\n                }}\n              >\n                Create Custom Persona\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Persona Builder Modal */}\n      {showBuilder && (\n        <PersonaBuilder\n          persona={editingPersona}\n          onClose={handleCloseBuilder}\n          onSave={handleSave}\n        />\n      )}\n\n      <style>\n        {`\n          @keyframes spin {\n            from {\n              transform: rotate(0deg);\n            }\n            to {\n              transform: rotate(360deg);\n            }\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n\nexport default PersonasPage;\n","import { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport Layout from './components/layout/Layout';\nimport Dashboard from './components/dashboard/Dashboard';\nimport { FacetsPage } from './components/facets';\nimport { KnowledgePage } from './components/knowledge';\nimport { SettingsPage } from './components/settings';\nimport { ChatPage } from './components/chat';\nimport { PersonasPage } from './components/personas';\n\n// Create React Query client with default options\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5, // 5 minutes\n      retry: 1,\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\n// Error fallback component\nfunction ErrorFallback({ error, resetErrorBoundary }: { error: Error; resetErrorBoundary: () => void }) {\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-background-primary\">\n      <div className=\"bg-background-secondary rounded-lg p-8 max-w-md w-full\">\n        <h2 className=\"text-xl font-semibold text-text-primary mb-4\">Something went wrong</h2>\n        <p className=\"text-text-secondary mb-4\">{error.message}</p>\n        <button\n          onClick={resetErrorBoundary}\n          className=\"px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-colors\"\n        >\n          Try again\n        </button>\n      </div>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <ErrorBoundary FallbackComponent={ErrorFallback}>\n      <QueryClientProvider client={queryClient}>\n        <BrowserRouter>\n          <Routes>\n            <Route path=\"/\" element={<Layout />}>\n              <Route index element={<Dashboard />} />\n              <Route path=\"chat\" element={<ChatPage />} />\n              <Route path=\"facets\" element={<FacetsPage />} />\n              <Route path=\"personas\" element={<PersonasPage />} />\n              <Route path=\"knowledge\" element={<KnowledgePage />} />\n              <Route path=\"settings\" element={<SettingsPage />} />\n              <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n            </Route>\n          </Routes>\n        </BrowserRouter>\n      </QueryClientProvider>\n    </ErrorBoundary>\n  );\n}\n\nexport default App;\n","import { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App';\nimport './styles/index.css';\n\nconst rootElement = document.getElementById('root');\n\nif (!rootElement) {\n  throw new Error('Root element not found');\n}\n\ncreateRoot(rootElement).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"names":["m","require$$0","createRoot","ErrorBoundaryContext","createContext","initialState","ErrorBoundary","Component","props","error","_this$props$onReset","_this$props","_len","args","_key","info","_this$props$onError","_this$props2","prevProps","prevState","didCatch","resetKeys","hasArrayChanged","_this$props$onReset2","_this$props3","children","fallbackRender","FallbackComponent","fallback","childToRender","createElement","a","b","item","index","toKebabCase","string","toCamelCase","match","p1","p2","toPascalCase","camelCase","mergeClasses","classes","className","array","hasA11yProp","prop","defaultAttributes","Icon","forwardRef","color","size","strokeWidth","absoluteStrokeWidth","iconNode","rest","ref","tag","attrs","createLucideIcon","iconName","__iconNode","Activity","ArrowRight","BookOpen","Bot","Box","Brain","Bug","Calendar","Check","ChevronDown","ChevronRight","ChevronUp","CircleAlert","CircleCheckBig","CircleX","Clock","Compass","Copy","Database","FileSearch","FileText","FolderOpen","Folder","GraduationCap","HardDrive","Info","Layers","LayoutDashboard","LoaderCircle","MessageSquare","Moon","Palette","PanelLeftClose","Pen","Plus","RefreshCw","RotateCcw","Save","Search","Send","Server","Settings","Shield","Sparkles","Sun","Terminal","Trash2","TrendingUp","Type","Upload","User","Users","X","Zap","Header","isConnected","port","isSyncing","setIsSyncing","useState","learningMode","setLearningMode","isLearningDropdownOpen","setIsLearningDropdownOpen","isDarkMode","setIsDarkMode","saved","handleSyncFiles","resolve","handleToggleTheme","newMode","jsxs","jsx","XCircle","Loader2","NavigationRail","onSettingsClick","location","useLocation","navItems","isActive","path","active","IconComponent","NavLink","e","ProjectsSidebar","isCollapsed","onToggleCollapse","expandedSections","setExpandedSections","isRefreshing","setIsRefreshing","sessions","toggleSection","section","prev","getStatusColor","status","handleRefresh","useCallback","handleNewSession","session","Layout","setIsConnected","isProjectsSidebarCollapsed","setIsProjectsSidebarCollapsed","useEffect","checkConnection","response","interval","Outlet","APIErrorException","code","message","details","getBaseURL","API_BASE_URL","buildURL","endpoint","params","url","key","value","apiFetch","options","fetchOptions","headers","apiGet","apiPost","body","apiPut","apiDelete","API_ENDPOINTS","queryKeys","useStatus","useQuery","DEFAULT_OPTIONS","useSSE","opts","baseUrl","setStatus","lastEvent","setLastEvent","events","setEvents","setError","reconnectAttempts","setReconnectAttempts","eventSourceRef","useRef","reconnectTimeoutRef","currentDelayRef","isManualDisconnectRef","getNextDelay","nextDelay","resetDelay","cleanup","connect","eventSource","messageEvent","event","err","type","rawData","delay","reconnect","disconnect","useRealTimeStatus","queryClient","useQueryClient","initialStatus","isLoading","queryError","isStale","refetch","connectionStatus","sseError","mergedStatus","setMergedStatus","updateStatus","updates","old","updated","statusUpdate","metricsUpdate","Dashboard","Card","title","icon","iconBg","StatusBadge","label","bgColor","ProviderItem","name","isOnline","AlertCircle","_a","_b","_c","_d","_e","_f","_g","_h","facetsKeys","id","fetchFacets","activateFacet","facetId","useFacets","useActivateFacet","useMutation","FacetEditor","facet","isOpen","onClose","handleBackdropClick","formatDate","dateString","colorInfo","Fragment","CheckCircle","FacetsPage","data","selectedFacet","setSelectedFacet","isEditorOpen","setIsEditorOpen","activatingId","setActivatingId","handleActivate","handleEdit","handleCloseEditor","getColorStyles","FacetCard","onActivate","onEdit","isActivating","colors","Edit2","getDocuments","searchKnowledge","request","ingestDocument","deleteDocument","getKnowledgeStats","DocumentCard","document","onDelete","formattedDate","typeConfig","IngestionPanel","onIngest","isIngesting","ingestType","setIngestType","setPath","textContent","setTextContent","setTitle","handleSubmit","isFormValid","typeOptions","option","isSelected","SearchResults","results","query","searchTimeMs","onClear","result","KnowledgePage","documents","setDocuments","stats","setStats","searchQuery","setSearchQuery","searchResults","setSearchResults","isSearching","setIsSearching","setIsIngesting","setIsLoading","successMessage","setSuccessMessage","setSearchTimeMs","showIngestion","setShowIngestion","loadData","docsResponse","statsResponse","handleSearch","handleIngest","handleDelete","clearSearch","formatSize","bytes","doc","SettingsSection","description","iconColor","noPadding","ProviderCard","accentColor","config","onSave","onTest","showEndpoint","isEditing","setIsEditing","isTesting","setIsTesting","isSaving","setIsSaving","showKey","setShowKey","formData","setFormData","testResult","setTestResult","handleSave","handleTest","handleCancel","hasApiKey","OllamaIcon","AnthropicIcon","OpenAIIcon","GeminiIcon","ProviderSettings","providers","providerStatus","onUpdateProvider","onTestConnection","PROVIDER_OPTIONS","ModelSettings","defaultProvider","onUpdateDefaultProvider","selectedProvider","setSelectedProvider","hasChanges","setHasChanges","handleProviderChange","providerId","provider","providerConfig","modelName","MoonIcon","SunIcon","THEME_OPTIONS","ThemePreview","theme","ThemeSettings","currentTheme","onUpdateTheme","selectedTheme","setSelectedTheme","reduceMotion","setReduceMotion","highContrast","setHighContrast","handleThemeChange","themeId","useVoiceOutput","rate","pitch","volume","voice","isSpeaking","setIsSpeaking","voices","setVoices","utteranceRef","isSupported","loadVoices","availableVoices","speak","text","utterance","selectedVoice","v","errorMessage","stop","useVoiceInput","onTranscript","onInterim","language","continuous","isListening","setIsListening","interimTranscript","setInterimTranscript","recognitionRef","isManualStopRef","SpeechRecognitionAPI","recognition","interimText","finalText","i","transcript","startListening","stopListening","VoiceSettings","onConfigChange","localConfig","setLocalConfig","testText","setTestText","ttsSupported","sttSupported","handleChange","newConfig","handleTestTTS","englishVoices","otherVoices","SettingsPage","setConfig","setProviderStatus","saveSuccess","setSaveSuccess","loadConfig","configData","statusData","handleUpdateProvider","updatedConfig","keyRequest","showSaveSuccess","handleTestConnection","handleUpdateDefaultProvider","handleUpdateTheme","handleUpdateVoiceConfig","voiceConfig","sendMessageStream","onChunk","onDone","onError","controller","errorText","reader","decoder","buffer","done","lines","line","dataStr","chunk","parseError","readError","fetchError","getConversations","getConversation","deleteConversation","resetMode","conversationId","formatTime","timestamp","date","diffMs","diffMins","diffHours","modeIcons","getModeColor","mode","MessageBubble","isUser","modeId","ModeIcon","modeColor","diffDays","ConversationList","conversations","activeConversationId","onSelectConversation","onDeleteConversation","onNewConversation","conversation","modeColors","ModeIndicator","modeInfo","onReset","showTooltip","setShowTooltip","isNormalMode","ModeTransitionToast","transition","onDismiss","isVisible","setIsVisible","timer","ChatPage","setConversations","setActiveConversationId","messages","setMessages","inputValue","setInputValue","isSending","setIsSending","streamingContent","setStreamingContent","streamingMessageId","setStreamingMessageId","streamingRouting","setStreamingRouting","selectedLane","setSelectedLane","currentMode","setCurrentMode","modeTransition","setModeTransition","messagesEndRef","abortStreamRef","streamingContentRef","streamingMessageIdRef","streamingRoutingRef","currentModeRef","loadConversations","loadConversation","handleNewConversation","handleSelectConversation","handleDeleteConversation","c","handleSendMessage","userMessage","previousMode","newContent","finalMessageId","finalContent","finalRouting","finalMode","assistantMessage","handleResetMode","updatedMode","handleKeyDown","lane","getPersonas","createPersona","updatePersona","deletePersona","previewPersona","QUERY_KEYS","usePersonas","usePersonaPreview","useCreatePersona","useUpdatePersona","previousPersona","_err","context","ctx","updatedPersona","useDeletePersona","previousPersonas","p","_id","PersonaList","personas","persona","trait","IdentityTab","role","background","traits","values","onChange","handleAddTrait","input","handleRemoveTrait","t","handleAddValue","handleRemoveValue","ExpertiseTab","expertise","editingIndex","setEditingIndex","handleAddDomain","newDomain","handleRemoveDomain","_","handleUpdateDomain","field","handleAddSpecialty","specialty","domain","handleRemoveSpecialty","s","handleAddBoundary","boundary","handleRemoveBoundary","StyleTab","style","currentStyle","handleAddPattern","handleRemovePattern","pattern","handleAddAvoid","handleRemoveAvoid","avoid","ModesTab","modes","defaultMode","onDefaultModeChange","expandedMode","setExpandedMode","handleAddMode","handleRemoveMode","handleUpdateMode","handleAddKeyword","keyword","currentKeywords","handleRemoveKeyword","k","isExpanded","PreviewTab","personaId","compiledPrompt","onRefresh","copied","setCopied","handleCopy","PersonaBuilder","isEditMode","activeTab","setActiveTab","createMutation","updateMutation","previewData","refetchPreview","isPreviewLoading","handleFieldChange","handlePreviewRefresh","tabs","tab","PersonasPage","showBuilder","setShowBuilder","editingPersona","setEditingPersona","deleteMutation","builtInPersonas","customPersonas","handleCreate","handleCloseBuilder","QueryClient","ErrorFallback","resetErrorBoundary","App","QueryClientProvider","BrowserRouter","Routes","Route","Navigate","rootElement","StrictMode"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59]}